var Cx=t=>{throw TypeError(t)};var Pm=(t,e,n)=>e.has(t)||Cx("Cannot "+n);var G=(t,e,n)=>(Pm(t,e,"read from private field"),n?n.call(t):e.get(t)),He=(t,e,n)=>e.has(t)?Cx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pe=(t,e,n,r)=>(Pm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Kt=(t,e,n)=>(Pm(t,e,"access private method"),n);var Nd=(t,e,n,r)=>({set _(s){Pe(t,e,s,n)},get _(){return G(t,e,r)}});function zD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KS={exports:{}},rp={},GS={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),WD=Symbol.for("react.portal"),HD=Symbol.for("react.fragment"),qD=Symbol.for("react.strict_mode"),KD=Symbol.for("react.profiler"),GD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),YD=Symbol.for("react.forward_ref"),XD=Symbol.for("react.suspense"),ZD=Symbol.for("react.memo"),JD=Symbol.for("react.lazy"),Sx=Symbol.iterator;function e2(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var QS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YS=Object.assign,XS={};function Ll(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZS(){}ZS.prototype=Ll.prototype;function Uy(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}var By=Uy.prototype=new ZS;By.constructor=Uy;YS(By,Ll.prototype);By.isPureReactComponent=!0;var Tx=Array.isArray,JS=Object.prototype.hasOwnProperty,$y={current:null},eT={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)JS.call(e,r)&&!eT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Vu,type:t,key:i,ref:o,props:s,_owner:$y.current}}function t2(t,e){return{$$typeof:Vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vu}function n2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Px=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n2(""+t.key):e.toString(36)}function mh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vu:case WD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Im(o,0):r,Tx(s)?(n="",t!=null&&(n=t.replace(Px,"$&/")+"/"),mh(s,e,n,"",function(c){return c})):s!=null&&(zy(s)&&(s=t2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Px,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Tx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Im(i,a);o+=mh(i,e,n,l,s)}else if(l=e2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Im(i,a++),o+=mh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Md(t,e,n){if(t==null)return t;var r=[],s=0;return mh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function r2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},gh={transition:null},s2={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:gh,ReactCurrentOwner:$y};function nT(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Md,forEach:function(t,e,n){Md(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Md(t,function(){e++}),e},toArray:function(t){return Md(t,function(e){return e})||[]},only:function(t){if(!zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ll;Ae.Fragment=HD;Ae.Profiler=KD;Ae.PureComponent=Uy;Ae.StrictMode=qD;Ae.Suspense=XD;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2;Ae.act=nT;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$y.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JS.call(e,l)&&!eT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:QD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GD,_context:t},t.Consumer=t};Ae.createElement=tT;Ae.createFactory=function(t){var e=tT.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:YD,render:t}};Ae.isValidElement=zy;Ae.lazy=function(t){return{$$typeof:JD,_payload:{_status:-1,_result:t},_init:r2}};Ae.memo=function(t,e){return{$$typeof:ZD,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=gh.transition;gh.transition={};try{t()}finally{gh.transition=e}};Ae.unstable_act=nT;Ae.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ae.useContext=function(t){return hn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ae.useId=function(){return hn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ae.useRef=function(t){return hn.current.useRef(t)};Ae.useState=function(t){return hn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return hn.current.useTransition()};Ae.version="18.3.1";GS.exports=Ae;var h=GS.exports;const se=qS(h),rT=zD({__proto__:null,default:se},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=h,o2=Symbol.for("react.element"),a2=Symbol.for("react.fragment"),l2=Object.prototype.hasOwnProperty,c2=i2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u2={key:!0,ref:!0,__self:!0,__source:!0};function sT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)l2.call(e,r)&&!u2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:o2,type:t,key:i,ref:o,props:s,_owner:c2.current}}rp.Fragment=a2;rp.jsx=sT;rp.jsxs=sT;KS.exports=rp;var d=KS.exports,iT={exports:{}},qn={},oT={exports:{}},aT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var W=D.length;D.push(j);e:for(;0<W;){var H=W-1>>>1,Z=D[H];if(0<s(Z,j))D[H]=j,D[W]=Z,W=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],W=D.pop();if(W!==j){D[0]=W;e:for(var H=0,Z=D.length,Y=Z>>>1;H<Y;){var ue=2*(H+1)-1,U=D[ue],le=ue+1,ee=D[le];if(0>s(U,W))le<Z&&0>s(ee,U)?(D[H]=ee,D[le]=W,H=le):(D[H]=U,D[ue]=W,H=ue);else if(le<Z&&0>s(ee,W))D[H]=ee,D[le]=W,H=le;else break e}}return j}function s(D,j){var W=D.sortIndex-j.sortIndex;return W!==0?W:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,m=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=D)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function I(D){if(y=!1,b(D),!v)if(n(l)!==null)v=!0,q(k);else{var j=n(c);j!==null&&$(I,j.startTime-D)}}function k(D,j){v=!1,y&&(y=!1,E(S),S=-1),g=!0;var W=p;try{for(b(j),m=n(l);m!==null&&(!(m.expirationTime>j)||D&&!M());){var H=m.callback;if(typeof H=="function"){m.callback=null,p=m.priorityLevel;var Z=H(m.expirationTime<=j);j=t.unstable_now(),typeof Z=="function"?m.callback=Z:m===n(l)&&r(l),b(j)}else r(l);m=n(l)}if(m!==null)var Y=!0;else{var ue=n(c);ue!==null&&$(I,ue.startTime-j),Y=!1}return Y}finally{m=null,p=W,g=!1}}var L=!1,T=null,S=-1,P=5,R=-1;function M(){return!(t.unstable_now()-R<P)}function O(){if(T!==null){var D=t.unstable_now();R=D;var j=!0;try{j=T(!0,D)}finally{j?A():(L=!1,T=null)}}else L=!1}var A;if(typeof _=="function")A=function(){_(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=O,A=function(){X.postMessage(null)}}else A=function(){x(O,0)};function q(D){T=D,L||(L=!0,A())}function $(D,j){S=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,q(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(D,j,W){var H=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?H+W:H):W=H,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,D={id:f++,callback:j,priorityLevel:D,startTime:W,expirationTime:Z,sortIndex:-1},W>H?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(y?(E(S),S=-1):y=!0,$(I,W-H))):(D.sortIndex=Z,e(l,D),v||g||(v=!0,q(k))),D},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(D){var j=p;return function(){var W=p;p=j;try{return D.apply(this,arguments)}finally{p=W}}}})(aT);oT.exports=aT;var d2=oT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2=h,Wn=d2;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lT=new Set,Yc={};function ea(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(Yc[t]=e,t=0;t<e.length;t++)lT.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,f2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ix={},kx={};function p2(t){return $g.call(kx,t)?!0:$g.call(Ix,t)?!1:f2.test(t)?kx[t]=!0:(Ix[t]=!0,!1)}function m2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g2(t,e,n,r){if(e===null||typeof e>"u"||m2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);zt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);zt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wy,Hy);zt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g2(e,n,s,r)&&(n=null),r||s===null?p2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ls=h2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),dT=Symbol.for("react.offscreen"),Rx=Symbol.iterator;function ac(t){return t===null||typeof t!="object"?null:(t=Rx&&t[Rx]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,km;function xc(t){if(km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);km=e&&e[1]||""}return`
`+km+t}var Rm=!1;function Am(t,e){if(!t||Rm)return"";Rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xc(t):""}function v2(t){switch(t.tag){case 5:return xc(t.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Ta:return"Portal";case zg:return"Profiler";case Ky:return"StrictMode";case Wg:return"Suspense";case Hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uT:return(t.displayName||"Context")+".Consumer";case cT:return(t._context.displayName||"Context")+".Provider";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qy:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}function y2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w2(t){var e=hT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Od(t){t._valueTracker||(t._valueTracker=w2(t))}function fT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ax(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pT(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function Gg(t,e){pT(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qg(t,e,n){(e!=="number"||Hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ec=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ec(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function mT(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dd,vT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dd=Dd||document.createElement("div"),Dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_2=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(t){_2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mc[e]=Mc[t]})});function yT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mc.hasOwnProperty(t)&&Mc[t]?(""+e).trim():e+"px"}function wT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var x2=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if(x2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tv=null,$a=null,za=null;function Ox(t){if(t=Bu(t)){if(typeof tv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=lp(e),tv(t.stateNode,t.type,e))}}function _T(t){$a?za?za.push(t):za=[t]:$a=t}function xT(){if($a){var t=$a,e=za;if(za=$a=null,Ox(t),e)for(t=0;t<e.length;t++)Ox(e[t])}}function ET(t,e){return t(e)}function bT(){}var Nm=!1;function CT(t,e,n){if(Nm)return t(e,n);Nm=!0;try{return ET(t,e,n)}finally{Nm=!1,($a!==null||za!==null)&&(bT(),xT())}}function Zc(t,e){var n=t.stateNode;if(n===null)return null;var r=lp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var nv=!1;if(Es)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){nv=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{nv=!1}function E2(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Lc=!1,qh=null,Kh=!1,rv=null,b2={onError:function(t){Lc=!0,qh=t}};function C2(t,e,n,r,s,i,o,a,l){Lc=!1,qh=null,E2.apply(b2,arguments)}function S2(t,e,n,r,s,i,o,a,l){if(C2.apply(this,arguments),Lc){if(Lc){var c=qh;Lc=!1,qh=null}else throw Error(J(198));Kh||(Kh=!0,rv=c)}}function ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ST(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dx(t){if(ta(t)!==t)throw Error(J(188))}function T2(t){var e=t.alternate;if(!e){if(e=ta(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dx(s),t;if(i===r)return Dx(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function TT(t){return t=T2(t),t!==null?PT(t):null}function PT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PT(t);if(e!==null)return e;t=t.sibling}return null}var IT=Wn.unstable_scheduleCallback,jx=Wn.unstable_cancelCallback,P2=Wn.unstable_shouldYield,I2=Wn.unstable_requestPaint,_t=Wn.unstable_now,k2=Wn.unstable_getCurrentPriorityLevel,Xy=Wn.unstable_ImmediatePriority,kT=Wn.unstable_UserBlockingPriority,Gh=Wn.unstable_NormalPriority,R2=Wn.unstable_LowPriority,RT=Wn.unstable_IdlePriority,sp=null,Wr=null;function A2(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(sp,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:L2,N2=Math.log,M2=Math.LN2;function L2(t){return t>>>=0,t===0?32:31-(N2(t)/M2|0)|0}var jd=64,Vd=4194304;function bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=bc(a):(i&=o,i!==0&&(r=bc(i)))}else o=n&~s,o!==0?r=bc(o):i!==0&&(r=bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),s=1<<n,r|=t[n],e&=~s;return r}function O2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=O2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AT(){var t=jd;return jd<<=1,!(jd&4194240)&&(jd=64),t}function Mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function j2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Qe=0;function NT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MT,Jy,LT,OT,DT,iv=!1,Fd=[],bi=null,Ci=null,Si=null,Jc=new Map,eu=new Map,oi=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function cc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bu(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function F2(t,e,n,r,s){switch(e){case"focusin":return bi=cc(bi,t,e,n,r,s),!0;case"dragenter":return Ci=cc(Ci,t,e,n,r,s),!0;case"mouseover":return Si=cc(Si,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jc.set(i,cc(Jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eu.set(i,cc(eu.get(i)||null,t,e,n,r,s)),!0}return!1}function jT(t){var e=Co(t.target);if(e!==null){var n=ta(e);if(n!==null){if(e=n.tag,e===13){if(e=ST(n),e!==null){t.blockedOn=e,DT(t.priority,function(){LT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ov(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ev=r,n.target.dispatchEvent(r),ev=null}else return e=Bu(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function Fx(t,e,n){vh(t)&&n.delete(e)}function U2(){iv=!1,bi!==null&&vh(bi)&&(bi=null),Ci!==null&&vh(Ci)&&(Ci=null),Si!==null&&vh(Si)&&(Si=null),Jc.forEach(Fx),eu.forEach(Fx)}function uc(t,e){t.blockedOn===e&&(t.blockedOn=null,iv||(iv=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,U2)))}function tu(t){function e(s){return uc(s,t)}if(0<Fd.length){uc(Fd[0],t);for(var n=1;n<Fd.length;n++){var r=Fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bi!==null&&uc(bi,t),Ci!==null&&uc(Ci,t),Si!==null&&uc(Si,t),Jc.forEach(e),eu.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)jT(n),n.blockedOn===null&&oi.shift()}var Wa=Ls.ReactCurrentBatchConfig,Yh=!0;function B2(t,e,n,r){var s=Qe,i=Wa.transition;Wa.transition=null;try{Qe=1,ew(t,e,n,r)}finally{Qe=s,Wa.transition=i}}function $2(t,e,n,r){var s=Qe,i=Wa.transition;Wa.transition=null;try{Qe=4,ew(t,e,n,r)}finally{Qe=s,Wa.transition=i}}function ew(t,e,n,r){if(Yh){var s=ov(t,e,n,r);if(s===null)zm(t,e,r,Xh,n),Vx(t,r);else if(F2(s,t,e,n,r))r.stopPropagation();else if(Vx(t,r),e&4&&-1<V2.indexOf(t)){for(;s!==null;){var i=Bu(s);if(i!==null&&MT(i),i=ov(t,e,n,r),i===null&&zm(t,e,r,Xh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zm(t,e,r,null,n)}}var Xh=null;function ov(t,e,n,r){if(Xh=null,t=Yy(r),t=Co(t),t!==null)if(e=ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ST(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function VT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k2()){case Xy:return 1;case kT:return 4;case Gh:case R2:return 16;case RT:return 536870912;default:return 16}default:return 16}}var yi=null,tw=null,yh=null;function FT(){if(yh)return yh;var t,e=tw,n=e.length,r,s="value"in yi?yi.value:yi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yh=s.slice(t,1<r?1-r:void 0)}function wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function Ux(){return!1}function Kn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ud:Ux,this.isPropagationStopped=Ux,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=Kn(Ol),Uu=dt({},Ol,{view:0,detail:0}),z2=Kn(Uu),Lm,Om,dc,ip=dt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dc&&(dc&&t.type==="mousemove"?(Lm=t.screenX-dc.screenX,Om=t.screenY-dc.screenY):Om=Lm=0,dc=t),Lm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),Bx=Kn(ip),W2=dt({},ip,{dataTransfer:0}),H2=Kn(W2),q2=dt({},Uu,{relatedTarget:0}),Dm=Kn(q2),K2=dt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),G2=Kn(K2),Q2=dt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y2=Kn(Q2),X2=dt({},Ol,{data:0}),$x=Kn(X2),Z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ej[t])?!!e[t]:!1}function rw(){return tj}var nj=dt({},Uu,{key:function(t){if(t.key){var e=Z2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rw,charCode:function(t){return t.type==="keypress"?wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rj=Kn(nj),sj=dt({},ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=Kn(sj),ij=dt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rw}),oj=Kn(ij),aj=dt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),lj=Kn(aj),cj=dt({},ip,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uj=Kn(cj),dj=[9,13,27,32],sw=Es&&"CompositionEvent"in window,Oc=null;Es&&"documentMode"in document&&(Oc=document.documentMode);var hj=Es&&"TextEvent"in window&&!Oc,UT=Es&&(!sw||Oc&&8<Oc&&11>=Oc),Wx=" ",Hx=!1;function BT(t,e){switch(t){case"keyup":return dj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function fj(t,e){switch(t){case"compositionend":return $T(e);case"keypress":return e.which!==32?null:(Hx=!0,Wx);case"textInput":return t=e.data,t===Wx&&Hx?null:t;default:return null}}function pj(t,e){if(Ia)return t==="compositionend"||!sw&&BT(t,e)?(t=FT(),yh=tw=yi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UT&&e.locale!=="ko"?null:e.data;default:return null}}var mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mj[t.type]:e==="textarea"}function zT(t,e,n,r){_T(r),e=Zh(e,"onChange"),0<e.length&&(n=new nw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dc=null,nu=null;function gj(t){eP(t,0)}function op(t){var e=Aa(t);if(fT(e))return t}function vj(t,e){if(t==="change")return e}var WT=!1;if(Es){var jm;if(Es){var Vm="oninput"in document;if(!Vm){var Kx=document.createElement("div");Kx.setAttribute("oninput","return;"),Vm=typeof Kx.oninput=="function"}jm=Vm}else jm=!1;WT=jm&&(!document.documentMode||9<document.documentMode)}function Gx(){Dc&&(Dc.detachEvent("onpropertychange",HT),nu=Dc=null)}function HT(t){if(t.propertyName==="value"&&op(nu)){var e=[];zT(e,nu,t,Yy(t)),CT(gj,e)}}function yj(t,e,n){t==="focusin"?(Gx(),Dc=e,nu=n,Dc.attachEvent("onpropertychange",HT)):t==="focusout"&&Gx()}function wj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(nu)}function _j(t,e){if(t==="click")return op(e)}function xj(t,e){if(t==="input"||t==="change")return op(e)}function Ej(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:Ej;function ru(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$g.call(e,s)||!Er(t[s],e[s]))return!1}return!0}function Qx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yx(t,e){var n=Qx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qx(n)}}function qT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=Hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hh(t.document)}return e}function iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bj(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qT(n.ownerDocument.documentElement,n)){if(r!==null&&iw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yx(n,i);var o=Yx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cj=Es&&"documentMode"in document&&11>=document.documentMode,ka=null,av=null,jc=null,lv=!1;function Xx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lv||ka==null||ka!==Hh(r)||(r=ka,"selectionStart"in r&&iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jc&&ru(jc,r)||(jc=r,r=Zh(av,"onSelect"),0<r.length&&(e=new nw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ka)))}function Bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ra={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},Fm={},GT={};Es&&(GT=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function ap(t){if(Fm[t])return Fm[t];if(!Ra[t])return t;var e=Ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GT)return Fm[t]=e[n];return t}var QT=ap("animationend"),YT=ap("animationiteration"),XT=ap("animationstart"),ZT=ap("transitionend"),JT=new Map,Zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){JT.set(t,e),ea(e,[t])}for(var Um=0;Um<Zx.length;Um++){var Bm=Zx[Um],Sj=Bm.toLowerCase(),Tj=Bm[0].toUpperCase()+Bm.slice(1);Ji(Sj,"on"+Tj)}Ji(QT,"onAnimationEnd");Ji(YT,"onAnimationIteration");Ji(XT,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(ZT,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function Jx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S2(r,e,void 0,t),t.currentTarget=null}function eP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jx(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jx(s,a,c),i=l}}}if(Kh)throw t=rv,Kh=!1,rv=null,t}function rt(t,e){var n=e[fv];n===void 0&&(n=e[fv]=new Set);var r=t+"__bubble";n.has(r)||(tP(e,t,2,!1),n.add(r))}function $m(t,e,n){var r=0;e&&(r|=4),tP(n,t,r,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[$d]){t[$d]=!0,lT.forEach(function(n){n!=="selectionchange"&&(Pj.has(n)||$m(n,!1,t),$m(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$d]||(e[$d]=!0,$m("selectionchange",!1,e))}}function tP(t,e,n,r){switch(VT(e)){case 1:var s=B2;break;case 4:s=$2;break;default:s=ew}n=s.bind(null,e,n,t),s=void 0,!nv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Co(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}CT(function(){var c=i,f=Yy(n),m=[];e:{var p=JT.get(t);if(p!==void 0){var g=nw,v=t;switch(t){case"keypress":if(wh(n)===0)break e;case"keydown":case"keyup":g=rj;break;case"focusin":v="focus",g=Dm;break;case"focusout":v="blur",g=Dm;break;case"beforeblur":case"afterblur":g=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=H2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=oj;break;case QT:case YT:case XT:g=G2;break;case ZT:g=lj;break;case"scroll":g=z2;break;case"wheel":g=uj;break;case"copy":case"cut":case"paste":g=Y2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zx}var y=(e&4)!==0,x=!y&&t==="scroll",E=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,b;_!==null;){b=_;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,E!==null&&(I=Zc(_,E),I!=null&&y.push(iu(_,I,b)))),x)break;_=_.return}0<y.length&&(p=new g(p,v,null,n,f),m.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ev&&(v=n.relatedTarget||n.fromElement)&&(Co(v)||v[bs]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Co(v):null,v!==null&&(x=ta(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=Bx,I="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=zx,I="onPointerLeave",E="onPointerEnter",_="pointer"),x=g==null?p:Aa(g),b=v==null?p:Aa(v),p=new y(I,_+"leave",g,n,f),p.target=x,p.relatedTarget=b,I=null,Co(f)===c&&(y=new y(E,_+"enter",v,n,f),y.target=b,y.relatedTarget=x,I=y),x=I,g&&v)t:{for(y=g,E=v,_=0,b=y;b;b=va(b))_++;for(b=0,I=E;I;I=va(I))b++;for(;0<_-b;)y=va(y),_--;for(;0<b-_;)E=va(E),b--;for(;_--;){if(y===E||E!==null&&y===E.alternate)break t;y=va(y),E=va(E)}y=null}else y=null;g!==null&&eE(m,p,g,y,!1),v!==null&&x!==null&&eE(m,x,v,y,!0)}}e:{if(p=c?Aa(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=vj;else if(qx(p))if(WT)k=xj;else{k=wj;var L=yj}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=_j);if(k&&(k=k(t,c))){zT(m,k,n,f);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Qg(p,"number",p.value)}switch(L=c?Aa(c):window,t){case"focusin":(qx(L)||L.contentEditable==="true")&&(ka=L,av=c,jc=null);break;case"focusout":jc=av=ka=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,Xx(m,n,f);break;case"selectionchange":if(Cj)break;case"keydown":case"keyup":Xx(m,n,f)}var T;if(sw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ia?BT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(UT&&n.locale!=="ko"&&(Ia||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ia&&(T=FT()):(yi=f,tw="value"in yi?yi.value:yi.textContent,Ia=!0)),L=Zh(c,S),0<L.length&&(S=new $x(S,t,null,n,f),m.push({event:S,listeners:L}),T?S.data=T:(T=$T(n),T!==null&&(S.data=T)))),(T=hj?fj(t,n):pj(t,n))&&(c=Zh(c,"onBeforeInput"),0<c.length&&(f=new $x("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=T))}eP(m,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zc(t,n),i!=null&&r.unshift(iu(t,i,s)),i=Zc(t,e),i!=null&&r.push(iu(t,i,s))),t=t.return}return r}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Zc(n,i),l!=null&&o.unshift(iu(n,l,a))):s||(l=Zc(n,i),l!=null&&o.push(iu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ij=/\r\n?/g,kj=/\u0000|\uFFFD/g;function tE(t){return(typeof t=="string"?t:""+t).replace(Ij,`
`).replace(kj,"")}function zd(t,e,n){if(e=tE(e),tE(t)!==e&&n)throw Error(J(425))}function Jh(){}var cv=null,uv=null;function dv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,Rj=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,Aj=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(t){return nE.resolve(null).then(t).catch(Nj)}:hv;function Nj(t){setTimeout(function(){throw t})}function Wm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tu(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Dl,ou="__reactProps$"+Dl,bs="__reactContainer$"+Dl,fv="__reactEvents$"+Dl,Mj="__reactListeners$"+Dl,Lj="__reactHandles$"+Dl;function Co(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bs]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rE(t);t!==null;){if(n=t[Vr])return n;t=rE(t)}return e}t=n,n=t.parentNode}return null}function Bu(t){return t=t[Vr]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function lp(t){return t[ou]||null}var pv=[],Na=-1;function eo(t){return{current:t}}function it(t){0>Na||(t.current=pv[Na],pv[Na]=null,Na--)}function Ze(t,e){Na++,pv[Na]=t.current,t.current=e}var Vi={},tn=eo(Vi),En=eo(!1),Oo=Vi;function hl(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bn(t){return t=t.childContextTypes,t!=null}function ef(){it(En),it(tn)}function sE(t,e,n){if(tn.current!==Vi)throw Error(J(168));Ze(tn,e),Ze(En,n)}function nP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,y2(t)||"Unknown",s));return dt({},n,r)}function tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Oo=tn.current,Ze(tn,t),Ze(En,En.current),!0}function iE(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=nP(t,e,Oo),r.__reactInternalMemoizedMergedChildContext=t,it(En),it(tn),Ze(tn,t)):it(En),Ze(En,n)}var hs=null,cp=!1,Hm=!1;function rP(t){hs===null?hs=[t]:hs.push(t)}function Oj(t){cp=!0,rP(t)}function to(){if(!Hm&&hs!==null){Hm=!0;var t=0,e=Qe;try{var n=hs;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,cp=!1}catch(s){throw hs!==null&&(hs=hs.slice(t+1)),IT(Xy,to),s}finally{Qe=e,Hm=!1}}return null}var Ma=[],La=0,nf=null,rf=0,Jn=[],er=0,Do=null,ps=1,ms="";function wo(t,e){Ma[La++]=rf,Ma[La++]=nf,nf=t,rf=e}function sP(t,e,n){Jn[er++]=ps,Jn[er++]=ms,Jn[er++]=Do,Do=t;var r=ps;t=ms;var s=32-wr(r)-1;r&=~(1<<s),n+=1;var i=32-wr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ps=1<<32-wr(e)+s|n<<s|r,ms=i+t}else ps=1<<i|n<<s|r,ms=t}function ow(t){t.return!==null&&(wo(t,1),sP(t,1,0))}function aw(t){for(;t===nf;)nf=Ma[--La],Ma[La]=null,rf=Ma[--La],Ma[La]=null;for(;t===Do;)Do=Jn[--er],Jn[er]=null,ms=Jn[--er],Jn[er]=null,ps=Jn[--er],Jn[er]=null}var Bn=null,Vn=null,ot=!1,mr=null;function iP(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Do!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Vn=null,!0):!1;default:return!1}}function mv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gv(t){if(ot){var e=Vn;if(e){var n=e;if(!oE(t,e)){if(mv(t))throw Error(J(418));e=Ti(n.nextSibling);var r=Bn;e&&oE(t,e)?iP(r,n):(t.flags=t.flags&-4097|2,ot=!1,Bn=t)}}else{if(mv(t))throw Error(J(418));t.flags=t.flags&-4097|2,ot=!1,Bn=t}}}function aE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Wd(t){if(t!==Bn)return!1;if(!ot)return aE(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dv(t.type,t.memoizedProps)),e&&(e=Vn)){if(mv(t))throw oP(),Error(J(418));for(;e;)iP(t,e),e=Ti(e.nextSibling)}if(aE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Bn?Ti(t.stateNode.nextSibling):null;return!0}function oP(){for(var t=Vn;t;)t=Ti(t.nextSibling)}function fl(){Vn=Bn=null,ot=!1}function lw(t){mr===null?mr=[t]:mr.push(t)}var Dj=Ls.ReactCurrentBatchConfig;function hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lE(t){var e=t._init;return e(t._payload)}function aP(t){function e(E,_){if(t){var b=E.deletions;b===null?(E.deletions=[_],E.flags|=16):b.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Ri(E,_),E.index=0,E.sibling=null,E}function i(E,_,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<_?(E.flags|=2,_):b):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,b,I){return _===null||_.tag!==6?(_=Zm(b,E.mode,I),_.return=E,_):(_=s(_,b),_.return=E,_)}function l(E,_,b,I){var k=b.type;return k===Pa?f(E,_,b.props.children,I,b.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ri&&lE(k)===_.type)?(I=s(_,b.props),I.ref=hc(E,_,b),I.return=E,I):(I=Th(b.type,b.key,b.props,null,E.mode,I),I.ref=hc(E,_,b),I.return=E,I)}function c(E,_,b,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Jm(b,E.mode,I),_.return=E,_):(_=s(_,b.children||[]),_.return=E,_)}function f(E,_,b,I,k){return _===null||_.tag!==7?(_=Mo(b,E.mode,I,k),_.return=E,_):(_=s(_,b),_.return=E,_)}function m(E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zm(""+_,E.mode,b),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:return b=Th(_.type,_.key,_.props,null,E.mode,b),b.ref=hc(E,null,_),b.return=E,b;case Ta:return _=Jm(_,E.mode,b),_.return=E,_;case ri:var I=_._init;return m(E,I(_._payload),b)}if(Ec(_)||ac(_))return _=Mo(_,E.mode,b,null),_.return=E,_;Hd(E,_)}return null}function p(E,_,b,I){var k=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(E,_,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ld:return b.key===k?l(E,_,b,I):null;case Ta:return b.key===k?c(E,_,b,I):null;case ri:return k=b._init,p(E,_,k(b._payload),I)}if(Ec(b)||ac(b))return k!==null?null:f(E,_,b,I,null);Hd(E,b)}return null}function g(E,_,b,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(b)||null,a(_,E,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ld:return E=E.get(I.key===null?b:I.key)||null,l(_,E,I,k);case Ta:return E=E.get(I.key===null?b:I.key)||null,c(_,E,I,k);case ri:var L=I._init;return g(E,_,b,L(I._payload),k)}if(Ec(I)||ac(I))return E=E.get(b)||null,f(_,E,I,k,null);Hd(_,I)}return null}function v(E,_,b,I){for(var k=null,L=null,T=_,S=_=0,P=null;T!==null&&S<b.length;S++){T.index>S?(P=T,T=null):P=T.sibling;var R=p(E,T,b[S],I);if(R===null){T===null&&(T=P);break}t&&T&&R.alternate===null&&e(E,T),_=i(R,_,S),L===null?k=R:L.sibling=R,L=R,T=P}if(S===b.length)return n(E,T),ot&&wo(E,S),k;if(T===null){for(;S<b.length;S++)T=m(E,b[S],I),T!==null&&(_=i(T,_,S),L===null?k=T:L.sibling=T,L=T);return ot&&wo(E,S),k}for(T=r(E,T);S<b.length;S++)P=g(T,E,S,b[S],I),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?S:P.key),_=i(P,_,S),L===null?k=P:L.sibling=P,L=P);return t&&T.forEach(function(M){return e(E,M)}),ot&&wo(E,S),k}function y(E,_,b,I){var k=ac(b);if(typeof k!="function")throw Error(J(150));if(b=k.call(b),b==null)throw Error(J(151));for(var L=k=null,T=_,S=_=0,P=null,R=b.next();T!==null&&!R.done;S++,R=b.next()){T.index>S?(P=T,T=null):P=T.sibling;var M=p(E,T,R.value,I);if(M===null){T===null&&(T=P);break}t&&T&&M.alternate===null&&e(E,T),_=i(M,_,S),L===null?k=M:L.sibling=M,L=M,T=P}if(R.done)return n(E,T),ot&&wo(E,S),k;if(T===null){for(;!R.done;S++,R=b.next())R=m(E,R.value,I),R!==null&&(_=i(R,_,S),L===null?k=R:L.sibling=R,L=R);return ot&&wo(E,S),k}for(T=r(E,T);!R.done;S++,R=b.next())R=g(T,E,S,R.value,I),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?S:R.key),_=i(R,_,S),L===null?k=R:L.sibling=R,L=R);return t&&T.forEach(function(O){return e(E,O)}),ot&&wo(E,S),k}function x(E,_,b,I){if(typeof b=="object"&&b!==null&&b.type===Pa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ld:e:{for(var k=b.key,L=_;L!==null;){if(L.key===k){if(k=b.type,k===Pa){if(L.tag===7){n(E,L.sibling),_=s(L,b.props.children),_.return=E,E=_;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ri&&lE(k)===L.type){n(E,L.sibling),_=s(L,b.props),_.ref=hc(E,L,b),_.return=E,E=_;break e}n(E,L);break}else e(E,L);L=L.sibling}b.type===Pa?(_=Mo(b.props.children,E.mode,I,b.key),_.return=E,E=_):(I=Th(b.type,b.key,b.props,null,E.mode,I),I.ref=hc(E,_,b),I.return=E,E=I)}return o(E);case Ta:e:{for(L=b.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(E,_.sibling),_=s(_,b.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Jm(b,E.mode,I),_.return=E,E=_}return o(E);case ri:return L=b._init,x(E,_,L(b._payload),I)}if(Ec(b))return v(E,_,b,I);if(ac(b))return y(E,_,b,I);Hd(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,b),_.return=E,E=_):(n(E,_),_=Zm(b,E.mode,I),_.return=E,E=_),o(E)):n(E,_)}return x}var pl=aP(!0),lP=aP(!1),sf=eo(null),of=null,Oa=null,cw=null;function uw(){cw=Oa=of=null}function dw(t){var e=sf.current;it(sf),t._currentValue=e}function vv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ha(t,e){of=t,cw=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(cw!==t)if(t={context:t,memoizedValue:e,next:null},Oa===null){if(of===null)throw Error(J(308));Oa=t,of.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return e}var So=null;function hw(t){So===null?So=[t]:So.push(t)}function cP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Cs(t,r)}function Cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Cs(t,n)}return s=r.interleaved,s===null?(e.next=e,hw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Cs(t,n)}function _h(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}function cE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function af(t,e,n,r){var s=t.updateQueue;si=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,f=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){m=v.call(g,m,p);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,m,p):v,p==null)break e;m=dt({},m,p);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,l=m):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vo|=o,t.lanes=o,t.memoizedState=m}}function uE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var $u={},Hr=eo($u),au=eo($u),lu=eo($u);function To(t){if(t===$u)throw Error(J(174));return t}function pw(t,e){switch(Ze(lu,e),Ze(au,t),Ze(Hr,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}it(Hr),Ze(Hr,e)}function ml(){it(Hr),it(au),it(lu)}function dP(t){To(lu.current);var e=To(Hr.current),n=Xg(e,t.type);e!==n&&(Ze(au,t),Ze(Hr,n))}function mw(t){au.current===t&&(it(Hr),it(au))}var ct=eo(0);function lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function gw(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var xh=Ls.ReactCurrentDispatcher,Km=Ls.ReactCurrentBatchConfig,jo=0,ut=null,Pt=null,Lt=null,cf=!1,Vc=!1,cu=0,jj=0;function Gt(){throw Error(J(321))}function vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,s,i){if(jo=i,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?Bj:$j,t=n(r,s),Vc){i=0;do{if(Vc=!1,cu=0,25<=i)throw Error(J(301));i+=1,Lt=Pt=null,e.updateQueue=null,xh.current=zj,t=n(r,s)}while(Vc)}if(xh.current=uf,e=Pt!==null&&Pt.next!==null,jo=0,Lt=Pt=ut=null,cf=!1,e)throw Error(J(300));return t}function ww(){var t=cu!==0;return cu=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ut.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function or(){if(Pt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Lt===null?ut.memoizedState:Lt.next;if(e!==null)Lt=e,Pt=t;else{if(t===null)throw Error(J(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?ut.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function uu(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=or(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((jo&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,ut.lanes|=f,Vo|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Er(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ut.lanes|=i,Vo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qm(t){var e=or(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Er(i,e.memoizedState)||(_n=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hP(){}function fP(t,e){var n=ut,r=or(),s=e(),i=!Er(r.memoizedState,s);if(i&&(r.memoizedState=s,_n=!0),r=r.queue,_w(gP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,du(9,mP.bind(null,n,r,s,e),void 0,null),Dt===null)throw Error(J(349));jo&30||pP(n,e,s)}return s}function pP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mP(t,e,n,r){e.value=n,e.getSnapshot=r,vP(e)&&yP(t)}function gP(t,e,n){return n(function(){vP(e)&&yP(t)})}function vP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function yP(t){var e=Cs(t,1);e!==null&&_r(e,t,1,-1)}function dE(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=Uj.bind(null,ut,t),[e.memoizedState,t]}function du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wP(){return or().memoizedState}function Eh(t,e,n,r){var s=Mr();ut.flags|=t,s.memoizedState=du(1|e,n,void 0,r===void 0?null:r)}function up(t,e,n,r){var s=or();r=r===void 0?null:r;var i=void 0;if(Pt!==null){var o=Pt.memoizedState;if(i=o.destroy,r!==null&&vw(r,o.deps)){s.memoizedState=du(e,n,i,r);return}}ut.flags|=t,s.memoizedState=du(1|e,n,i,r)}function hE(t,e){return Eh(8390656,8,t,e)}function _w(t,e){return up(2048,8,t,e)}function _P(t,e){return up(4,2,t,e)}function xP(t,e){return up(4,4,t,e)}function EP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bP(t,e,n){return n=n!=null?n.concat([t]):null,up(4,4,EP.bind(null,e,t),n)}function xw(){}function CP(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SP(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TP(t,e,n){return jo&21?(Er(n,e)||(n=AT(),ut.lanes|=n,Vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function Vj(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Km.transition;Km.transition={};try{t(!1),e()}finally{Qe=n,Km.transition=r}}function PP(){return or().memoizedState}function Fj(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IP(t))kP(e,n);else if(n=cP(t,e,n,r),n!==null){var s=dn();_r(n,t,r,s),RP(n,e,r)}}function Uj(t,e,n){var r=ki(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IP(t))kP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Er(a,o)){var l=e.interleaved;l===null?(s.next=s,hw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=cP(t,e,s,r),n!==null&&(s=dn(),_r(n,t,r,s),RP(n,e,r))}}function IP(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function kP(t,e){Vc=cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}var uf={readContext:ir,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Bj={readContext:ir,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:hE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eh(4194308,4,EP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eh(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fj.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:dE,useDebugValue:xw,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=dE(!1),e=t[0];return t=Vj.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,s=Mr();if(ot){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Dt===null)throw Error(J(349));jo&30||pP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,hE(gP.bind(null,r,i,t),[t]),r.flags|=2048,du(9,mP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Dt.identifierPrefix;if(ot){var n=ms,r=ps;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$j={readContext:ir,useCallback:CP,useContext:ir,useEffect:_w,useImperativeHandle:bP,useInsertionEffect:_P,useLayoutEffect:xP,useMemo:SP,useReducer:Gm,useRef:wP,useState:function(){return Gm(uu)},useDebugValue:xw,useDeferredValue:function(t){var e=or();return TP(e,Pt.memoizedState,t)},useTransition:function(){var t=Gm(uu)[0],e=or().memoizedState;return[t,e]},useMutableSource:hP,useSyncExternalStore:fP,useId:PP,unstable_isNewReconciler:!1},zj={readContext:ir,useCallback:CP,useContext:ir,useEffect:_w,useImperativeHandle:bP,useInsertionEffect:_P,useLayoutEffect:xP,useMemo:SP,useReducer:Qm,useRef:wP,useState:function(){return Qm(uu)},useDebugValue:xw,useDeferredValue:function(t){var e=or();return Pt===null?e.memoizedState=t:TP(e,Pt.memoizedState,t)},useTransition:function(){var t=Qm(uu)[0],e=or().memoizedState;return[t,e]},useMutableSource:hP,useSyncExternalStore:fP,useId:PP,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dp={isMounted:function(t){return(t=t._reactInternals)?ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),s=ki(t),i=ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(_r(e,t,s,r),_h(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),s=ki(t),i=ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(_r(e,t,s,r),_h(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=ki(t),s=ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=Pi(t,s,r),e!==null&&(_r(e,t,r,n),_h(e,t,r))}};function fE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(s,i):!0}function AP(t,e,n){var r=!1,s=Vi,i=e.contextType;return typeof i=="object"&&i!==null?i=ir(i):(s=bn(e)?Oo:tn.current,r=e.contextTypes,i=(r=r!=null)?hl(t,s):Vi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dp.enqueueReplaceState(e,e.state,null)}function wv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ir(i):(i=bn(e)?Oo:tn.current,s.context=hl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dp.enqueueReplaceState(s,s.state,null),af(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function gl(t,e){try{var n="",r=e;do n+=v2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wj=typeof WeakMap=="function"?WeakMap:Map;function NP(t,e,n){n=ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hf||(hf=!0,Rv=r),_v(t,e)},n}function MP(t,e,n){n=ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_v(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_v(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sV.bind(null,t,e,n),e.then(t,t))}function gE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ys(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var Hj=Ls.ReactCurrentOwner,_n=!1;function ln(t,e,n,r){e.child=t===null?lP(e,null,n,r):pl(e,t.child,n,r)}function yE(t,e,n,r,s){n=n.render;var i=e.ref;return Ha(e,s),r=yw(t,e,n,r,i,s),n=ww(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ss(t,e,s)):(ot&&n&&ow(e),e.flags|=1,ln(t,e,r,s),e.child)}function wE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,LP(t,e,i,r,s)):(t=Th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(o,r)&&t.ref===e.ref)return Ss(t,e,s)}return e.flags|=1,t=Ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function LP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ru(i,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Ss(t,e,s)}return xv(t,e,n,r,s)}function OP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ja,Ln),Ln|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ja,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ja,Ln),Ln|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(ja,Ln),Ln|=r;return ln(t,e,s,n),e.child}function DP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,n,r,s){var i=bn(n)?Oo:tn.current;return i=hl(e,i),Ha(e,s),n=yw(t,e,n,r,i,s),r=ww(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ss(t,e,s)):(ot&&r&&ow(e),e.flags|=1,ln(t,e,n,s),e.child)}function _E(t,e,n,r,s){if(bn(n)){var i=!0;tf(e)}else i=!1;if(Ha(e,s),e.stateNode===null)bh(t,e),AP(e,n,r),wv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ir(c):(c=bn(n)?Oo:tn.current,c=hl(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&pE(e,o,r,c),si=!1;var p=e.memoizedState;o.state=p,af(e,r,o,s),l=e.memoizedState,a!==r||p!==l||En.current||si?(typeof f=="function"&&(yv(e,n,f,r),l=e.memoizedState),(a=si||fE(e,n,a,r,p,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dr(e.type,a),o.props=c,m=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=bn(n)?Oo:tn.current,l=hl(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==l)&&pE(e,o,r,l),si=!1,p=e.memoizedState,o.state=p,af(e,r,o,s);var v=e.memoizedState;a!==m||p!==v||En.current||si?(typeof g=="function"&&(yv(e,n,g,r),v=e.memoizedState),(c=si||fE(e,n,c,r,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ev(t,e,n,r,i,s)}function Ev(t,e,n,r,s,i){DP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&iE(e,n,!1),Ss(t,e,i);r=e.stateNode,Hj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pl(e,t.child,null,i),e.child=pl(e,null,a,i)):ln(t,e,a,i),e.memoizedState=r.state,s&&iE(e,n,!0),e.child}function jP(t){var e=t.stateNode;e.pendingContext?sE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sE(t,e.context,!1),pw(t,e.containerInfo)}function xE(t,e,n,r,s){return fl(),lw(s),e.flags|=256,ln(t,e,n,r),e.child}var bv={dehydrated:null,treeContext:null,retryLane:0};function Cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function VP(t,e,n){var r=e.pendingProps,s=ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ct,s&1),t===null)return gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pp(o,r,0,null),t=Mo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cv(n),e.memoizedState=bv,t):Ew(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ri(a,i):(i=Mo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bv,r}return i=t.child,t=i.sibling,r=Ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ew(t,e){return e=pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&lw(r),pl(e,t.child,null,n),t=Ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(J(422))),qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pp({mode:"visible",children:r.children},s,0,null),i=Mo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pl(e,t.child,null,o),e.child.memoizedState=Cv(o),e.memoizedState=bv,i);if(!(e.mode&1))return qd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(J(419)),r=Ym(i,r,void 0),qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cs(t,s),_r(r,t,s,-1))}return Iw(),r=Ym(Error(J(421))),qd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vn=Ti(s.nextSibling),Bn=e,ot=!0,mr=null,t!==null&&(Jn[er++]=ps,Jn[er++]=ms,Jn[er++]=Do,ps=t.id,ms=t.overflow,Do=e),e=Ew(e,r.children),e.flags|=4096,e)}function EE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vv(t.return,e,n)}function Xm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function FP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ln(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EE(t,n,e);else if(t.tag===19)EE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xm(e,!0,n,null,i);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kj(t,e,n){switch(e.tag){case 3:jP(e),fl();break;case 5:dP(e);break;case 1:bn(e.type)&&tf(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(sf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?VP(t,e,n):(Ze(ct,ct.current&1),t=Ss(t,e,n),t!==null?t.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,OP(t,e,n)}return Ss(t,e,n)}var UP,Sv,BP,$P;UP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sv=function(){};BP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,To(Hr.current);var i=null;switch(n){case"input":s=Kg(t,s),r=Kg(t,r),i=[];break;case"select":s=dt({},s,{value:void 0}),r=dt({},r,{value:void 0}),i=[];break;case"textarea":s=Yg(t,s),r=Yg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jh)}Zg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};$P=function(t,e,n,r){n!==r&&(e.flags|=4)};function fc(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gj(t,e,n){var r=e.pendingProps;switch(aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return bn(e.type)&&ef(),Qt(e),null;case 3:return r=e.stateNode,ml(),it(En),it(tn),gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(Mv(mr),mr=null))),Sv(t,e),Qt(e),null;case 5:mw(e);var s=To(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)BP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Qt(e),null}if(t=To(Hr.current),Wd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vr]=e,r[ou]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<Cc.length;s++)rt(Cc[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Ax(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":Mx(r,i),rt("invalid",r)}Zg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),s=["children",""+a]):Yc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":Od(r),Nx(r,i,!0);break;case"textarea":Od(r),Lx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vr]=e,t[ou]=r,UP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jg(n,r),n){case"dialog":rt("cancel",t),rt("close",t),s=r;break;case"iframe":case"object":case"embed":rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cc.length;s++)rt(Cc[s],t);s=r;break;case"source":rt("error",t),s=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),s=r;break;case"details":rt("toggle",t),s=r;break;case"input":Ax(t,r),s=Kg(t,r),rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=dt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Mx(t,r),s=Yg(t,r),rt("invalid",t);break;default:s=r}Zg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xc(t,l):typeof l=="number"&&Xc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&rt("scroll",t):l!=null&&qy(t,i,l,o))}switch(n){case"input":Od(t),Nx(t,r,!1);break;case"textarea":Od(t),Lx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ba(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)$P(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=To(lu.current),To(Hr.current),Wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(i=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:zd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return Qt(e),null;case 13:if(it(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Vn!==null&&e.mode&1&&!(e.flags&128))oP(),fl(),e.flags|=98560,i=!1;else if(i=Wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Vr]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),i=!1}else mr!==null&&(Mv(mr),mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?It===0&&(It=3):Iw())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return ml(),Sv(t,e),t===null&&su(e.stateNode.containerInfo),Qt(e),null;case 10:return dw(e.type._context),Qt(e),null;case 17:return bn(e.type)&&ef(),Qt(e),null;case 19:if(it(ct),i=e.memoizedState,i===null)return Qt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fc(i,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lf(t),o!==null){for(e.flags|=128,fc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&_t()>vl&&(e.flags|=128,r=!0,fc(i,!1),e.lanes=4194304)}else{if(!r)if(t=lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return Qt(e),null}else 2*_t()-i.renderingStartTime>vl&&n!==1073741824&&(e.flags|=128,r=!0,fc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Qj(t,e){switch(aw(e),e.tag){case 1:return bn(e.type)&&ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ml(),it(En),it(tn),gw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mw(e),null;case 13:if(it(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ct),null;case 4:return ml(),null;case 10:return dw(e.type._context),null;case 22:case 23:return Pw(),null;case 24:return null;default:return null}}var Kd=!1,Jt=!1,Yj=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function Tv(t,e,n){try{n()}catch(r){mt(t,e,r)}}var bE=!1;function Xj(t,e){if(cv=Yh,t=KT(),iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++f===r&&(l=o),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uv={focusedElem:t,selectionRange:n},Yh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:dr(e.type,y),x);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(I){mt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return v=bE,bE=!1,v}function Fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tv(e,n,i)}s=s.next}while(s!==r)}}function hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zP(t){var e=t.alternate;e!==null&&(t.alternate=null,zP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[ou],delete e[fv],delete e[Mj],delete e[Lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WP(t){return t.tag===5||t.tag===3||t.tag===4}function CE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jh));else if(r!==4&&(t=t.child,t!==null))for(Iv(t,e,n),t=t.sibling;t!==null;)Iv(t,e,n),t=t.sibling}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}var Ft=null,pr=!1;function Gs(t,e,n){for(n=n.child;n!==null;)HP(t,e,n),n=n.sibling}function HP(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(sp,n)}catch{}switch(n.tag){case 5:Jt||Da(n,e);case 6:var r=Ft,s=pr;Ft=null,Gs(t,e,n),Ft=r,pr=s,Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?Wm(t.parentNode,n):t.nodeType===1&&Wm(t,n),tu(t)):Wm(Ft,n.stateNode));break;case 4:r=Ft,s=pr,Ft=n.stateNode.containerInfo,pr=!0,Gs(t,e,n),Ft=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tv(n,e,o),s=s.next}while(s!==r)}Gs(t,e,n);break;case 1:if(!Jt&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mt(n,e,a)}Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Gs(t,e,n),Jt=r):Gs(t,e,n);break;default:Gs(t,e,n)}}function SE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yj),e.forEach(function(r){var s=oV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,pr=!1;break e;case 3:Ft=a.stateNode.containerInfo,pr=!0;break e;case 4:Ft=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(Ft===null)throw Error(J(160));HP(i,o,s),Ft=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){mt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qP(e,t),e=e.sibling}function qP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Nr(t),r&4){try{Fc(3,t,t.return),hp(3,t)}catch(y){mt(t,t.return,y)}try{Fc(5,t,t.return)}catch(y){mt(t,t.return,y)}}break;case 1:cr(e,t),Nr(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(cr(e,t),Nr(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var s=t.stateNode;try{Xc(s,"")}catch(y){mt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pT(s,i),Jg(a,o);var c=Jg(a,i);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?wT(s,m):f==="dangerouslySetInnerHTML"?vT(s,m):f==="children"?Xc(s,m):qy(s,f,m,c)}switch(a){case"input":Gg(s,i);break;case"textarea":mT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ba(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ba(s,!!i.multiple,i.defaultValue,!0):Ba(s,!!i.multiple,i.multiple?[]:"",!1))}s[ou]=i}catch(y){mt(t,t.return,y)}}break;case 6:if(cr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){mt(t,t.return,y)}}break;case 3:if(cr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(y){mt(t,t.return,y)}break;case 4:cr(e,t),Nr(t);break;case 13:cr(e,t),Nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sw=_t())),r&4&&SE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(c=Jt)||f,cr(e,t),Jt=c):cr(e,t),Nr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(m=ce=f;ce!==null;){switch(p=ce,g=p.child,p.tag){case 0:case 11:case 14:case 15:Fc(4,p,p.return);break;case 1:Da(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){mt(r,n,y)}}break;case 5:Da(p,p.return);break;case 22:if(p.memoizedState!==null){PE(m);continue}}g!==null?(g.return=p,ce=g):PE(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yT("display",o))}catch(y){mt(t,t.return,y)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(y){mt(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:cr(e,t),Nr(t),r&4&&SE(t);break;case 21:break;default:cr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WP(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xc(s,""),r.flags&=-33);var i=CE(t);kv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=CE(t);Iv(t,a,o);break;default:throw Error(J(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zj(t,e,n){ce=t,KP(t)}function KP(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Kd;var c=Jt;if(Kd=o,(Jt=l)&&!c)for(ce=s;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?IE(s):l!==null?(l.return=o,ce=l):IE(s);for(;i!==null;)ce=i,KP(i),i=i.sibling;ce=s,Kd=a,Jt=c}TE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):TE(t)}}function TE(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||hp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&tu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Jt||e.flags&512&&Pv(e)}catch(p){mt(e,e.return,p)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function PE(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function IE(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hp(4,e)}catch(l){mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){mt(e,s,l)}}var i=e.return;try{Pv(e)}catch(l){mt(e,i,l)}break;case 5:var o=e.return;try{Pv(e)}catch(l){mt(e,o,l)}}}catch(l){mt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var Jj=Math.ceil,df=Ls.ReactCurrentDispatcher,bw=Ls.ReactCurrentOwner,rr=Ls.ReactCurrentBatchConfig,je=0,Dt=null,bt=null,$t=0,Ln=0,ja=eo(0),It=0,hu=null,Vo=0,fp=0,Cw=0,Uc=null,wn=null,Sw=0,vl=1/0,ds=null,hf=!1,Rv=null,Ii=null,Gd=!1,wi=null,ff=0,Bc=0,Av=null,Ch=-1,Sh=0;function dn(){return je&6?_t():Ch!==-1?Ch:Ch=_t()}function ki(t){return t.mode&1?je&2&&$t!==0?$t&-$t:Dj.transition!==null?(Sh===0&&(Sh=AT()),Sh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:VT(t.type)),t):1}function _r(t,e,n,r){if(50<Bc)throw Bc=0,Av=null,Error(J(185));Fu(t,n,r),(!(je&2)||t!==Dt)&&(t===Dt&&(!(je&2)&&(fp|=n),It===4&&ai(t,$t)),Cn(t,r),n===1&&je===0&&!(e.mode&1)&&(vl=_t()+500,cp&&to()))}function Cn(t,e){var n=t.callbackNode;D2(t,e);var r=Qh(t,t===Dt?$t:0);if(r===0)n!==null&&jx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jx(n),e===1)t.tag===0?Oj(kE.bind(null,t)):rP(kE.bind(null,t)),Aj(function(){!(je&6)&&to()}),n=null;else{switch(NT(r)){case 1:n=Xy;break;case 4:n=kT;break;case 16:n=Gh;break;case 536870912:n=RT;break;default:n=Gh}n=tI(n,GP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GP(t,e){if(Ch=-1,Sh=0,je&6)throw Error(J(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var r=Qh(t,t===Dt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pf(t,r);else{e=r;var s=je;je|=2;var i=YP();(Dt!==t||$t!==e)&&(ds=null,vl=_t()+500,No(t,e));do try{nV();break}catch(a){QP(t,a)}while(!0);uw(),df.current=i,je=s,bt!==null?e=0:(Dt=null,$t=0,e=It)}if(e!==0){if(e===2&&(s=sv(t),s!==0&&(r=s,e=Nv(t,s))),e===1)throw n=hu,No(t,0),ai(t,r),Cn(t,_t()),n;if(e===6)ai(t,r);else{if(s=t.current.alternate,!(r&30)&&!eV(s)&&(e=pf(t,r),e===2&&(i=sv(t),i!==0&&(r=i,e=Nv(t,i))),e===1))throw n=hu,No(t,0),ai(t,r),Cn(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:_o(t,wn,ds);break;case 3:if(ai(t,r),(r&130023424)===r&&(e=Sw+500-_t(),10<e)){if(Qh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hv(_o.bind(null,t,wn,ds),e);break}_o(t,wn,ds);break;case 4:if(ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jj(r/1960))-r,10<r){t.timeoutHandle=hv(_o.bind(null,t,wn,ds),r);break}_o(t,wn,ds);break;case 5:_o(t,wn,ds);break;default:throw Error(J(329))}}}return Cn(t,_t()),t.callbackNode===n?GP.bind(null,t):null}function Nv(t,e){var n=Uc;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=pf(t,e),t!==2&&(e=wn,wn=n,e!==null&&Mv(e)),t}function Mv(t){wn===null?wn=t:wn.push.apply(wn,t)}function eV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~Cw,e&=~fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function kE(t){if(je&6)throw Error(J(327));qa();var e=Qh(t,0);if(!(e&1))return Cn(t,_t()),null;var n=pf(t,e);if(t.tag!==0&&n===2){var r=sv(t);r!==0&&(e=r,n=Nv(t,r))}if(n===1)throw n=hu,No(t,0),ai(t,e),Cn(t,_t()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,wn,ds),Cn(t,_t()),null}function Tw(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(vl=_t()+500,cp&&to())}}function Fo(t){wi!==null&&wi.tag===0&&!(je&6)&&qa();var e=je;je|=1;var n=rr.transition,r=Qe;try{if(rr.transition=null,Qe=1,t)return t()}finally{Qe=r,rr.transition=n,je=e,!(je&6)&&to()}}function Pw(){Ln=ja.current,it(ja)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rj(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ef();break;case 3:ml(),it(En),it(tn),gw();break;case 5:mw(r);break;case 4:ml();break;case 13:it(ct);break;case 19:it(ct);break;case 10:dw(r.type._context);break;case 22:case 23:Pw()}n=n.return}if(Dt=t,bt=t=Ri(t.current,null),$t=Ln=e,It=0,hu=null,Cw=fp=Vo=0,wn=Uc=null,So!==null){for(e=0;e<So.length;e++)if(n=So[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}So=null}return t}function QP(t,e){do{var n=bt;try{if(uw(),xh.current=uf,cf){for(var r=ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cf=!1}if(jo=0,Lt=Pt=ut=null,Vc=!1,cu=0,bw.current=null,n===null||n.return===null){It=1,hu=e,bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=gE(o);if(g!==null){g.flags&=-257,vE(g,o,a,i,e),g.mode&1&&mE(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){mE(i,c,e),Iw();break e}l=Error(J(426))}}else if(ot&&a.mode&1){var x=gE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vE(x,o,a,i,e),lw(gl(l,a));break e}}i=l=gl(l,a),It!==4&&(It=2),Uc===null?Uc=[i]:Uc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=NP(i,l,e);cE(i,E);break e;case 1:a=l;var _=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ii===null||!Ii.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=MP(i,a,e);cE(i,I);break e}}i=i.return}while(i!==null)}ZP(n)}catch(k){e=k,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function YP(){var t=df.current;return df.current=uf,t===null?uf:t}function Iw(){(It===0||It===3||It===2)&&(It=4),Dt===null||!(Vo&268435455)&&!(fp&268435455)||ai(Dt,$t)}function pf(t,e){var n=je;je|=2;var r=YP();(Dt!==t||$t!==e)&&(ds=null,No(t,e));do try{tV();break}catch(s){QP(t,s)}while(!0);if(uw(),je=n,df.current=r,bt!==null)throw Error(J(261));return Dt=null,$t=0,It}function tV(){for(;bt!==null;)XP(bt)}function nV(){for(;bt!==null&&!P2();)XP(bt)}function XP(t){var e=eI(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?ZP(t):bt=e,bw.current=null}function ZP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qj(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,bt=null;return}}else if(n=Gj(n,e,Ln),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);It===0&&(It=5)}function _o(t,e,n){var r=Qe,s=rr.transition;try{rr.transition=null,Qe=1,rV(t,e,n,r)}finally{rr.transition=s,Qe=r}return null}function rV(t,e,n,r){do qa();while(wi!==null);if(je&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j2(t,i),t===Dt&&(bt=Dt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gd||(Gd=!0,tI(Gh,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rr.transition,rr.transition=null;var o=Qe;Qe=1;var a=je;je|=4,bw.current=null,Xj(t,n),qP(n,t),bj(uv),Yh=!!cv,uv=cv=null,t.current=n,Zj(n),I2(),je=a,Qe=o,rr.transition=i}else t.current=n;if(Gd&&(Gd=!1,wi=t,ff=s),i=t.pendingLanes,i===0&&(Ii=null),A2(n.stateNode),Cn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hf)throw hf=!1,t=Rv,Rv=null,t;return ff&1&&t.tag!==0&&qa(),i=t.pendingLanes,i&1?t===Av?Bc++:(Bc=0,Av=t):Bc=0,to(),null}function qa(){if(wi!==null){var t=NT(ff),e=rr.transition,n=Qe;try{if(rr.transition=null,Qe=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,ff=0,je&6)throw Error(J(331));var s=je;for(je|=4,ce=t.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Fc(8,f,i)}var m=f.child;if(m!==null)m.return=f,ce=m;else for(;ce!==null;){f=ce;var p=f.sibling,g=f.return;if(zP(f),f===c){ce=null;break}if(p!==null){p.return=g,ce=p;break}ce=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ce=E;break e}ce=i.return}}var _=t.current;for(ce=_;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=_;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hp(9,a)}}catch(k){mt(a,a.return,k)}if(a===o){ce=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ce=I;break e}ce=a.return}}if(je=s,to(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(sp,t)}catch{}r=!0}return r}finally{Qe=n,rr.transition=e}}return!1}function RE(t,e,n){e=gl(n,e),e=NP(t,e,1),t=Pi(t,e,1),e=dn(),t!==null&&(Fu(t,1,e),Cn(t,e))}function mt(t,e,n){if(t.tag===3)RE(t,t,n);else for(;e!==null;){if(e.tag===3){RE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=gl(n,t),t=MP(e,t,1),e=Pi(e,t,1),t=dn(),e!==null&&(Fu(e,1,t),Cn(e,t));break}}e=e.return}}function sV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&($t&n)===n&&(It===4||It===3&&($t&130023424)===$t&&500>_t()-Sw?No(t,0):Cw|=n),Cn(t,e)}function JP(t,e){e===0&&(t.mode&1?(e=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):e=1);var n=dn();t=Cs(t,e),t!==null&&(Fu(t,e,n),Cn(t,n))}function iV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JP(t,n)}function oV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),JP(t,n)}var eI;eI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,Kj(t,e,n);_n=!!(t.flags&131072)}else _n=!1,ot&&e.flags&1048576&&sP(e,rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var s=hl(e,tn.current);Ha(e,n),s=yw(null,e,r,t,s,n);var i=ww();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(i=!0,tf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fw(e),s.updater=dp,e.stateNode=s,s._reactInternals=e,wv(e,r,t,n),e=Ev(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&ow(e),ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lV(r),t=dr(r,t),s){case 0:e=xv(null,e,r,t,n);break e;case 1:e=_E(null,e,r,t,n);break e;case 11:e=yE(null,e,r,t,n);break e;case 14:e=wE(null,e,r,dr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),xv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),_E(t,e,r,s,n);case 3:e:{if(jP(e),t===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,uP(t,e),af(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gl(Error(J(423)),e),e=xE(t,e,r,n,s);break e}else if(r!==s){s=gl(Error(J(424)),e),e=xE(t,e,r,n,s);break e}else for(Vn=Ti(e.stateNode.containerInfo.firstChild),Bn=e,ot=!0,mr=null,n=lP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fl(),r===s){e=Ss(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return dP(e),t===null&&gv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dv(r,s)?o=null:i!==null&&dv(r,i)&&(e.flags|=32),DP(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&gv(e),null;case 13:return VP(t,e,n);case 4:return pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pl(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),yE(t,e,r,s,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(sf,r._currentValue),r._currentValue=o,i!==null)if(Er(i.value,o)){if(i.children===s.children&&!En.current){e=Ss(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ys(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ha(e,n),s=ir(s),r=r(s),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),wE(t,e,r,s,n);case 15:return LP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),bh(t,e),e.tag=1,bn(r)?(t=!0,tf(e)):t=!1,Ha(e,n),AP(e,r,s),wv(e,r,s,n),Ev(null,e,r,!0,t,n);case 19:return FP(t,e,n);case 22:return OP(t,e,n)}throw Error(J(156,e.tag))};function tI(t,e){return IT(t,e)}function aV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new aV(t,e,n,r)}function kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lV(t){if(typeof t=="function")return kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gy)return 11;if(t===Qy)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Th(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")kw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pa:return Mo(n.children,s,i,e);case Ky:o=8,s|=8;break;case zg:return t=nr(12,n,e,s|2),t.elementType=zg,t.lanes=i,t;case Wg:return t=nr(13,n,e,s),t.elementType=Wg,t.lanes=i,t;case Hg:return t=nr(19,n,e,s),t.elementType=Hg,t.lanes=i,t;case dT:return pp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cT:o=10;break e;case uT:o=9;break e;case Gy:o=11;break e;case Qy:o=14;break e;case ri:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=nr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mo(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function pp(t,e,n,r){return t=nr(22,t,r,e),t.elementType=dT,t.lanes=n,t.stateNode={isHidden:!1},t}function Zm(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Jm(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rw(t,e,n,r,s,i,o,a,l){return t=new cV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fw(i),t}function uV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nI(t){if(!t)return Vi;t=t._reactInternals;e:{if(ta(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(bn(n))return nP(t,n,e)}return e}function rI(t,e,n,r,s,i,o,a,l){return t=Rw(n,r,!0,t,s,i,o,a,l),t.context=nI(null),n=t.current,r=dn(),s=ki(n),i=ys(r,s),i.callback=e??null,Pi(n,i,s),t.current.lanes=s,Fu(t,s,r),Cn(t,r),t}function mp(t,e,n,r){var s=e.current,i=dn(),o=ki(s);return n=nI(n),e.context===null?e.context=n:e.pendingContext=n,e=ys(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(s,e,o),t!==null&&(_r(t,s,o,i),_h(t,s,o)),o}function mf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Aw(t,e){AE(t,e),(t=t.alternate)&&AE(t,e)}function dV(){return null}var sI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nw(t){this._internalRoot=t}gp.prototype.render=Nw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));mp(t,e,null,null)};gp.prototype.unmount=Nw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fo(function(){mp(null,t,null,null)}),e[bs]=null}};function gp(t){this._internalRoot=t}gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=OT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&jT(t)}};function Mw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NE(){}function hV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=mf(o);i.call(c)}}var o=rI(e,r,t,0,null,!1,!1,"",NE);return t._reactRootContainer=o,t[bs]=o.current,su(t.nodeType===8?t.parentNode:t),Fo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=mf(l);a.call(c)}}var l=Rw(t,0,!1,null,null,!1,!1,"",NE);return t._reactRootContainer=l,t[bs]=l.current,su(t.nodeType===8?t.parentNode:t),Fo(function(){mp(e,l,n,r)}),l}function yp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mf(o);a.call(l)}}mp(e,o,t,s)}else o=hV(n,e,t,s,r);return mf(o)}MT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bc(e.pendingLanes);n!==0&&(Zy(e,n|1),Cn(e,_t()),!(je&6)&&(vl=_t()+500,to()))}break;case 13:Fo(function(){var r=Cs(t,1);if(r!==null){var s=dn();_r(r,t,1,s)}}),Aw(t,1)}};Jy=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var n=dn();_r(e,t,134217728,n)}Aw(t,134217728)}};LT=function(t){if(t.tag===13){var e=ki(t),n=Cs(t,e);if(n!==null){var r=dn();_r(n,t,e,r)}Aw(t,e)}};OT=function(){return Qe};DT=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};tv=function(t,e,n){switch(e){case"input":if(Gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lp(r);if(!s)throw Error(J(90));fT(r),Gg(r,s)}}}break;case"textarea":mT(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};ET=Tw;bT=Fo;var fV={usingClientEntryPoint:!1,Events:[Bu,Aa,lp,_T,xT,Tw]},pc={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pV={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TT(t),t===null?null:t.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||dV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{sp=Qd.inject(pV),Wr=Qd}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fV;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mw(e))throw Error(J(200));return uV(t,e,null,n)};qn.createRoot=function(t,e){if(!Mw(t))throw Error(J(299));var n=!1,r="",s=sI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rw(t,1,!1,null,null,n,!1,r,s),t[bs]=e.current,su(t.nodeType===8?t.parentNode:t),new Nw(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=TT(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Fo(t)};qn.hydrate=function(t,e,n){if(!vp(e))throw Error(J(200));return yp(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Mw(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rI(e,null,t,1,n??null,s,!1,i,o),t[bs]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gp(e)};qn.render=function(t,e,n){if(!vp(e))throw Error(J(200));return yp(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!vp(t))throw Error(J(40));return t._reactRootContainer?(Fo(function(){yp(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};qn.unstable_batchedUpdates=Tw;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vp(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return yp(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(t){console.error(t)}}iI(),iT.exports=qn;var Gn=iT.exports;const oI=qS(Gn);var aI,ME=Gn;aI=ME.createRoot,ME.hydrateRoot;const mV=1,gV=1e6;let eg=0;function vV(){return eg=(eg+1)%Number.MAX_SAFE_INTEGER,eg.toString()}const tg=new Map,LE=t=>{if(tg.has(t))return;const e=setTimeout(()=>{tg.delete(t),$c({type:"REMOVE_TOAST",toastId:t})},gV);tg.set(t,e)},yV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,mV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?LE(n):t.toasts.forEach(r=>{LE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ph=[];let Ih={toasts:[]};function $c(t){Ih=yV(Ih,t),Ph.forEach(e=>{e(Ih)})}function wV({...t}){const e=vV(),n=s=>$c({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$c({type:"DISMISS_TOAST",toastId:e});return $c({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function no(){const[t,e]=h.useState(Ih);return h.useEffect(()=>(Ph.push(e),()=>{const n=Ph.indexOf(e);n>-1&&Ph.splice(n,1)}),[t]),{...t,toast:wV,dismiss:n=>$c({type:"DISMISS_TOAST",toastId:n})}}function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function _V(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wp(...t){return e=>t.forEach(n=>_V(n,e))}function Oe(...t){return h.useCallback(wp(...t),t)}function xV(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(m){const{scope:p,children:g,...v}=m,y=(p==null?void 0:p[t][l])||a,x=h.useMemo(()=>v,Object.values(v));return d.jsx(y.Provider,{value:x,children:g})}function f(m,p){const g=(p==null?void 0:p[t][l])||a,v=h.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,EV(s,...e)]}function EV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const m=l(i)[`__scope${c}`];return{...a,...m}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ts=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(bV);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(Lv,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(Lv,{...r,ref:e,children:n})});Ts.displayName="Slot";var Lv=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=SV(n);return h.cloneElement(n,{...CV(r,n.props),ref:e?wp(e,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});Lv.displayName="SlotClone";var lI=({children:t})=>d.jsx(d.Fragment,{children:t});function bV(t){return h.isValidElement(t)&&t.type===lI}function CV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _p(t){const e=t+"CollectionProvider",[n,r]=xV(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,x=se.useRef(null),E=se.useRef(new Map).current;return d.jsx(s,{scope:v,itemMap:E,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=se.forwardRef((g,v)=>{const{scope:y,children:x}=g,E=i(a,y),_=Oe(v,E.collectionRef);return d.jsx(Ts,{ref:_,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",m=se.forwardRef((g,v)=>{const{scope:y,children:x,...E}=g,_=se.useRef(null),b=Oe(v,_),I=i(c,y);return se.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),d.jsx(Ts,{[f]:"",ref:b,children:x})});m.displayName=c;function p(g){const v=i(t+"CollectionConsumer",g);return se.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((I,k)=>E.indexOf(I.ref.current)-E.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:m},p,r]}function TV(t,e){const n=h.createContext(e),r=i=>{const{children:o,...a}=i,l=h.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=h.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Os(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];const c=m=>{var E;const{scope:p,children:g,...v}=m,y=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,x=h.useMemo(()=>v,Object.values(v));return d.jsx(y.Provider,{value:x,children:g})};c.displayName=i+"Provider";function f(m,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=h.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,PV(s,...e)]}function PV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const m=l(i)[`__scope${c}`];return{...a,...m}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var IV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=IV.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ts:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Lw(t,e){t&&Gn.flushSync(()=>t.dispatchEvent(e))}function nn(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kV(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RV="DismissableLayer",Ov="dismissableLayer.update",AV="dismissableLayer.pointerDownOutside",NV="dismissableLayer.focusOutside",OE,cI=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),na=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=h.useContext(cI),[f,m]=h.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),v=Oe(e,T=>m(T)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(x),_=f?y.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,k=LV(T=>{const S=T.target,P=[...c.branches].some(R=>R.contains(S));!I||P||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),L=OV(T=>{const S=T.target;[...c.branches].some(R=>R.contains(S))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return kV(T=>{_===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),h.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(OE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),DE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=OE)}},[f,p,n,c]),h.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),DE())},[f,c]),h.useEffect(()=>{const T=()=>g({});return document.addEventListener(Ov,T),()=>document.removeEventListener(Ov,T)},[]),d.jsx(me.div,{...l,ref:v,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,k.onPointerDownCapture)})});na.displayName=RV;var MV="DismissableLayerBranch",uI=h.forwardRef((t,e)=>{const n=h.useContext(cI),r=h.useRef(null),s=Oe(e,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(me.div,{...t,ref:s})});uI.displayName=MV;function LV(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){dI(AV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function OV(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&dI(NV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DE(){const t=new CustomEvent(Ov);document.dispatchEvent(t)}function dI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lw(s,i):s.dispatchEvent(i)}var DV=na,jV=uI,rn=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},VV="Portal",jl=h.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=h.useState(!1);rn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oI.createPortal(d.jsx(me.div,{...r,ref:e}),o):null});jl.displayName=VV;function FV(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Tn=t=>{const{present:e,children:n}=t,r=UV(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=Oe(r.ref,BV(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};Tn.displayName="Presence";function UV(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=FV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Yd(r.current);i.current=a==="mounted"?c:"none"},[a]),rn(()=>{const c=r.current,f=s.current;if(f!==t){const p=i.current,g=Yd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),rn(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,m=g=>{const y=Yd(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Yd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Yd(t){return(t==null?void 0:t.animationName)||"none"}function BV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ps({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=$V({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=nn(n),l=h.useCallback(c=>{if(i){const m=typeof c=="function"?c(t):c;m!==t&&a(m)}else s(c)},[i,t,s,a]);return[o,l]}function $V({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,s=h.useRef(r),i=nn(e);return h.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var zV="VisuallyHidden",zu=h.forwardRef((t,e)=>d.jsx(me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));zu.displayName=zV;var WV=zu,Ow="ToastProvider",[Dw,HV,qV]=_p("Toast"),[hI,xee]=Os("Toast",[qV]),[KV,xp]=hI(Ow),fI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=h.useState(null),[c,f]=h.useState(0),m=h.useRef(!1),p=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ow}\`. Expected non-empty \`string\`.`),d.jsx(Dw.Provider,{scope:e,children:d.jsx(KV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>f(g=>g+1),[]),onToastRemove:h.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};fI.displayName=Ow;var pI="ToastViewport",GV=["F8"],Dv="toast.viewportPause",jv="toast.viewportResume",mI=h.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=GV,label:s="Notifications ({hotkey})",...i}=t,o=xp(pI,n),a=HV(n),l=h.useRef(null),c=h.useRef(null),f=h.useRef(null),m=h.useRef(null),p=Oe(e,m,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;h.useEffect(()=>{const x=E=>{var b;r.length!==0&&r.every(I=>E[I]||E.code===I)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),h.useEffect(()=>{const x=l.current,E=m.current;if(v&&x&&E){const _=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Dv);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(jv);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},I=L=>{!x.contains(L.relatedTarget)&&b()},k=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",_),x.addEventListener("focusout",I),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",I),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:x})=>{const _=a().map(b=>{const I=b.ref.current,k=[I,...a4(I)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return h.useEffect(()=>{const x=m.current;if(x){const E=_=>{var k,L,T;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const S=document.activeElement,P=_.shiftKey;if(_.target===x&&P){(k=c.current)==null||k.focus();return}const O=y({tabbingDirection:P?"backwards":"forwards"}),A=O.findIndex(F=>F===S);ng(O.slice(A+1))?_.preventDefault():P?(L=c.current)==null||L.focus():(T=f.current)==null||T.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,y]),d.jsxs(jV,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(Vv,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});ng(x)}}),d.jsx(Dw.Slot,{scope:n,children:d.jsx(me.ol,{tabIndex:-1,...i,ref:p})}),v&&d.jsx(Vv,{ref:f,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});ng(x)}})]})});mI.displayName=pI;var gI="ToastFocusProxy",Vv=h.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xp(gI,n);return d.jsx(zu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Vv.displayName=gI;var Ep="Toast",QV="toast.swipeStart",YV="toast.swipeMove",XV="toast.swipeCancel",ZV="toast.swipeEnd",vI=h.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ps({prop:r,defaultProp:s,onChange:i});return d.jsx(Tn,{present:n||a,children:d.jsx(t4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:nn(t.onPause),onResume:nn(t.onResume),onSwipeStart:ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,c=>{const{x:f,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,c=>{const{x:f,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),l(!1)})})})});vI.displayName=Ep;var[JV,e4]=hI(Ep,{onClose(){}}),t4=h.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:g,...v}=t,y=xp(Ep,n),[x,E]=h.useState(null),_=Oe(e,F=>E(F)),b=h.useRef(null),I=h.useRef(null),k=s||y.duration,L=h.useRef(0),T=h.useRef(k),S=h.useRef(0),{onToastAdd:P,onToastRemove:R}=y,M=nn(()=>{var X;(x==null?void 0:x.contains(document.activeElement))&&((X=y.viewport)==null||X.focus()),o()}),O=h.useCallback(F=>{!F||F===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(M,F))},[M]);h.useEffect(()=>{const F=y.viewport;if(F){const X=()=>{O(T.current),c==null||c()},q=()=>{const $=new Date().getTime()-L.current;T.current=T.current-$,window.clearTimeout(S.current),l==null||l()};return F.addEventListener(Dv,q),F.addEventListener(jv,X),()=>{F.removeEventListener(Dv,q),F.removeEventListener(jv,X)}}},[y.viewport,k,l,c,O]),h.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(k)},[i,k,y.isClosePausedRef,O]),h.useEffect(()=>(P(),()=>R()),[P,R]);const A=h.useMemo(()=>x?CI(x):null,[x]);return y.viewport?d.jsxs(d.Fragment,{children:[A&&d.jsx(n4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),d.jsx(JV,{scope:n,onClose:M,children:Gn.createPortal(d.jsx(Dw.ItemSlot,{scope:n,children:d.jsx(DV,{asChild:!0,onEscapeKeyDown:ne(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||M(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ne(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:ne(t.onPointerMove,F=>{if(!b.current)return;const X=F.clientX-b.current.x,q=F.clientY-b.current.y,$=!!I.current,D=["left","right"].includes(y.swipeDirection),j=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=D?j(0,X):0,H=D?0:j(0,q),Z=F.pointerType==="touch"?10:2,Y={x:W,y:H},ue={originalEvent:F,delta:Y};$?(I.current=Y,Xd(YV,m,ue,{discrete:!1})):jE(Y,y.swipeDirection,Z)?(I.current=Y,Xd(QV,f,ue,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>Z||Math.abs(q)>Z)&&(b.current=null)}),onPointerUp:ne(t.onPointerUp,F=>{const X=I.current,q=F.target;if(q.hasPointerCapture(F.pointerId)&&q.releasePointerCapture(F.pointerId),I.current=null,b.current=null,X){const $=F.currentTarget,D={originalEvent:F,delta:X};jE(X,y.swipeDirection,y.swipeThreshold)?Xd(ZV,g,D,{discrete:!0}):Xd(XV,p,D,{discrete:!0}),$.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),n4=t=>{const{__scopeToast:e,children:n,...r}=t,s=xp(Ep,e),[i,o]=h.useState(!1),[a,l]=h.useState(!1);return i4(()=>o(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(jl,{asChild:!0,children:d.jsx(zu,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},r4="ToastTitle",yI=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(me.div,{...r,ref:e})});yI.displayName=r4;var s4="ToastDescription",wI=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(me.div,{...r,ref:e})});wI.displayName=s4;var _I="ToastAction",xI=h.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(bI,{altText:n,asChild:!0,children:d.jsx(jw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_I}\`. Expected non-empty \`string\`.`),null)});xI.displayName=_I;var EI="ToastClose",jw=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=e4(EI,n);return d.jsx(bI,{asChild:!0,children:d.jsx(me.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,s.onClose)})})});jw.displayName=EI;var bI=h.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function CI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),o4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CI(r))}}),e}function Xd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lw(s,i):s.dispatchEvent(i)}var jE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function i4(t=()=>{}){const e=nn(t);rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function o4(t){return t.nodeType===t.ELEMENT_NODE}function a4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ng(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var l4=fI,SI=mI,TI=vI,PI=yI,II=wI,kI=xI,RI=jw;function AI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=AI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=AI(t))&&(r&&(r+=" "),r+=e);return r}const VE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FE=NI,Wu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],m=i==null?void 0:i[c];if(f===null)return null;const p=VE(f)||VE(m);return s[c][p]}),a=n&&Object.entries(n).reduce((c,f)=>{let[m,p]=f;return p===void 0||(c[m]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:m,className:p,...g}=f;return Object.entries(g).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...i,...a}[y]):{...i,...a}[y]===x})?[...c,m,p]:c},[]);return FE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>h.createElement("svg",{ref:l,...u4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MI("lucide",s),...a},[...o.map(([c,f])=>h.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=h.forwardRef(({className:r,...s},i)=>h.createElement(d4,{ref:i,iconNode:e,className:MI(`lucide-${c4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=We("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=We("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=We("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=We("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=We("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=We("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=We("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=We("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),$w="-",S4=t=>{const e=P4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($w);return a[0]===""&&a.length!==1&&a.shift(),FI(a,e)||T4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},FI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?FI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($w);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},zE=/^\[(.+)\]$/,T4=t=>{if(zE.test(t)){const e=zE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return k4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Uv(o,r,i,e)}),r},Uv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:WE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(I4(s)){Uv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Uv(o,WE(e,i),n,r)})})},WE=(t,e)=>{let n=t;return e.split($w).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},I4=t=>t.isThemeGetter,k4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,R4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},UI="!",A4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,f=0,m;for(let x=0;x<a.length;x++){let E=a[x];if(c===0){if(E===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(f,x)),f=x+i;continue}if(E==="/"){m=x;continue}}E==="["?c++:E==="]"&&c--}const p=l.length===0?a:a.substring(f),g=p.startsWith(UI),v=g?p.substring(1):p,y=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},N4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},M4=t=>({cache:R4(t.cacheSize),parseClassName:A4(t),...S4(t)}),L4=/\s+/,O4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(L4);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=N4(f).join(":"),E=m?x+UI:x,_=E+y;if(i.includes(_))continue;i.push(_);const b=s(y,v);for(let I=0;I<b.length;++I){const k=b[I];i.push(E+k)}a=c+(a.length>0?" "+a:a)}return a};function D4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=BI(e))&&(r&&(r+=" "),r+=n);return r}const BI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=BI(t[r]))&&(n&&(n+=" "),n+=e);return n};function j4(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((f,m)=>m(f),t());return n=M4(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=O4(l,n);return s(l,f),f}return function(){return i(D4.apply(null,arguments))}}const nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$I=/^\[(?:([a-z-]+):)?(.+)\]$/i,V4=/^\d+\/\d+$/,F4=new Set(["px","full","screen"]),U4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>Ka(t)||F4.has(t)||V4.test(t),Qs=t=>Vl(t,"length",Z4),Ka=t=>!!t&&!Number.isNaN(Number(t)),rg=t=>Vl(t,"number",Ka),mc=t=>!!t&&Number.isInteger(Number(t)),H4=t=>t.endsWith("%")&&Ka(t.slice(0,-1)),Se=t=>$I.test(t),Ys=t=>U4.test(t),q4=new Set(["length","size","percentage"]),K4=t=>Vl(t,q4,zI),G4=t=>Vl(t,"position",zI),Q4=new Set(["image","url"]),Y4=t=>Vl(t,Q4,eF),X4=t=>Vl(t,"",J4),gc=()=>!0,Vl=(t,e,n)=>{const r=$I.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Z4=t=>B4.test(t)&&!$4.test(t),zI=()=>!1,J4=t=>z4.test(t),eF=t=>W4.test(t),tF=()=>{const t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),s=nt("borderColor"),i=nt("borderRadius"),o=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),f=nt("hueRotate"),m=nt("invert"),p=nt("gap"),g=nt("gradientColorStops"),v=nt("gradientColorStopPositions"),y=nt("inset"),x=nt("margin"),E=nt("opacity"),_=nt("padding"),b=nt("saturate"),I=nt("scale"),k=nt("sepia"),L=nt("skew"),T=nt("space"),S=nt("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Se,e],O=()=>[Se,e],A=()=>["",as,Qs],F=()=>["auto",Ka,Se],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Se],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ka,Se];return{cacheSize:500,separator:":",theme:{colors:[gc],spacing:[as,Qs],blur:["none","",Ys,Se],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ys,Se],borderSpacing:O(),borderWidth:A(),contrast:H(),grayscale:j(),hueRotate:H(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[H4,Qs],inset:M(),margin:M(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:j(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Se]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mc,Se]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",mc,Se]}],"grid-cols":[{"grid-cols":[gc]}],"col-start-end":[{col:["auto",{span:["full",mc,Se]},Se]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[gc]}],"row-start-end":[{row:["auto",{span:[mc,Se]},Se]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,e]}],"min-w":[{"min-w":[Se,e,"min","max","fit"]}],"max-w":[{"max-w":[Se,e,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[Se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rg]}],"font-family":[{font:[gc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Ka,rg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Qs]}],"underline-offset":[{"underline-offset":["auto",as,Se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),G4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[as,Se]}],"outline-w":[{outline:[as,Qs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[as,Qs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ys,X4]}],"shadow-color":[{shadow:[gc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ys,Se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[mc,Se]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Qs,rg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nF=j4(tF);function pe(...t){return nF(NI(t))}const rF=l4,WI=h.forwardRef(({className:t,...e},n)=>d.jsx(SI,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));WI.displayName=SI.displayName;const sF=Wu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HI=h.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(TI,{ref:r,className:pe(sF({variant:e}),t),...n}));HI.displayName=TI.displayName;const iF=h.forwardRef(({className:t,...e},n)=>d.jsx(kI,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));iF.displayName=kI.displayName;const qI=h.forwardRef(({className:t,...e},n)=>d.jsx(RI,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Cp,{className:"h-4 w-4"})}));qI.displayName=RI.displayName;const KI=h.forwardRef(({className:t,...e},n)=>d.jsx(PI,{ref:n,className:pe("text-sm font-semibold",t),...e}));KI.displayName=PI.displayName;const GI=h.forwardRef(({className:t,...e},n)=>d.jsx(II,{ref:n,className:pe("text-sm opacity-90",t),...e}));GI.displayName=II.displayName;function oF(){const{toasts:t}=no();return d.jsxs(rF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(HI,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(KI,{children:n}),r&&d.jsx(GI,{children:r})]}),s,d.jsx(qI,{})]},e)}),d.jsx(WI,{})]})}var HE=["light","dark"],aF="(prefers-color-scheme: dark)",lF=h.createContext(void 0),cF={setTheme:t=>{},themes:[]},uF=()=>{var t;return(t=h.useContext(lF))!=null?t:cF};h.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?HE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,x=!0)=>{let E=o?o[v]:v,_=y?v+"|| ''":`'${E}'`,b="";return s&&x&&!y&&HE.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?y||E?b+=`c.add(${_})`:b+="null":E&&(b+=`d[s](n,${_})`),b},g=t?`!function(){${f}${p(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${aF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${m}}catch(t){}}();`;return h.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var dF=t=>{switch(t){case"success":return pF;case"info":return gF;case"warning":return mF;case"error":return vF;default:return null}},hF=Array(12).fill(0),fF=({visible:t})=>se.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},se.createElement("div",{className:"sonner-spinner"},hF.map((e,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yF=()=>{let[t,e]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Bv=1,wF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Bv++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(xF(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Bv++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Mn=new wF,_F=(t,e)=>{let n=(e==null?void 0:e.id)||Bv++;return Mn.addToast({title:t,...e,id:n}),n},xF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",EF=_F,bF=()=>Mn.toasts;Object.assign(EF,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:bF});function CF(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}CF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zd(t){return t.label!==void 0}var SF=3,TF="32px",PF=4e3,IF=356,kF=14,RF=20,AF=200;function NF(...t){return t.filter(Boolean).join(" ")}var MF=t=>{var e,n,r,s,i,o,a,l,c,f;let{invert:m,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:x,heights:E,index:_,toasts:b,expanded:I,removeToast:k,defaultRichColors:L,closeButton:T,style:S,cancelButtonStyle:P,actionButtonStyle:R,className:M="",descriptionClassName:O="",duration:A,position:F,gap:X,loadingIcon:q,expandByDefault:$,classNames:D,icons:j,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:H,cn:Z}=t,[Y,ue]=se.useState(!1),[U,le]=se.useState(!1),[ee,ie]=se.useState(!1),[he,te]=se.useState(!1),[oe,ve]=se.useState(0),[Ke,at]=se.useState(0),Ce=se.useRef(null),Nt=se.useRef(null),mn=_===0,Vs=_+1<=x,et=p.type,Pn=p.dismissible!==!1,ss=p.className||"",ha=p.descriptionClassName||"",In=se.useMemo(()=>E.findIndex(ye=>ye.toastId===p.id)||0,[E,p.id]),Fs=se.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:T},[p.closeButton,T]),Us=se.useMemo(()=>p.duration||A||PF,[p.duration,A]),lt=se.useRef(0),Ye=se.useRef(0),Rr=se.useRef(0),gn=se.useRef(null),[Bs,$s]=F.split("-"),ar=se.useMemo(()=>E.reduce((ye,De,Fe)=>Fe>=In?ye:ye+De.height,0),[E,In]),Ar=yF(),uo=p.invert||m,Qn=et==="loading";Ye.current=se.useMemo(()=>In*X+ar,[In,ar]),se.useEffect(()=>{ue(!0)},[]),se.useLayoutEffect(()=>{if(!Y)return;let ye=Nt.current,De=ye.style.height;ye.style.height="auto";let Fe=ye.getBoundingClientRect().height;ye.style.height=De,at(Fe),y(Tt=>Tt.find(jt=>jt.toastId===p.id)?Tt.map(jt=>jt.toastId===p.id?{...jt,height:Fe}:jt):[{toastId:p.id,height:Fe,position:p.position},...Tt])},[Y,p.title,p.description,y,p.id]);let kn=se.useCallback(()=>{le(!0),ve(Ye.current),y(ye=>ye.filter(De=>De.toastId!==p.id)),setTimeout(()=>{k(p)},AF)},[p,k,y,Ye]);se.useEffect(()=>{if(p.promise&&et==="loading"||p.duration===1/0||p.type==="loading")return;let ye,De=Us;return I||v||H&&Ar?(()=>{if(Rr.current<lt.current){let Fe=new Date().getTime()-lt.current;De=De-Fe}Rr.current=new Date().getTime()})():De!==1/0&&(lt.current=new Date().getTime(),ye=setTimeout(()=>{var Fe;(Fe=p.onAutoClose)==null||Fe.call(p,p),kn()},De)),()=>clearTimeout(ye)},[I,v,$,p,Us,kn,p.promise,et,H,Ar]),se.useEffect(()=>{let ye=Nt.current;if(ye){let De=ye.getBoundingClientRect().height;return at(De),y(Fe=>[{toastId:p.id,height:De,position:p.position},...Fe]),()=>y(Fe=>Fe.filter(Tt=>Tt.toastId!==p.id))}},[y,p.id]),se.useEffect(()=>{p.delete&&kn()},[kn,p.delete]);function zs(){return j!=null&&j.loading?se.createElement("div",{className:"sonner-loader","data-visible":et==="loading"},j.loading):q?se.createElement("div",{className:"sonner-loader","data-visible":et==="loading"},q):se.createElement(fF,{visible:et==="loading"})}return se.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Nt,className:Z(M,ss,D==null?void 0:D.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[et],(n=p==null?void 0:p.classNames)==null?void 0:n[et]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:L,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Y,"data-promise":!!p.promise,"data-removed":U,"data-visible":Vs,"data-y-position":Bs,"data-x-position":$s,"data-index":_,"data-front":mn,"data-swiping":ee,"data-dismissible":Pn,"data-type":et,"data-invert":uo,"data-swipe-out":he,"data-expanded":!!(I||$&&Y),style:{"--index":_,"--toasts-before":_,"--z-index":b.length-_,"--offset":`${U?oe:Ye.current}px`,"--initial-height":$?"auto":`${Ke}px`,...S,...p.style},onPointerDown:ye=>{Qn||!Pn||(Ce.current=new Date,ve(Ye.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(ie(!0),gn.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,De,Fe,Tt;if(he||!Pn)return;gn.current=null;let jt=Number(((ye=Nt.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rn=new Date().getTime()-((De=Ce.current)==null?void 0:De.getTime()),Yn=Math.abs(jt)/Rn;if(Math.abs(jt)>=RF||Yn>.11){ve(Ye.current),(Fe=p.onDismiss)==null||Fe.call(p,p),kn(),te(!0);return}(Tt=Nt.current)==null||Tt.style.setProperty("--swipe-amount","0px"),ie(!1)},onPointerMove:ye=>{var De;if(!gn.current||!Pn)return;let Fe=ye.clientY-gn.current.y,Tt=ye.clientX-gn.current.x,jt=(Bs==="top"?Math.min:Math.max)(0,Fe),Rn=ye.pointerType==="touch"?10:2;Math.abs(jt)>Rn?(De=Nt.current)==null||De.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(Tt)>Rn&&(gn.current=null)}},Fs&&!p.jsx?se.createElement("button",{"aria-label":W,"data-disabled":Qn,"data-close-button":!0,onClick:Qn||!Pn?()=>{}:()=>{var ye;kn(),(ye=p.onDismiss)==null||ye.call(p,p)},className:Z(D==null?void 0:D.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||se.isValidElement(p.title)?p.jsx||p.title:se.createElement(se.Fragment,null,et||p.icon||p.promise?se.createElement("div",{"data-icon":"",className:Z(D==null?void 0:D.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||zs():null,p.type!=="loading"?p.icon||(j==null?void 0:j[et])||dF(et):null):null,se.createElement("div",{"data-content":"",className:Z(D==null?void 0:D.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},se.createElement("div",{"data-title":"",className:Z(D==null?void 0:D.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?se.createElement("div",{"data-description":"",className:Z(O,ha,D==null?void 0:D.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),se.isValidElement(p.cancel)?p.cancel:p.cancel&&Zd(p.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:ye=>{var De,Fe;Zd(p.cancel)&&Pn&&((Fe=(De=p.cancel).onClick)==null||Fe.call(De,ye),kn())},className:Z(D==null?void 0:D.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,se.isValidElement(p.action)?p.action:p.action&&Zd(p.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:ye=>{var De,Fe;Zd(p.action)&&(ye.defaultPrevented||((Fe=(De=p.action).onClick)==null||Fe.call(De,ye),kn()))},className:Z(D==null?void 0:D.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function qE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var LF=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:f,style:m,visibleToasts:p=SF,toastOptions:g,dir:v=qE(),gap:y=kF,loadingIcon:x,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:b,cn:I=NF}=t,[k,L]=se.useState([]),T=se.useMemo(()=>Array.from(new Set([n].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,n]),[S,P]=se.useState([]),[R,M]=se.useState(!1),[O,A]=se.useState(!1),[F,X]=se.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=se.useRef(null),$=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=se.useRef(null),j=se.useRef(!1),W=se.useCallback(H=>{var Z;(Z=k.find(Y=>Y.id===H.id))!=null&&Z.delete||Mn.dismiss(H.id),L(Y=>Y.filter(({id:ue})=>ue!==H.id))},[k]);return se.useEffect(()=>Mn.subscribe(H=>{if(H.dismiss){L(Z=>Z.map(Y=>Y.id===H.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{oI.flushSync(()=>{L(Z=>{let Y=Z.findIndex(ue=>ue.id===H.id);return Y!==-1?[...Z.slice(0,Y),{...Z[Y],...H},...Z.slice(Y+1)]:[H,...Z]})})})}),[]),se.useEffect(()=>{if(l!=="system"){X(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{X(H?"dark":"light")})},[l]),se.useEffect(()=>{k.length<=1&&M(!1)},[k]),se.useEffect(()=>{let H=Z=>{var Y,ue;r.every(U=>Z[U]||Z.code===U)&&(M(!0),(Y=q.current)==null||Y.focus()),Z.code==="Escape"&&(document.activeElement===q.current||(ue=q.current)!=null&&ue.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),se.useEffect(()=>{if(q.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,j.current=!1)}},[q.current]),k.length?se.createElement("section",{"aria-label":`${_} ${$}`,tabIndex:-1},T.map((H,Z)=>{var Y;let[ue,U]=H.split("-");return se.createElement("ol",{key:H,dir:v==="auto"?qE():v,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ue,"data-x-position":U,style:{"--front-toast-height":`${((Y=S[0])==null?void 0:Y.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||TF,"--width":`${IF}px`,"--gap":`${y}px`,...m},onBlur:le=>{j.current&&!le.currentTarget.contains(le.relatedTarget)&&(j.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||j.current||(j.current=!0,D.current=le.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},k.filter(le=>!le.position&&Z===0||le.position===H).map((le,ee)=>{var ie,he;return se.createElement(MF,{key:le.id,icons:E,index:ee,toast:le,defaultRichColors:c,duration:(ie=g==null?void 0:g.duration)!=null?ie:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(he=g==null?void 0:g.closeButton)!=null?he:i,interacting:O,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:W,toasts:k.filter(te=>te.position==le.position),heights:S.filter(te=>te.position==le.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:b,cn:I})}))})):null};const OF=({...t})=>{const{theme:e="system"}=uF();return d.jsx(LF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var DF=rT.useId||(()=>{}),jF=0;function xr(t){const[e,n]=h.useState(DF());return rn(()=>{t||n(r=>r??String(jF++))},[t]),t||(e?`radix-${e}`:"")}const VF=["top","right","bottom","left"],Ui=Math.min,On=Math.max,gf=Math.round,Jd=Math.floor,Bi=t=>({x:t,y:t}),FF={left:"right",right:"left",bottom:"top",top:"bottom"},UF={start:"end",end:"start"};function $v(t,e,n){return On(t,Ui(e,n))}function Is(t,e){return typeof t=="function"?t(e):t}function ks(t){return t.split("-")[0]}function Fl(t){return t.split("-")[1]}function zw(t){return t==="x"?"y":"x"}function Ww(t){return t==="y"?"height":"width"}function $i(t){return["top","bottom"].includes(ks(t))?"y":"x"}function Hw(t){return zw($i(t))}function BF(t,e,n){n===void 0&&(n=!1);const r=Fl(t),s=Hw(t),i=Ww(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vf(o)),[o,vf(o)]}function $F(t){const e=vf(t);return[zv(t),e,zv(e)]}function zv(t){return t.replace(/start|end/g,e=>UF[e])}function zF(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function WF(t,e,n,r){const s=Fl(t);let i=zF(ks(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(zv)))),i}function vf(t){return t.replace(/left|right|bottom|top/g,e=>FF[e])}function HF(t){return{top:0,right:0,bottom:0,left:0,...t}}function QI(t){return typeof t!="number"?HF(t):{top:t,right:t,bottom:t,left:t}}function yf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function KE(t,e,n){let{reference:r,floating:s}=t;const i=$i(e),o=Hw(e),a=Ww(o),l=ks(e),c=i==="y",f=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:f,y:r.y-s.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-s.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Fl(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const qF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:m}=KE(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:E}=a[y],{x:_,y:b,data:I,reset:k}=await E({x:f,y:m,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});f=_??f,m=b??m,g={...g,[x]:{...g[x],...I}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:f,y:m}=KE(c,p,l)),y=-1)}return{x:f,y:m,placement:p,strategy:s,middlewareData:g}};async function fu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=Is(e,t),v=QI(g),x=a[p?m==="floating"?"reference":"floating":m],E=yf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),_=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=yf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(E.top-k.top+v.top)/I.y,bottom:(k.bottom-E.bottom+v.bottom)/I.y,left:(E.left-k.left+v.left)/I.x,right:(k.right-E.right+v.right)/I.x}}const KF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Is(t,e)||{};if(c==null)return{};const m=QI(f),p={x:n,y:r},g=Hw(s),v=Ww(g),y=await o.getDimensions(c),x=g==="y",E=x?"top":"left",_=x?"bottom":"right",b=x?"clientHeight":"clientWidth",I=i.reference[v]+i.reference[g]-p[g]-i.floating[v],k=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=L?L[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(L)))&&(T=a.floating[b]||i.floating[v]);const S=I/2-k/2,P=T/2-y[v]/2-1,R=Ui(m[E],P),M=Ui(m[_],P),O=R,A=T-y[v]-M,F=T/2-y[v]/2+S,X=$v(O,F,A),q=!l.arrow&&Fl(s)!=null&&F!==X&&i.reference[v]/2-(F<O?R:M)-y[v]/2<0,$=q?F<O?F-O:F-A:0;return{[g]:p[g]+$,data:{[g]:X,centerOffset:F-X-$,...q&&{alignmentOffset:$}},reset:q}}}),GF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=Is(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=ks(s),_=$i(a),b=ks(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(b||!y?[vf(a)]:$F(a)),L=v!=="none";!p&&L&&k.push(...WF(a,y,v,I));const T=[a,...k],S=await fu(e,x),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&P.push(S[E]),m){const F=BF(s,o,I);P.push(S[F[0]],S[F[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(F=>F<=0)){var M,O;const F=(((M=i.flip)==null?void 0:M.index)||0)+1,X=T[F];if(X)return{data:{index:F,overflows:R},reset:{placement:X}};let q=(O=R.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(g){case"bestFit":{var A;const $=(A=R.filter(D=>{if(L){const j=$i(D.placement);return j===_||j==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((D,j)=>D[1]-j[1])[0])==null?void 0:A[0];$&&(q=$);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function GE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function QE(t){return VF.some(e=>t[e]>=0)}const QF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Is(t,e);switch(r){case"referenceHidden":{const i=await fu(e,{...s,elementContext:"reference"}),o=GE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:QE(o)}}}case"escaped":{const i=await fu(e,{...s,altBoundary:!0}),o=GE(i,n.floating);return{data:{escapedOffsets:o,escaped:QE(o)}}}default:return{}}}}};async function YF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ks(n),a=Fl(n),l=$i(n)==="y",c=["left","top"].includes(o)?-1:1,f=i&&l?-1:1,m=Is(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*f,y:p*c}:{x:p*c,y:g*f}}const XF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await YF(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},ZF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:_}=x;return{x:E,y:_}}},...l}=Is(t,e),c={x:n,y:r},f=await fu(e,l),m=$i(ks(s)),p=zw(m);let g=c[p],v=c[m];if(i){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=g+f[x],b=g-f[E];g=$v(_,g,b)}if(o){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",_=v+f[x],b=v-f[E];v=$v(_,v,b)}const y=a.fn({...e,[p]:g,[m]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[m]:o}}}}}},JF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Is(t,e),f={x:n,y:r},m=$i(s),p=zw(m);let g=f[p],v=f[m];const y=Is(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=p==="y"?"height":"width",I=i.reference[p]-i.floating[b]+x.mainAxis,k=i.reference[p]+i.reference[b]-x.mainAxis;g<I?g=I:g>k&&(g=k)}if(c){var E,_;const b=p==="y"?"width":"height",I=["top","left"].includes(ks(s)),k=i.reference[m]-i.floating[b]+(I&&((E=o.offset)==null?void 0:E[m])||0)+(I?0:x.crossAxis),L=i.reference[m]+i.reference[b]+(I?0:((_=o.offset)==null?void 0:_[m])||0)-(I?x.crossAxis:0);v<k?v=k:v>L&&(v=L)}return{[p]:g,[m]:v}}}},eU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Is(t,e),f=await fu(e,c),m=ks(s),p=Fl(s),g=$i(s)==="y",{width:v,height:y}=i.floating;let x,E;m==="top"||m==="bottom"?(x=m,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=m,x=p==="end"?"top":"bottom");const _=y-f.top-f.bottom,b=v-f.left-f.right,I=Ui(y-f[x],_),k=Ui(v-f[E],b),L=!e.middlewareData.shift;let T=I,S=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=_),L&&!p){const R=On(f.left,0),M=On(f.right,0),O=On(f.top,0),A=On(f.bottom,0);g?S=v-2*(R!==0||M!==0?R+M:On(f.left,f.right)):T=y-2*(O!==0||A!==0?O+A:On(f.top,f.bottom))}await l({...e,availableWidth:S,availableHeight:T});const P=await o.getDimensions(a.floating);return v!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Sp(){return typeof window<"u"}function Ul(t){return YI(t)?(t.nodeName||"").toLowerCase():"#document"}function $n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ns(t){var e;return(e=(YI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YI(t){return Sp()?t instanceof Node||t instanceof $n(t).Node:!1}function br(t){return Sp()?t instanceof Element||t instanceof $n(t).Element:!1}function Xr(t){return Sp()?t instanceof HTMLElement||t instanceof $n(t).HTMLElement:!1}function YE(t){return!Sp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $n(t).ShadowRoot}function qu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function tU(t){return["table","td","th"].includes(Ul(t))}function Tp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qw(t){const e=Kw(),n=br(t)?Cr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nU(t){let e=zi(t);for(;Xr(e)&&!yl(e);){if(qw(e))return e;if(Tp(e))return null;e=zi(e)}return null}function Kw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yl(t){return["html","body","#document"].includes(Ul(t))}function Cr(t){return $n(t).getComputedStyle(t)}function Pp(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zi(t){if(Ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YE(t)&&t.host||ns(t);return YE(e)?e.host:e}function XI(t){const e=zi(t);return yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xr(e)&&qu(e)?e:XI(e)}function pu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=XI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=$n(s);if(i){const a=Wv(o);return e.concat(o,o.visualViewport||[],qu(s)?s:[],a&&n?pu(a):[])}return e.concat(s,pu(s,[],n))}function Wv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZI(t){const e=Cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gf(n)!==i||gf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Gw(t){return br(t)?t:t.contextElement}function Ga(t){const e=Gw(t);if(!Xr(e))return Bi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ZI(e);let o=(i?gf(n.width):n.width)/r,a=(i?gf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rU=Bi(0);function JI(t){const e=$n(t);return!Kw()||!e.visualViewport?rU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$n(t)?!1:e}function Bo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Gw(t);let o=Bi(1);e&&(r?br(r)&&(o=Ga(r)):o=Ga(t));const a=sU(i,n,r)?JI(i):Bi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(i){const p=$n(i),g=r&&br(r)?$n(r):r;let v=p,y=Wv(v);for(;y&&r&&g!==v;){const x=Ga(y),E=y.getBoundingClientRect(),_=Cr(y),b=E.left+(y.clientLeft+parseFloat(_.paddingLeft))*x.x,I=E.top+(y.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,f*=x.x,m*=x.y,l+=b,c+=I,v=$n(y),y=Wv(v)}}return yf({width:f,height:m,x:l,y:c})}function iU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ns(r),a=e?Tp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Bi(1);const f=Bi(0),m=Xr(r);if((m||!m&&!i)&&((Ul(r)!=="body"||qu(o))&&(l=Pp(r)),Xr(r))){const p=Bo(r);c=Ga(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function oU(t){return Array.from(t.getClientRects())}function Hv(t,e){const n=Pp(t).scrollLeft;return e?e.left+n:Bo(ns(t)).left+n}function aU(t){const e=ns(t),n=Pp(t),r=t.ownerDocument.body,s=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hv(t);const a=-n.scrollTop;return Cr(r).direction==="rtl"&&(o+=On(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lU(t,e){const n=$n(t),r=ns(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Kw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function cU(t,e){const n=Bo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xr(t)?Ga(t):Bi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function XE(t,e,n){let r;if(e==="viewport")r=lU(t,n);else if(e==="document")r=aU(ns(t));else if(br(e))r=cU(e,n);else{const s=JI(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return yf(r)}function ek(t,e){const n=zi(t);return n===e||!br(n)||yl(n)?!1:Cr(n).position==="fixed"||ek(n,e)}function uU(t,e){const n=e.get(t);if(n)return n;let r=pu(t,[],!1).filter(a=>br(a)&&Ul(a)!=="body"),s=null;const i=Cr(t).position==="fixed";let o=i?zi(t):t;for(;br(o)&&!yl(o);){const a=Cr(o),l=qw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qu(o)&&!l&&ek(t,o))?r=r.filter(f=>f!==o):s=a,o=zi(o)}return e.set(t,r),r}function dU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Tp(e)?[]:uU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const m=XE(e,f,s);return c.top=On(m.top,c.top),c.right=Ui(m.right,c.right),c.bottom=Ui(m.bottom,c.bottom),c.left=On(m.left,c.left),c},XE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hU(t){const{width:e,height:n}=ZI(t);return{width:e,height:n}}function fU(t,e,n){const r=Xr(e),s=ns(e),i=n==="fixed",o=Bo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Bi(0);if(r||!r&&!i)if((Ul(e)!=="body"||qu(s))&&(a=Pp(e)),r){const g=Bo(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Hv(s));let c=0,f=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();f=g.top+a.scrollTop,c=g.left+a.scrollLeft-Hv(s,g)}const m=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-f;return{x:m,y:p,width:o.width,height:o.height}}function sg(t){return Cr(t).position==="static"}function ZE(t,e){if(!Xr(t)||Cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ns(t)===n&&(n=n.ownerDocument.body),n}function tk(t,e){const n=$n(t);if(Tp(t))return n;if(!Xr(t)){let s=zi(t);for(;s&&!yl(s);){if(br(s)&&!sg(s))return s;s=zi(s)}return n}let r=ZE(t,e);for(;r&&tU(r)&&sg(r);)r=ZE(r,e);return r&&yl(r)&&sg(r)&&!qw(r)?n:r||nU(t)||n}const pU=async function(t){const e=this.getOffsetParent||tk,n=this.getDimensions,r=await n(t.floating);return{reference:fU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mU(t){return Cr(t).direction==="rtl"}const gU={convertOffsetParentRelativeRectToViewportRelativeRect:iU,getDocumentElement:ns,getClippingRect:dU,getOffsetParent:tk,getElementRects:pU,getClientRects:oU,getDimensions:hU,getScale:Ga,isElement:br,isRTL:mU};function vU(t,e){let n=null,r;const s=ns(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:f,width:m,height:p}=t.getBoundingClientRect();if(a||e(),!m||!p)return;const g=Jd(f),v=Jd(s.clientWidth-(c+m)),y=Jd(s.clientHeight-(f+p)),x=Jd(c),_={rootMargin:-g+"px "+-v+"px "+-y+"px "+-x+"px",threshold:On(0,Ui(1,l))||1};let b=!0;function I(k){const L=k[0].intersectionRatio;if(L!==l){if(!b)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(I,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(t)}return o(!0),i}function yU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Gw(t),f=s||i?[...c?pu(c):[],...pu(e)]:[];f.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const m=c&&a?vU(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Bo(t):null;l&&x();function x(){const E=Bo(t);y&&(E.x!==y.x||E.y!==y.y||E.width!==y.width||E.height!==y.height)&&n(),y=E,v=requestAnimationFrame(x)}return n(),()=>{var E;f.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),m==null||m(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const wU=XF,_U=ZF,xU=GF,EU=eU,bU=QF,JE=KF,CU=JF,SU=(t,e,n)=>{const r=new Map,s={platform:gU,...n},i={...s.platform,_c:r};return qF(t,e,{...s,platform:i})};var kh=typeof document<"u"?h.useLayoutEffect:h.useEffect;function wf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eb(t,e){const n=nk(t);return Math.round(e*n)/n}function ig(t){const e=h.useRef(t);return kh(()=>{e.current=t}),e}function TU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,m]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(r);wf(p,r)||g(r);const[v,y]=h.useState(null),[x,E]=h.useState(null),_=h.useCallback(D=>{D!==L.current&&(L.current=D,y(D))},[]),b=h.useCallback(D=>{D!==T.current&&(T.current=D,E(D))},[]),I=i||v,k=o||x,L=h.useRef(null),T=h.useRef(null),S=h.useRef(f),P=l!=null,R=ig(l),M=ig(s),O=ig(c),A=h.useCallback(()=>{if(!L.current||!T.current)return;const D={placement:e,strategy:n,middleware:p};M.current&&(D.platform=M.current),SU(L.current,T.current,D).then(j=>{const W={...j,isPositioned:O.current!==!1};F.current&&!wf(S.current,W)&&(S.current=W,Gn.flushSync(()=>{m(W)}))})},[p,e,n,M,O]);kh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[c]);const F=h.useRef(!1);kh(()=>(F.current=!0,()=>{F.current=!1}),[]),kh(()=>{if(I&&(L.current=I),k&&(T.current=k),I&&k){if(R.current)return R.current(I,k,A);A()}},[I,k,A,R,P]);const X=h.useMemo(()=>({reference:L,floating:T,setReference:_,setFloating:b}),[_,b]),q=h.useMemo(()=>({reference:I,floating:k}),[I,k]),$=h.useMemo(()=>{const D={position:n,left:0,top:0};if(!q.floating)return D;const j=eb(q.floating,f.x),W=eb(q.floating,f.y);return a?{...D,transform:"translate("+j+"px, "+W+"px)",...nk(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,a,q.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:A,refs:X,elements:q,floatingStyles:$}),[f,A,X,q,$])}const PU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JE({element:r.current,padding:s}).fn(n):{}:r?JE({element:r,padding:s}).fn(n):{}}}},IU=(t,e)=>({...wU(t),options:[t,e]}),kU=(t,e)=>({..._U(t),options:[t,e]}),RU=(t,e)=>({...CU(t),options:[t,e]}),AU=(t,e)=>({...xU(t),options:[t,e]}),NU=(t,e)=>({...EU(t),options:[t,e]}),MU=(t,e)=>({...bU(t),options:[t,e]}),LU=(t,e)=>({...PU(t),options:[t,e]});var OU="Arrow",rk=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});rk.displayName=OU;var DU=rk;function jU(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(m){const{scope:p,children:g,...v}=m,y=(p==null?void 0:p[t][l])||a,x=h.useMemo(()=>v,Object.values(v));return d.jsx(y.Provider,{value:x,children:g})}function f(m,p){const g=(p==null?void 0:p[t][l])||a,v=h.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,VU(s,...e)]}function VU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const m=l(i)[`__scope${c}`];return{...a,...m}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sk(t){const[e,n]=h.useState(void 0);return rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Qw="Popper",[ik,ro]=jU(Qw),[FU,ok]=ik(Qw),ak=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return d.jsx(FU,{scope:e,anchor:r,onAnchorChange:s,children:n})};ak.displayName=Qw;var lk="PopperAnchor",ck=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ok(lk,n),o=h.useRef(null),a=Oe(e,o);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(me.div,{...s,ref:a})});ck.displayName=lk;var Yw="PopperContent",[UU,BU]=ik(Yw),uk=h.forwardRef((t,e)=>{var ee,ie,he,te,oe,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,x=ok(Yw,n),[E,_]=h.useState(null),b=Oe(e,Ke=>_(Ke)),[I,k]=h.useState(null),L=sk(I),T=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(c)?c:[c],O=M.length>0,A={padding:R,boundary:M.filter(zU),altBoundary:O},{refs:F,floatingStyles:X,placement:q,isPositioned:$,middlewareData:D}=TU({strategy:"fixed",placement:P,whileElementsMounted:(...Ke)=>yU(...Ke,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[IU({mainAxis:s+S,alignmentAxis:o}),l&&kU({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?RU():void 0,...A}),l&&AU({...A}),NU({...A,apply:({elements:Ke,rects:at,availableWidth:Ce,availableHeight:Nt})=>{const{width:mn,height:Vs}=at.reference,et=Ke.floating.style;et.setProperty("--radix-popper-available-width",`${Ce}px`),et.setProperty("--radix-popper-available-height",`${Nt}px`),et.setProperty("--radix-popper-anchor-width",`${mn}px`),et.setProperty("--radix-popper-anchor-height",`${Vs}px`)}}),I&&LU({element:I,padding:a}),WU({arrowWidth:T,arrowHeight:S}),p&&MU({strategy:"referenceHidden",...A})]}),[j,W]=fk(q),H=nn(v);rn(()=>{$&&(H==null||H())},[$,H]);const Z=(ee=D.arrow)==null?void 0:ee.x,Y=(ie=D.arrow)==null?void 0:ie.y,ue=((he=D.arrow)==null?void 0:he.centerOffset)!==0,[U,le]=h.useState();return rn(()=>{E&&le(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:$?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(te=D.transformOrigin)==null?void 0:te.x,(oe=D.transformOrigin)==null?void 0:oe.y].join(" "),...((ve=D.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(UU,{scope:n,placedSide:j,onArrowChange:k,arrowX:Z,arrowY:Y,shouldHideArrow:ue,children:d.jsx(me.div,{"data-side":j,"data-align":W,...y,ref:b,style:{...y.style,animation:$?void 0:"none"}})})})});uk.displayName=Yw;var dk="PopperArrow",$U={top:"bottom",right:"left",bottom:"top",left:"right"},hk=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=BU(dk,r),o=$U[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(DU,{...s,ref:n,style:{...s.style,display:"block"}})})});hk.displayName=dk;function zU(t){return t!==null}var WU=t=>({name:"transformOrigin",options:t,fn(e){var x,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=fk(n),m={start:"0%",center:"50%",end:"100%"}[f],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?m:`${p}px`,y=`${-l}px`):c==="top"?(v=o?m:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?m:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?m:`${g}px`),{data:{x:v,y}}}});function fk(t){const[e,n="center"]=t.split("-");return[e,n]}var Xw=ak,Ku=ck,Ip=uk,kp=hk,[Rp,Eee]=Os("Tooltip",[ro]),Zw=ro(),pk="TooltipProvider",HU=700,tb="tooltip.open",[qU,mk]=Rp(pk),gk=t=>{const{__scopeTooltip:e,delayDuration:n=HU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=h.useState(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),d.jsx(qU,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(f=>{l.current=f},[]),disableHoverableContent:s,children:i})};gk.displayName=pk;var vk="Tooltip",[bee,Ap]=Rp(vk),qv="TooltipTrigger",KU=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ap(qv,n),i=mk(qv,n),o=Zw(n),a=h.useRef(null),l=Oe(e,a,s.onTriggerChange),c=h.useRef(!1),f=h.useRef(!1),m=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),d.jsx(Ku,{asChild:!0,...o,children:d.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ne(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ne(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ne(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ne(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ne(t.onBlur,s.onClose),onClick:ne(t.onClick,s.onClose)})})});KU.displayName=qv;var GU="TooltipPortal",[Cee,QU]=Rp(GU,{forceMount:void 0}),wl="TooltipContent",yk=h.forwardRef((t,e)=>{const n=QU(wl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ap(wl,t.__scopeTooltip);return d.jsx(Tn,{present:r||o.open,children:o.disableHoverableContent?d.jsx(wk,{side:s,...i,ref:e}):d.jsx(YU,{side:s,...i,ref:e})})}),YU=h.forwardRef((t,e)=>{const n=Ap(wl,t.__scopeTooltip),r=mk(wl,t.__scopeTooltip),s=h.useRef(null),i=Oe(e,s),[o,a]=h.useState(null),{trigger:l,onClose:c}=n,f=s.current,{onPointerInTransitChange:m}=r,p=h.useCallback(()=>{a(null),m(!1)},[m]),g=h.useCallback((v,y)=>{const x=v.currentTarget,E={x:v.clientX,y:v.clientY},_=e5(E,x.getBoundingClientRect()),b=t5(E,_),I=n5(y.getBoundingClientRect()),k=s5([...b,...I]);a(k),m(!0)},[m]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(l&&f){const v=x=>g(x,f),y=x=>g(x,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",y)}}},[l,f,g,p]),h.useEffect(()=>{if(o){const v=y=>{const x=y.target,E={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(x))||(f==null?void 0:f.contains(x)),b=!r5(E,o);_?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,c,p]),d.jsx(wk,{...t,ref:i})}),[XU,ZU]=Rp(vk,{isInside:!1}),wk=h.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ap(wl,n),c=Zw(n),{onClose:f}=l;return h.useEffect(()=>(document.addEventListener(tb,f),()=>document.removeEventListener(tb,f)),[f]),h.useEffect(()=>{if(l.trigger){const m=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,f]),d.jsx(na,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:d.jsxs(Ip,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(lI,{children:r}),d.jsx(XU,{scope:n,isInside:!0,children:d.jsx(WV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});yk.displayName=wl;var _k="TooltipArrow",JU=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zw(n);return ZU(_k,n).isInside?null:d.jsx(kp,{...s,...r,ref:e})});JU.displayName=_k;function e5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function r5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(s=!s)}return s}function s5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i5(e)}function i5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o5=gk,xk=yk;const a5=o5,l5=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(xk,{ref:r,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));l5.displayName=xk.displayName;var Np=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mp=typeof window>"u"||"Deno"in globalThis;function hr(){}function c5(t,e){return typeof t=="function"?t(e):t}function u5(t){return typeof t=="number"&&t>=0&&t!==1/0}function d5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nb(t,e){return typeof t=="function"?t(e):t}function h5(t,e){return typeof t=="function"?t(e):t}function rb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Jw(o,e.options))return!1}else if(!gu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function sb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(mu(e.options.mutationKey)!==mu(i))return!1}else if(!gu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Jw(t,e){return((e==null?void 0:e.queryKeyHashFn)||mu)(t)}function mu(t){return JSON.stringify(t,(e,n)=>Kv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gu(t[n],e[n])):!1}function Ek(t,e){if(t===e)return t;const n=ib(t)&&ib(e);if(n||Kv(t)&&Kv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const f=n?c:i[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=Ek(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ib(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kv(t){if(!ob(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ob(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ob(t){return Object.prototype.toString.call(t)==="[object Object]"}function f5(t){return new Promise(e=>{setTimeout(e,t)})}function p5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ek(t,e):e}function m5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function g5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var e0=Symbol();function bk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===e0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Io,fi,nl,VS,v5=(VS=class extends Np{constructor(){super();He(this,Io);He(this,fi);He(this,nl);Pe(this,nl,e=>{if(!Mp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,fi)||this.setEventListener(G(this,nl))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,fi))==null||e.call(this),Pe(this,fi,void 0))}setEventListener(e){var n;Pe(this,nl,e),(n=G(this,fi))==null||n.call(this),Pe(this,fi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){G(this,Io)!==e&&(Pe(this,Io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof G(this,Io)=="boolean"?G(this,Io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Io=new WeakMap,fi=new WeakMap,nl=new WeakMap,VS),Ck=new v5,rl,pi,sl,FS,y5=(FS=class extends Np{constructor(){super();He(this,rl,!0);He(this,pi);He(this,sl);Pe(this,sl,e=>{if(!Mp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,pi)||this.setEventListener(G(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,pi))==null||e.call(this),Pe(this,pi,void 0))}setEventListener(e){var n;Pe(this,sl,e),(n=G(this,pi))==null||n.call(this),Pe(this,pi,e(this.setOnline.bind(this)))}setOnline(e){G(this,rl)!==e&&(Pe(this,rl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return G(this,rl)}},rl=new WeakMap,pi=new WeakMap,sl=new WeakMap,FS),_f=new y5;function w5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _5(t){return Math.min(1e3*2**t,3e4)}function Sk(t){return(t??"online")==="online"?_f.isOnline():!0}var Tk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function og(t){return t instanceof Tk}function Pk(t){let e=!1,n=0,r=!1,s;const i=w5(),o=y=>{var x;r||(p(new Tk(y)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Ck.isFocused()&&(t.networkMode==="always"||_f.isOnline())&&t.canRun(),f=()=>Sk(t.networkMode)&&t.canRun(),m=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var x;s=E=>{(r||c())&&y(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(m).catch(E=>{var L;if(r)return;const _=t.retry??(Mp?0:3),b=t.retryDelay??_5,I=typeof b=="function"?b(n,E):b,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!k){p(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),f5(I).then(()=>c()?void 0:g()).then(()=>{e?p(E):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?v():g().then(v),i)}}function x5(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var un=x5(),ko,US,Ik=(US=class{constructor(){He(this,ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),u5(this.gcTime)&&Pe(this,ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mp?1/0:5*60*1e3))}clearGcTimeout(){G(this,ko)&&(clearTimeout(G(this,ko)),Pe(this,ko,void 0))}},ko=new WeakMap,US),il,ol,Zn,Xt,Du,Ro,fr,cs,BS,E5=(BS=class extends Ik{constructor(n){super();He(this,fr);He(this,il);He(this,ol);He(this,Zn);He(this,Xt);He(this,Du);He(this,Ro);Pe(this,Ro,!1),Pe(this,Du,n.defaultOptions),this.setOptions(n.options),this.observers=[],Pe(this,Zn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Pe(this,il,C5(this.options)),this.state=n.state??G(this,il),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=G(this,Xt))==null?void 0:n.promise}setOptions(n){this.options={...G(this,Du),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Zn).remove(this)}setData(n,r){const s=p5(this.state.data,n,this.options);return Kt(this,fr,cs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Kt(this,fr,cs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=G(this,Xt))==null?void 0:s.promise;return(i=G(this,Xt))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,il))}isActive(){return this.observers.some(n=>h5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!d5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),G(this,Zn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(G(this,Xt)&&(G(this,Ro)?G(this,Xt).cancel({revert:!0}):G(this,Xt).cancelRetry()),this.scheduleGc()),G(this,Zn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,fr,cs).call(this,{type:"invalidate"})}fetch(n,r){var c,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Xt))return G(this,Xt).continueRetry(),G(this,Xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Pe(this,Ro,!0),s.signal)})},o=()=>{const p=bk(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Pe(this,Ro,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Pe(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Kt(this,fr,cs).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const l=p=>{var g,v,y,x;og(p)&&p.silent||Kt(this,fr,cs).call(this,{type:"error",error:p}),og(p)||((v=(g=G(this,Zn).config).onError)==null||v.call(g,p,this),(x=(y=G(this,Zn).config).onSettled)==null||x.call(y,this.state.data,p,this)),this.scheduleGc()};return Pe(this,Xt,Pk({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,v,y,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){l(E);return}(v=(g=G(this,Zn).config).onSuccess)==null||v.call(g,p,this),(x=(y=G(this,Zn).config).onSettled)==null||x.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Kt(this,fr,cs).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Kt(this,fr,cs).call(this,{type:"pause"})},onContinue:()=>{Kt(this,fr,cs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),G(this,Xt).start()}},il=new WeakMap,ol=new WeakMap,Zn=new WeakMap,Xt=new WeakMap,Du=new WeakMap,Ro=new WeakMap,fr=new WeakSet,cs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...b5(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return og(i)&&i.revert&&G(this,ol)?{...G(this,ol),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),un.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),G(this,Zn).notify({query:this,type:"updated",action:n})})},BS);function b5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,$S,S5=($S=class extends Np{constructor(e={}){super();He(this,Or);this.config=e,Pe(this,Or,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Jw(s,n);let o=this.get(i);return o||(o=new E5({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){G(this,Or).has(e.queryHash)||(G(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=G(this,Or).get(e.queryHash);n&&(e.destroy(),n===e&&G(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,Or).get(e)}getAll(){return[...G(this,Or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>rb(e,r)):n}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,$S),Dr,an,Ao,jr,ei,zS,T5=(zS=class extends Ik{constructor(n){super();He(this,jr);He(this,Dr);He(this,an);He(this,Ao);this.mutationId=n.mutationId,Pe(this,an,n.mutationCache),Pe(this,Dr,[]),this.state=n.state||P5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){G(this,Dr).includes(n)||(G(this,Dr).push(n),this.clearGcTimeout(),G(this,an).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Pe(this,Dr,G(this,Dr).filter(r=>r!==n)),this.scheduleGc(),G(this,an).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){G(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():G(this,an).remove(this))}continue(){var n;return((n=G(this,Ao))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,f,m,p,g,v,y,x,E,_,b,I,k,L,T,S;Pe(this,Ao,Pk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{Kt(this,jr,ei).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{Kt(this,jr,ei).call(this,{type:"pause"})},onContinue:()=>{Kt(this,jr,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,an).canRun(this)}));const r=this.state.status==="pending",s=!G(this,Ao).canStart();try{if(!r){Kt(this,jr,ei).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=G(this,an).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Kt(this,jr,ei).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const P=await G(this,Ao).start();return await((f=(c=G(this,an).config).onSuccess)==null?void 0:f.call(c,P,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,P,n,this.state.context)),await((v=(g=G(this,an).config).onSettled)==null?void 0:v.call(g,P,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,P,null,n,this.state.context)),Kt(this,jr,ei).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(E=G(this,an).config).onError)==null?void 0:_.call(E,P,n,this.state.context,this)),await((I=(b=this.options).onError)==null?void 0:I.call(b,P,n,this.state.context)),await((L=(k=G(this,an).config).onSettled)==null?void 0:L.call(k,void 0,P,this.state.variables,this.state.context,this)),await((S=(T=this.options).onSettled)==null?void 0:S.call(T,void 0,P,n,this.state.context)),P}finally{Kt(this,jr,ei).call(this,{type:"error",error:P})}}finally{G(this,an).runNext(this)}}},Dr=new WeakMap,an=new WeakMap,Ao=new WeakMap,jr=new WeakSet,ei=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),un.batch(()=>{G(this,Dr).forEach(s=>{s.onMutationUpdate(n)}),G(this,an).notify({mutation:this,type:"updated",action:n})})},zS);function P5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,ju,WS,I5=(WS=class extends Np{constructor(e={}){super();He(this,Nn);He(this,ju);this.config=e,Pe(this,Nn,new Map),Pe(this,ju,Date.now())}build(e,n,r){const s=new T5({mutationCache:this,mutationId:++Nd(this,ju)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=eh(e),r=G(this,Nn).get(n)??[];r.push(e),G(this,Nn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=eh(e);if(G(this,Nn).has(n)){const s=(r=G(this,Nn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?G(this,Nn).delete(n):G(this,Nn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=G(this,Nn).get(eh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=G(this,Nn).get(eh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...G(this,Nn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sb(n,r))}findAll(e={}){return this.getAll().filter(n=>sb(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},Nn=new WeakMap,ju=new WeakMap,WS);function eh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ab(t){return{onFetch:(e,n)=>{var f,m,p,g,v;const r=e.options,s=(p=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=bk(e.options,e.fetchOptions),_=async(b,I,k)=>{if(y)return Promise.reject();if(I==null&&b.pages.length)return Promise.resolve(b);const L={queryKey:e.queryKey,pageParam:I,direction:k?"backward":"forward",meta:e.options.meta};x(L);const T=await E(L),{maxPages:S}=e.options,P=k?g5:m5;return{pages:P(b.pages,T,S),pageParams:P(b.pageParams,I,S)}};if(s&&i.length){const b=s==="backward",I=b?k5:lb,k={pages:i,pageParams:o},L=I(r,k);a=await _(k,L,b)}else{const b=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:lb(r,a);if(l>0&&I==null)break;a=await _(a,I),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function lb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function k5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var pt,mi,gi,al,ll,vi,cl,ul,HS,R5=(HS=class{constructor(t={}){He(this,pt);He(this,mi);He(this,gi);He(this,al);He(this,ll);He(this,vi);He(this,cl);He(this,ul);Pe(this,pt,t.queryCache||new S5),Pe(this,mi,t.mutationCache||new I5),Pe(this,gi,t.defaultOptions||{}),Pe(this,al,new Map),Pe(this,ll,new Map),Pe(this,vi,0)}mount(){Nd(this,vi)._++,G(this,vi)===1&&(Pe(this,cl,Ck.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,pt).onFocus())})),Pe(this,ul,_f.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,pt).onOnline())})))}unmount(){var t,e;Nd(this,vi)._--,G(this,vi)===0&&((t=G(this,cl))==null||t.call(this),Pe(this,cl,void 0),(e=G(this,ul))==null||e.call(this),Pe(this,ul,void 0))}isFetching(t){return G(this,pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,pt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=G(this,pt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(nb(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return G(this,pt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=G(this,pt).get(r.queryHash),i=s==null?void 0:s.state.data,o=c5(e,i);if(o!==void 0)return G(this,pt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return un.batch(()=>G(this,pt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,pt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=G(this,pt);un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=G(this,pt),r={type:"active",...t};return un.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=un.batch(()=>G(this,pt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t={},e={}){return un.batch(()=>{if(G(this,pt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=un.batch(()=>G(this,pt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=G(this,pt).build(this,e);return n.isStaleByTime(nb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=ab(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=ab(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _f.isOnline()?G(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,pt)}getMutationCache(){return G(this,mi)}getDefaultOptions(){return G(this,gi)}setDefaultOptions(t){Pe(this,gi,t)}setQueryDefaults(t,e){G(this,al).set(mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,al).values()];let n={};return e.forEach(r=>{gu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){G(this,ll).set(mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,ll).values()];let n={};return e.forEach(r=>{gu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===e0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,pt).clear(),G(this,mi).clear()}},pt=new WeakMap,mi=new WeakMap,gi=new WeakMap,al=new WeakMap,ll=new WeakMap,vi=new WeakMap,cl=new WeakMap,ul=new WeakMap,HS),A5=h.createContext(void 0),N5=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(A5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}var _i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_i||(_i={}));const cb="popstate";function M5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xf(s)}return O5(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5(){return Math.random().toString(36).substr(2,8)}function ub(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,n,r){return n===void 0&&(n=null),vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bl(e):e,{state:n,key:e&&e.key||r||L5()})}function xf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function O5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=_i.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(vu({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function m(){a=_i.Pop;let x=f(),E=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:E})}function p(x,E){a=_i.Push;let _=Gv(y.location,x,E);c=f()+1;let b=ub(_,c),I=y.createHref(_);try{o.pushState(b,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function g(x,E){a=_i.Replace;let _=Gv(y.location,x,E);c=f();let b=ub(_,c),I=y.createHref(_);o.replaceState(b,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function v(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof x=="string"?x:xf(x);return _=_.replace(/ $/,"%20"),xt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cb,m),l=x,()=>{s.removeEventListener(cb,m),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let E=v(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(x){return o.go(x)}};return y}var db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(db||(db={}));function D5(t,e,n){return n===void 0&&(n="/"),j5(t,e,n,!1)}function j5(t,e,n,r){let s=typeof e=="string"?Bl(e):e,i=t0(s.pathname||"/",n);if(i==null)return null;let o=Rk(t);V5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Q5(i);a=K5(o[l],c,r)}return a}function Rk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ai([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rk(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:H5(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ak(i.path))s(i,o,l)}),e}function Ak(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ak(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function V5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const F5=/^:[\w-]+$/,U5=3,B5=2,$5=1,z5=10,W5=-2,hb=t=>t==="*";function H5(t,e){let n=t.split("/"),r=n.length;return n.some(hb)&&(r+=W5),e&&(r+=B5),n.filter(s=>!hb(s)).reduce((s,i)=>s+(F5.test(i)?U5:i===""?$5:z5),r)}function q5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function K5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=fb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=fb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Ai([i,m.pathname]),pathnameBase:J5(Ai([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Ai([i,m.pathnameBase]))}return o}function fb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,f,m)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let y=a[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[m];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function G5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Q5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bl(t):t;return{pathname:n?n.startsWith("/")?n:X5(n,e):e,search:e3(r),hash:t3(s)}}function X5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t,e){let n=Z5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bl(t):(s=vu({},t),xt(!s.pathname||!s.pathname.includes("?"),ag("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),ag("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),ag("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}a=m>=0?e[m]:"/"}let l=Y5(s,a),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Ai=t=>t.join("/").replace(/\/\/+/g,"/"),J5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nk=["post","put","patch","delete"];new Set(Nk);const r3=["get",...Nk];new Set(r3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}const s0=h.createContext(null),s3=h.createContext(null),so=h.createContext(null),Lp=h.createContext(null),Ds=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=h.createContext(null);function i3(t,e){let{relative:n}=e===void 0?{}:e;$l()||xt(!1);let{basename:r,navigator:s}=h.useContext(so),{hash:i,pathname:o,search:a}=Dk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ai([r,o])),s.createHref({pathname:l,search:a,hash:i})}function $l(){return h.useContext(Lp)!=null}function ra(){return $l()||xt(!1),h.useContext(Lp).location}function Lk(t){h.useContext(so).static||h.useLayoutEffect(t)}function io(){let{isDataRoute:t}=h.useContext(Ds);return t?y3():o3()}function o3(){$l()||xt(!1);let t=h.useContext(s0),{basename:e,future:n,navigator:r}=h.useContext(so),{matches:s}=h.useContext(Ds),{pathname:i}=ra(),o=JSON.stringify(n0(s,n.v7_relativeSplatPath)),a=h.useRef(!1);return Lk(()=>{a.current=!0}),h.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let m=r0(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ai([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,i,t])}function Ok(){let{matches:t}=h.useContext(Ds),e=t[t.length-1];return e?e.params:{}}function Dk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(so),{matches:s}=h.useContext(Ds),{pathname:i}=ra(),o=JSON.stringify(n0(s,r.v7_relativeSplatPath));return h.useMemo(()=>r0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function a3(t,e){return l3(t,e)}function l3(t,e,n,r){$l()||xt(!1);let{navigator:s}=h.useContext(so),{matches:i}=h.useContext(Ds),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ra(),f;if(e){var m;let x=typeof e=="string"?Bl(e):e;l==="/"||(m=x.pathname)!=null&&m.startsWith(l)||xt(!1),f=x}else f=c;let p=f.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=D5(t,{pathname:g}),y=f3(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ai([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ai([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&y?h.createElement(Lp.Provider,{value:{location:yu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_i.Pop}},y):y}function c3(){let t=v3(),e=n3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:s},n):null,null)}const u3=h.createElement(c3,null);class d3 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(Ds.Provider,{value:this.props.routeContext},h.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h3(t){let{routeContext:e,match:n,children:r}=t,s=h.useContext(s0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ds.Provider,{value:e},r)}function f3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);f>=0||xt(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:p,errors:g}=n,v=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,m,p)=>{let g,v=!1,y=null,x=null;n&&(g=a&&m.route.id?a[m.route.id]:void 0,y=m.route.errorElement||u3,l&&(c<0&&p===0?(v=!0,x=null):c===p&&(v=!0,x=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),_=()=>{let b;return g?b=y:v?b=x:m.route.Component?b=h.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,h.createElement(h3,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(d3,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var jk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jk||{}),Ef=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ef||{});function p3(t){let e=h.useContext(s0);return e||xt(!1),e}function m3(t){let e=h.useContext(s3);return e||xt(!1),e}function g3(t){let e=h.useContext(Ds);return e||xt(!1),e}function Vk(t){let e=g3(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function v3(){var t;let e=h.useContext(Mk),n=m3(Ef.UseRouteError),r=Vk(Ef.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function y3(){let{router:t}=p3(jk.UseNavigateStable),e=Vk(Ef.UseNavigateStable),n=h.useRef(!1);return Lk(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yu({fromRouteId:e},i)))},[t,e])}function Fk(t){let{to:e,replace:n,state:r,relative:s}=t;$l()||xt(!1);let{future:i,static:o}=h.useContext(so),{matches:a}=h.useContext(Ds),{pathname:l}=ra(),c=io(),f=r0(e,n0(a,i.v7_relativeSplatPath),l,s==="path"),m=JSON.stringify(f);return h.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:s}),[c,m,s,n,r]),null}function vn(t){xt(!1)}function w3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_i.Pop,navigator:i,static:o=!1,future:a}=t;$l()&&xt(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:i,static:o,future:yu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Bl(r));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=r,y=h.useMemo(()=>{let x=t0(f,l);return x==null?null:{location:{pathname:x,search:m,hash:p,state:g,key:v},navigationType:s}},[l,f,m,p,g,v,s]);return y==null?null:h.createElement(so.Provider,{value:c},h.createElement(Lp.Provider,{children:n,value:y}))}function _3(t){let{children:e,location:n}=t;return a3(Qv(e),n)}new Promise(()=>{});function Qv(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,s)=>{if(!h.isValidElement(r))return;let i=[...e,s];if(r.type===h.Fragment){n.push.apply(n,Qv(r.props.children,i));return}r.type!==vn&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}function x3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function E3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b3(t,e){return t.button===0&&(!e||e==="_self")&&!E3(t)}const C3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S3="6";try{window.__reactRouterVersion=S3}catch{}const T3="startTransition",pb=rT[T3];function P3(t){let{basename:e,children:n,future:r,window:s}=t,i=h.useRef();i.current==null&&(i.current=M5({window:s,v5Compat:!0}));let o=i.current,[a,l]=h.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=h.useCallback(m=>{c&&pb?pb(()=>l(m)):l(m)},[l,c]);return h.useLayoutEffect(()=>o.listen(f),[o,f]),h.createElement(w3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const I3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=h.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:m}=e,p=x3(e,C3),{basename:g}=h.useContext(so),v,y=!1;if(typeof c=="string"&&k3.test(c)&&(v=c,I3))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=t0(I.pathname,g);I.origin===b.origin&&k!=null?c=k+I.search+I.hash:y=!0}catch{}let x=i3(c,{relative:s}),E=R3(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:m});function _(b){r&&r(b),b.defaultPrevented||E(b)}return h.createElement("a",Yv({},p,{href:v||x,onClick:y||i?r:_,ref:n,target:l}))});var mb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mb||(mb={}));var gb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gb||(gb={}));function R3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=io(),c=ra(),f=Dk(t,{relative:o});return h.useCallback(m=>{if(b3(m,n)){m.preventDefault();let p=r!==void 0?r:xf(c)===xf(f);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,f,r,s,n,t,i,o,a])}const Xv=Wu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Ts:"button";return d.jsx(o,{className:pe(Xv({variant:e,size:n,className:t})),ref:i,...s})});ze.displayName="Button";const A3=Wu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $o({className:t,variant:e,...n}){return d.jsx("div",{className:pe(A3({variant:e}),t),...n})}const vb=()=>{const[t,e]=h.useState(!1);h.useEffect(()=>{const r=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;(r==="dark"||!r&&s)&&(e(!0),document.documentElement.classList.add("dark"))},[]);const n=()=>{t?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")),e(!t)};return d.jsx(ze,{variant:"ghost",size:"icon",onClick:n,"aria-label":t?"Cambiar a modo claro":"Cambiar a modo oscuro",children:t?d.jsx(E4,{className:"h-5 w-5"}):d.jsx(x4,{className:"h-5 w-5"})})};var N3=h.createContext(void 0);function Op(t){const e=h.useContext(N3);return t||e||"ltr"}var lg=0;function Dp(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yb()),document.body.insertAdjacentElement("beforeend",t[1]??yb()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lg--}},[])}function yb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",wb={bubbles:!1,cancelable:!0},M3="FocusScope",Gu=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=h.useState(null),c=nn(s),f=nn(i),m=h.useRef(null),p=Oe(e,y=>l(y)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?m.current=I:ti(m.current,{select:!0})},x=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||ti(m.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&ti(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,g.paused]),h.useEffect(()=>{if(a){xb.add(g);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(cg,wb);a.addEventListener(cg,c),a.dispatchEvent(E),E.defaultPrevented||(L3(F3(Uk(a)),{select:!0}),document.activeElement===y&&ti(a))}return()=>{a.removeEventListener(cg,c),setTimeout(()=>{const E=new CustomEvent(ug,wb);a.addEventListener(ug,f),a.dispatchEvent(E),E.defaultPrevented||ti(y??document.body,{select:!0}),a.removeEventListener(ug,f),xb.remove(g)},0)}}},[a,c,f,g]);const v=h.useCallback(y=>{if(!n&&!r||g.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(x&&E){const _=y.currentTarget,[b,I]=O3(_);b&&I?!y.shiftKey&&E===I?(y.preventDefault(),n&&ti(b,{select:!0})):y.shiftKey&&E===b&&(y.preventDefault(),n&&ti(I,{select:!0})):E===_&&y.preventDefault()}},[n,r,g.paused]);return d.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Gu.displayName=M3;function L3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ti(r,{select:e}),document.activeElement!==n)return}function O3(t){const e=Uk(t),n=_b(e,t),r=_b(e.reverse(),t);return[n,r]}function Uk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _b(t,e){for(const n of t)if(!D3(n,{upTo:e}))return n}function D3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function j3(t){return t instanceof HTMLInputElement&&"select"in t}function ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&j3(t)&&e&&t.select()}}var xb=V3();function V3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Eb(t,e),t.unshift(e)},remove(e){var n;t=Eb(t,e),(n=t[0])==null||n.resume()}}}function Eb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function F3(t){return t.filter(e=>e.tagName!=="A")}function U3(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(m){const{scope:p,children:g,...v}=m,y=(p==null?void 0:p[t][l])||a,x=h.useMemo(()=>v,Object.values(v));return d.jsx(y.Provider,{value:x,children:g})}function f(m,p){const g=(p==null?void 0:p[t][l])||a,v=h.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,B3(s,...e)]}function B3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const m=l(i)[`__scope${c}`];return{...a,...m}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var dg="rovingFocusGroup.onEntryFocus",$3={bubbles:!1,cancelable:!0},jp="RovingFocusGroup",[Zv,Bk,z3]=_p(jp),[W3,Vp]=U3(jp,[z3]),[H3,q3]=W3(jp),$k=h.forwardRef((t,e)=>d.jsx(Zv.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Zv.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(K3,{...t,ref:e})})}));$k.displayName=jp;var K3=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...m}=t,p=h.useRef(null),g=Oe(e,p),v=Op(i),[y=null,x]=Ps({prop:o,defaultProp:a,onChange:l}),[E,_]=h.useState(!1),b=nn(c),I=Bk(n),k=h.useRef(!1),[L,T]=h.useState(0);return h.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(dg,b),()=>S.removeEventListener(dg,b)},[b]),d.jsx(H3,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(S=>x(S),[x]),onItemShiftTab:h.useCallback(()=>_(!0),[]),onFocusableItemAdd:h.useCallback(()=>T(S=>S+1),[]),onFocusableItemRemove:h.useCallback(()=>T(S=>S-1),[]),children:d.jsx(me.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{k.current=!0}),onFocus:ne(t.onFocus,S=>{const P=!k.current;if(S.target===S.currentTarget&&P&&!E){const R=new CustomEvent(dg,$3);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=I().filter(q=>q.focusable),O=M.find(q=>q.active),A=M.find(q=>q.id===y),X=[O,A,...M].filter(Boolean).map(q=>q.ref.current);Hk(X,f)}}k.current=!1}),onBlur:ne(t.onBlur,()=>_(!1))})})}),zk="RovingFocusGroupItem",Wk=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=xr(),l=i||a,c=q3(zk,n),f=c.currentTabStopId===l,m=Bk(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(Zv.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ne(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:ne(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ne(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Y3(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let E=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")E.reverse();else if(y==="prev"||y==="next"){y==="prev"&&E.reverse();const _=E.indexOf(v.currentTarget);E=c.loop?X3(E,_+1):E.slice(_+1)}setTimeout(()=>Hk(E))}})})})});Wk.displayName=zk;var G3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y3(t,e,n){const r=Q3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G3[r]}function Hk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function X3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qk=$k,Kk=Wk,Z3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ya=new WeakMap,th=new WeakMap,nh={},hg=0,Gk=function(t){return t&&(t.host||Gk(t.parentNode))},J3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Gk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},e6=function(t,e,n,r){var s=J3(e,Array.isArray(t)?t:[t]);nh[n]||(nh[n]=new WeakMap);var i=nh[n],o=[],a=new Set,l=new Set(s),c=function(m){!m||a.has(m)||(a.add(m),c(m.parentNode))};s.forEach(c);var f=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(p){if(a.has(p))f(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(ya.get(p)||0)+1,x=(i.get(p)||0)+1;ya.set(p,y),i.set(p,x),o.push(p),y===1&&v&&th.set(p,!0),x===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return f(e),a.clear(),hg++,function(){o.forEach(function(m){var p=ya.get(m)-1,g=i.get(m)-1;ya.set(m,p),i.set(m,g),p||(th.has(m)||m.removeAttribute(r),th.delete(m)),g||m.removeAttribute(n)}),hg--,hg||(ya=new WeakMap,ya=new WeakMap,th=new WeakMap,nh={})}},Fp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Z3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),e6(r,s,n,"aria-hidden")):function(){return null}},Fr=function(){return Fr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fr.apply(this,arguments)};function Qu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function t6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Rh="right-scroll-bar-position",Ah="width-before-scroll-bar",n6="with-scroll-bars-hidden",r6="--removed-body-scroll-bar-size";function fg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function s6(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var i6=typeof window<"u"?h.useLayoutEffect:h.useEffect,bb=new WeakMap;function o6(t,e){var n=s6(null,function(r){return t.forEach(function(s){return fg(s,r)})});return i6(function(){var r=bb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||fg(a,null)}),i.forEach(function(a){s.has(a)||fg(a,o)})}bb.set(n,t)},[t]),n}function a6(t){return t}function l6(t,e){e===void 0&&(e=a6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return s}function c6(t){t===void 0&&(t={});var e=l6(null);return e.options=Fr({async:!0,ssr:!1},t),e}var Qk=function(t){var e=t.sideCar,n=Qu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Fr({},n))};Qk.isSideCarExport=!0;function u6(t,e){return t.useMedium(e),Qk}var Yk=c6(),pg=function(){},Up=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,m=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,_=t.gapMode,b=Qu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,k=o6([n,e]),L=Fr(Fr({},b),s);return h.createElement(h.Fragment,null,f&&h.createElement(I,{sideCar:Yk,removeScrollBar:c,shards:m,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?h.cloneElement(h.Children.only(a),Fr(Fr({},L),{ref:k})):h.createElement(E,Fr({},L,{className:l,ref:k}),a))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:Ah,zeroRight:Rh};var d6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=d6();return e&&t.setAttribute("nonce",e),t}function f6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function p6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var m6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=h6())&&(f6(e,n),p6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},g6=function(){var t=m6();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Xk=function(){var t=g6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},v6={left:0,top:0,right:0,gap:0},mg=function(t){return parseInt(t||"",10)||0},y6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[mg(n),mg(r),mg(s)]},w6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return v6;var e=y6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_6=Xk(),Qa="data-scroll-locked",x6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(n6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ah,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qa,`] {
    `).concat(r6,": ").concat(a,`px;
  }
`)},Cb=function(){var t=parseInt(document.body.getAttribute(Qa)||"0",10);return isFinite(t)?t:0},E6=function(){h.useEffect(function(){return document.body.setAttribute(Qa,(Cb()+1).toString()),function(){var t=Cb()-1;t<=0?document.body.removeAttribute(Qa):document.body.setAttribute(Qa,t.toString())}},[])},b6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;E6();var i=h.useMemo(function(){return w6(s)},[s]);return h.createElement(_6,{styles:x6(i,!e,s,n?"":"!important")})},Jv=!1;if(typeof window<"u")try{var rh=Object.defineProperty({},"passive",{get:function(){return Jv=!0,!0}});window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{Jv=!1}var wa=Jv?{passive:!1}:!1,C6=function(t){return t.tagName==="TEXTAREA"},Zk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!C6(t)&&n[e]==="visible")},S6=function(t){return Zk(t,"overflowY")},T6=function(t){return Zk(t,"overflowX")},Sb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jk(t,r);if(s){var i=eR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},I6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Jk=function(t,e){return t==="v"?S6(e):T6(e)},eR=function(t,e){return t==="v"?P6(e):I6(e)},k6=function(t,e){return t==="h"&&e==="rtl"?-1:1},R6=function(t,e,n,r,s){var i=k6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,f=o>0,m=0,p=0;do{var g=eR(t,a),v=g[0],y=g[1],x=g[2],E=y-x-i*v;(v||E)&&Jk(t,a)&&(m+=E,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(p)<1||!s))&&(c=!0),c},sh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Tb=function(t){return[t.deltaX,t.deltaY]},Pb=function(t){return t&&"current"in t?t.current:t},A6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},N6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M6=0,_a=[];function L6(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(M6++)[0],i=h.useState(Xk)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=t6([t.lockRef.current],(t.shards||[]).map(Pb),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=sh(y),_=n.current,b="deltaX"in y?y.deltaX:_[0]-E[0],I="deltaY"in y?y.deltaY:_[1]-E[1],k,L=y.target,T=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in y&&T==="h"&&L.type==="range")return!1;var S=Sb(T,L);if(!S)return!0;if(S?k=T:(k=T==="v"?"h":"v",S=Sb(T,L)),!S)return!1;if(!r.current&&"changedTouches"in y&&(b||I)&&(r.current=k),!k)return!0;var P=r.current||k;return R6(P,x,y,P==="h"?b:I,!0)},[]),l=h.useCallback(function(y){var x=y;if(!(!_a.length||_a[_a.length-1]!==i)){var E="deltaY"in x?Tb(x):sh(x),_=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&A6(k.delta,E)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(Pb).filter(Boolean).filter(function(k){return k.contains(x.target)}),I=b.length>0?a(x,b[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),c=h.useCallback(function(y,x,E,_){var b={name:y,delta:x,target:E,should:_,shadowParent:O6(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),f=h.useCallback(function(y){n.current=sh(y),r.current=void 0},[]),m=h.useCallback(function(y){c(y.type,Tb(y),y.target,a(y,t.lockRef.current))},[]),p=h.useCallback(function(y){c(y.type,sh(y),y.target,a(y,t.lockRef.current))},[]);h.useEffect(function(){return _a.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wa),document.addEventListener("touchmove",l,wa),document.addEventListener("touchstart",f,wa),function(){_a=_a.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,wa),document.removeEventListener("touchmove",l,wa),document.removeEventListener("touchstart",f,wa)}},[]);var g=t.removeScrollBar,v=t.inert;return h.createElement(h.Fragment,null,v?h.createElement(i,{styles:N6(s)}):null,g?h.createElement(b6,{gapMode:t.gapMode}):null)}function O6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const D6=u6(Yk,L6);var Yu=h.forwardRef(function(t,e){return h.createElement(Up,Fr({},t,{ref:e,sideCar:D6}))});Yu.classNames=Up.classNames;var ey=["Enter"," "],j6=["ArrowDown","PageUp","Home"],tR=["ArrowUp","PageDown","End"],V6=[...j6,...tR],F6={ltr:[...ey,"ArrowRight"],rtl:[...ey,"ArrowLeft"]},U6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xu="Menu",[wu,B6,$6]=_p(Xu),[sa,nR]=Os(Xu,[$6,ro,Vp]),Bp=ro(),rR=Vp(),[z6,ia]=sa(Xu),[W6,Zu]=sa(Xu),sR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Bp(e),[l,c]=h.useState(null),f=h.useRef(!1),m=nn(i),p=Op(s);return h.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),d.jsx(Xw,{...a,children:d.jsx(z6,{scope:e,open:n,onOpenChange:m,content:l,onContentChange:c,children:d.jsx(W6,{scope:e,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};sR.displayName=Xu;var H6="MenuAnchor",i0=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Bp(n);return d.jsx(Ku,{...s,...r,ref:e})});i0.displayName=H6;var o0="MenuPortal",[q6,iR]=sa(o0,{forceMount:void 0}),oR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ia(o0,e);return d.jsx(q6,{scope:e,forceMount:n,children:d.jsx(Tn,{present:n||i.open,children:d.jsx(jl,{asChild:!0,container:s,children:r})})})};oR.displayName=o0;var sr="MenuContent",[K6,a0]=sa(sr),aR=h.forwardRef((t,e)=>{const n=iR(sr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ia(sr,t.__scopeMenu),o=Zu(sr,t.__scopeMenu);return d.jsx(wu.Provider,{scope:t.__scopeMenu,children:d.jsx(Tn,{present:r||i.open,children:d.jsx(wu.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(G6,{...s,ref:e}):d.jsx(Q6,{...s,ref:e})})})})}),G6=h.forwardRef((t,e)=>{const n=ia(sr,t.__scopeMenu),r=h.useRef(null),s=Oe(e,r);return h.useEffect(()=>{const i=r.current;if(i)return Fp(i)},[]),d.jsx(l0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Q6=h.forwardRef((t,e)=>{const n=ia(sr,t.__scopeMenu);return d.jsx(l0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),l0=h.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=t,x=ia(sr,n),E=Zu(sr,n),_=Bp(n),b=rR(n),I=B6(n),[k,L]=h.useState(null),T=h.useRef(null),S=Oe(e,T,x.onContentChange),P=h.useRef(0),R=h.useRef(""),M=h.useRef(0),O=h.useRef(null),A=h.useRef("right"),F=h.useRef(0),X=v?Yu:h.Fragment,q=v?{as:Ts,allowPinchZoom:!0}:void 0,$=j=>{var ee,ie;const W=R.current+j,H=I().filter(he=>!he.disabled),Z=document.activeElement,Y=(ee=H.find(he=>he.ref.current===Z))==null?void 0:ee.textValue,ue=H.map(he=>he.textValue),U=aB(ue,W,Y),le=(ie=H.find(he=>he.textValue===U))==null?void 0:ie.ref.current;(function he(te){R.current=te,window.clearTimeout(P.current),te!==""&&(P.current=window.setTimeout(()=>he(""),1e3))})(W),le&&setTimeout(()=>le.focus())};h.useEffect(()=>()=>window.clearTimeout(P.current),[]),Dp();const D=h.useCallback(j=>{var H,Z;return A.current===((H=O.current)==null?void 0:H.side)&&cB(j,(Z=O.current)==null?void 0:Z.area)},[]);return d.jsx(K6,{scope:n,searchRef:R,onItemEnter:h.useCallback(j=>{D(j)&&j.preventDefault()},[D]),onItemLeave:h.useCallback(j=>{var W;D(j)||((W=T.current)==null||W.focus(),L(null))},[D]),onTriggerLeave:h.useCallback(j=>{D(j)&&j.preventDefault()},[D]),pointerGraceTimerRef:M,onPointerGraceIntentChange:h.useCallback(j=>{O.current=j},[]),children:d.jsx(X,{...q,children:d.jsx(Gu,{asChild:!0,trapped:s,onMountAutoFocus:ne(i,j=>{var W;j.preventDefault(),(W=T.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(na,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:d.jsx(qk,{asChild:!0,...b,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:L,onEntryFocus:ne(l,j=>{E.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Ip,{role:"menu","aria-orientation":"vertical","data-state":bR(x.open),"data-radix-menu-content":"",dir:E.dir,..._,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,j=>{const H=j.target.closest("[data-radix-menu-content]")===j.currentTarget,Z=j.ctrlKey||j.altKey||j.metaKey,Y=j.key.length===1;H&&(j.key==="Tab"&&j.preventDefault(),!Z&&Y&&$(j.key));const ue=T.current;if(j.target!==ue||!V6.includes(j.key))return;j.preventDefault();const le=I().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);tR.includes(j.key)&&le.reverse(),iB(le)}),onBlur:ne(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:ne(t.onPointerMove,_u(j=>{const W=j.target,H=F.current!==j.clientX;if(j.currentTarget.contains(W)&&H){const Z=j.clientX>F.current?"right":"left";A.current=Z,F.current=j.clientX}}))})})})})})})});aR.displayName=sr;var Y6="MenuGroup",c0=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(me.div,{role:"group",...r,ref:e})});c0.displayName=Y6;var X6="MenuLabel",lR=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(me.div,{...r,ref:e})});lR.displayName=X6;var bf="MenuItem",Ib="menu.itemSelect",$p=h.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=h.useRef(null),o=Zu(bf,t.__scopeMenu),a=a0(bf,t.__scopeMenu),l=Oe(e,i),c=h.useRef(!1),f=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(Ib,{bubbles:!0,cancelable:!0});m.addEventListener(Ib,g=>r==null?void 0:r(g),{once:!0}),Lw(m,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(cR,{...s,ref:l,disabled:n,onClick:ne(t.onClick,f),onPointerDown:m=>{var p;(p=t.onPointerDown)==null||p.call(t,m),c.current=!0},onPointerUp:ne(t.onPointerUp,m=>{var p;c.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:ne(t.onKeyDown,m=>{const p=a.searchRef.current!=="";n||p&&m.key===" "||ey.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});$p.displayName=bf;var cR=h.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=a0(bf,n),a=rR(n),l=h.useRef(null),c=Oe(e,l),[f,m]=h.useState(!1),[p,g]=h.useState("");return h.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),d.jsx(wu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(Kk,{asChild:!0,...a,focusable:!r,children:d.jsx(me.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ne(t.onPointerMove,_u(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(t.onPointerLeave,_u(v=>o.onItemLeave(v))),onFocus:ne(t.onFocus,()=>m(!0)),onBlur:ne(t.onBlur,()=>m(!1))})})})}),Z6="MenuCheckboxItem",uR=h.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(mR,{scope:t.__scopeMenu,checked:n,children:d.jsx($p,{role:"menuitemcheckbox","aria-checked":Cf(n)?"mixed":n,...s,ref:e,"data-state":d0(n),onSelect:ne(s.onSelect,()=>r==null?void 0:r(Cf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});uR.displayName=Z6;var dR="MenuRadioGroup",[J6,eB]=sa(dR,{value:void 0,onValueChange:()=>{}}),hR=h.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=nn(r);return d.jsx(J6,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(c0,{...s,ref:e})})});hR.displayName=dR;var fR="MenuRadioItem",pR=h.forwardRef((t,e)=>{const{value:n,...r}=t,s=eB(fR,t.__scopeMenu),i=n===s.value;return d.jsx(mR,{scope:t.__scopeMenu,checked:i,children:d.jsx($p,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":d0(i),onSelect:ne(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});pR.displayName=fR;var u0="MenuItemIndicator",[mR,tB]=sa(u0,{checked:!1}),gR=h.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=tB(u0,n);return d.jsx(Tn,{present:r||Cf(i.checked)||i.checked===!0,children:d.jsx(me.span,{...s,ref:e,"data-state":d0(i.checked)})})});gR.displayName=u0;var nB="MenuSeparator",vR=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});vR.displayName=nB;var rB="MenuArrow",yR=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Bp(n);return d.jsx(kp,{...s,...r,ref:e})});yR.displayName=rB;var sB="MenuSub",[Pee,wR]=sa(sB),Sc="MenuSubTrigger",_R=h.forwardRef((t,e)=>{const n=ia(Sc,t.__scopeMenu),r=Zu(Sc,t.__scopeMenu),s=wR(Sc,t.__scopeMenu),i=a0(Sc,t.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},f=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>f,[f]),h.useEffect(()=>{const m=a.current;return()=>{window.clearTimeout(m),l(null)}},[a,l]),d.jsx(i0,{asChild:!0,...c,children:d.jsx(cR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":bR(n.open),...t,ref:wp(e,s.onTriggerChange),onClick:m=>{var p;(p=t.onClick)==null||p.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,_u(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ne(t.onPointerLeave,_u(m=>{var g,v;f();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(v=n.content)==null?void 0:v.dataset.side,x=y==="right",E=x?-5:5,_=p[x?"left":"right"],b=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+E,y:m.clientY},{x:_,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:_,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,m=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&m.key===" "||F6[r.dir].includes(m.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),m.preventDefault())})})})});_R.displayName=Sc;var xR="MenuSubContent",ER=h.forwardRef((t,e)=>{const n=iR(sr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ia(sr,t.__scopeMenu),o=Zu(sr,t.__scopeMenu),a=wR(xR,t.__scopeMenu),l=h.useRef(null),c=Oe(e,l);return d.jsx(wu.Provider,{scope:t.__scopeMenu,children:d.jsx(Tn,{present:r||i.open,children:d.jsx(wu.Slot,{scope:t.__scopeMenu,children:d.jsx(l0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=l.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ne(t.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ne(t.onKeyDown,f=>{var g;const m=f.currentTarget.contains(f.target),p=U6[o.dir].includes(f.key);m&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),f.preventDefault())})})})})})});ER.displayName=xR;function bR(t){return t?"open":"closed"}function Cf(t){return t==="indeterminate"}function d0(t){return Cf(t)?"indeterminate":t?"checked":"unchecked"}function iB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function aB(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=oB(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(s=!s)}return s}function cB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return lB(n,e)}function _u(t){return e=>e.pointerType==="mouse"?t(e):void 0}var uB=sR,dB=i0,hB=oR,fB=aR,pB=c0,mB=lR,gB=$p,vB=uR,yB=hR,wB=pR,_B=gR,xB=vR,EB=yR,bB=_R,CB=ER,h0="DropdownMenu",[SB,Iee]=Os(h0,[nR]),pn=nR(),[TB,CR]=SB(h0),SR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=pn(e),c=h.useRef(null),[f=!1,m]=Ps({prop:s,defaultProp:i,onChange:o});return d.jsx(TB,{scope:e,triggerId:xr(),triggerRef:c,contentId:xr(),open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),modal:a,children:d.jsx(uB,{...l,open:f,onOpenChange:m,dir:r,modal:a,children:n})})};SR.displayName=h0;var TR="DropdownMenuTrigger",PR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=CR(TR,n),o=pn(n);return d.jsx(dB,{asChild:!0,...o,children:d.jsx(me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wp(e,i.triggerRef),onPointerDown:ne(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ne(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});PR.displayName=TR;var PB="DropdownMenuPortal",IR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=pn(e);return d.jsx(hB,{...r,...n})};IR.displayName=PB;var kR="DropdownMenuContent",RR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=CR(kR,n),i=pn(n),o=h.useRef(!1);return d.jsx(fB,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RR.displayName=kR;var IB="DropdownMenuGroup",kB=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(pB,{...s,...r,ref:e})});kB.displayName=IB;var RB="DropdownMenuLabel",AR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(mB,{...s,...r,ref:e})});AR.displayName=RB;var AB="DropdownMenuItem",NR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(gB,{...s,...r,ref:e})});NR.displayName=AB;var NB="DropdownMenuCheckboxItem",MR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(vB,{...s,...r,ref:e})});MR.displayName=NB;var MB="DropdownMenuRadioGroup",LB=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(yB,{...s,...r,ref:e})});LB.displayName=MB;var OB="DropdownMenuRadioItem",LR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(wB,{...s,...r,ref:e})});LR.displayName=OB;var DB="DropdownMenuItemIndicator",OR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(_B,{...s,...r,ref:e})});OR.displayName=DB;var jB="DropdownMenuSeparator",DR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(xB,{...s,...r,ref:e})});DR.displayName=jB;var VB="DropdownMenuArrow",FB=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(EB,{...s,...r,ref:e})});FB.displayName=VB;var UB="DropdownMenuSubTrigger",jR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(bB,{...s,...r,ref:e})});jR.displayName=UB;var BB="DropdownMenuSubContent",VR=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return d.jsx(CB,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VR.displayName=BB;var $B=SR,zB=PR,WB=IR,FR=RR,UR=AR,BR=NR,$R=MR,zR=LR,WR=OR,HR=DR,qR=jR,KR=VR;const HB=$B,qB=zB,KB=h.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(qR,{ref:s,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(Fw,{className:"ml-auto h-4 w-4"})]}));KB.displayName=qR.displayName;const GB=h.forwardRef(({className:t,...e},n)=>d.jsx(KR,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));GB.displayName=KR.displayName;const GR=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(WB,{children:d.jsx(FR,{ref:r,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));GR.displayName=FR.displayName;const ty=h.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(BR,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ty.displayName=BR.displayName;const QB=h.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs($R,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(WR,{children:d.jsx(Vw,{className:"h-4 w-4"})})}),e]}));QB.displayName=$R.displayName;const YB=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(zR,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(WR,{children:d.jsx(f4,{className:"h-2 w-2 fill-current"})})}),e]}));YB.displayName=zR.displayName;const XB=h.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(UR,{ref:r,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));XB.displayName=UR.displayName;const ZB=h.forwardRef(({className:t,...e},n)=>d.jsx(HR,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));ZB.displayName=HR.displayName;const JB=()=>{};var kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},e$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},YR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=i>>2,m=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[f],n[m],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new t$;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),m!==64){const v=c<<6&192|m;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n$=function(t){const e=QR(t);return YR.encodeByteArray(e,!0)},Sf=function(t){return n$(t).replace(/\./g,"")},XR=function(t){try{return YR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=()=>r$().__FIREBASE_DEFAULTS__,i$=()=>{if(typeof process>"u"||typeof kb>"u")return;const t=kb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XR(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return JB()||s$()||i$()||o$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZR=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JR=t=>{const e=ZR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eA=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},tA=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function c$(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function h$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f$(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p$(){return!c$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m$(){try{return typeof indexedDB=="object"}catch{return!1}}function g$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v$,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?y$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new rs(s,a,r)}}function y$(t,e){return t.replace(w$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w$=/\{\$([^}]+)}/g;function _$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rb(i)&&Rb(o)){if(!zo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x$(t,e){const n=new E$(t,e);return n.subscribe.bind(n)}class E${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gg),s.error===void 0&&(s.error=gg),s.complete===void 0&&(s.complete=gg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new a$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T$(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S$(t){return t===xo?void 0:t}function T$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const I$={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},k$=Ne.INFO,R$={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},A$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=k$,this._logHandler=A$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const N$=(t,e)=>e.some(n=>t instanceof n);let Ab,Nb;function M$(){return Ab||(Ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L$(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rA=new WeakMap,ny=new WeakMap,sA=new WeakMap,vg=new WeakMap,p0=new WeakMap;function O$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ni(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rA.set(n,t)}).catch(()=>{}),p0.set(e,t),e}function D$(t){if(ny.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j$(t){ry=t(ry)}function V$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yg(this),e,...n);return sA.set(r,e.sort?e.sort():[e]),Ni(r)}:L$().includes(t)?function(...e){return t.apply(yg(this),e),Ni(rA.get(this))}:function(...e){return Ni(t.apply(yg(this),e))}}function F$(t){return typeof t=="function"?V$(t):(t instanceof IDBTransaction&&D$(t),N$(t,M$())?new Proxy(t,ry):t)}function Ni(t){if(t instanceof IDBRequest)return O$(t);if(vg.has(t))return vg.get(t);const e=F$(t);return e!==t&&(vg.set(t,e),p0.set(e,t)),e}const yg=t=>p0.get(t);function U$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ni(o.result),l.oldVersion,l.newVersion,Ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const B$=["get","getKey","getAll","getAllKeys","count"],$$=["put","add","delete","clear"],wg=new Map;function Mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||B$.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return wg.set(e,i),i}j$(t=>({...t,get:(e,n,r)=>Mb(e,n)||t.get(e,n,r),has:(e,n)=>!!Mb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sy="@firebase/app",Lb="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new f0("@firebase/app"),H$="@firebase/app-compat",q$="@firebase/analytics-compat",K$="@firebase/analytics",G$="@firebase/app-check-compat",Q$="@firebase/app-check",Y$="@firebase/auth",X$="@firebase/auth-compat",Z$="@firebase/database",J$="@firebase/data-connect",e9="@firebase/database-compat",t9="@firebase/functions",n9="@firebase/functions-compat",r9="@firebase/installations",s9="@firebase/installations-compat",i9="@firebase/messaging",o9="@firebase/messaging-compat",a9="@firebase/performance",l9="@firebase/performance-compat",c9="@firebase/remote-config",u9="@firebase/remote-config-compat",d9="@firebase/storage",h9="@firebase/storage-compat",f9="@firebase/firestore",p9="@firebase/vertexai",m9="@firebase/firestore-compat",g9="firebase",v9="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",y9={[sy]:"fire-core",[H$]:"fire-core-compat",[K$]:"fire-analytics",[q$]:"fire-analytics-compat",[Q$]:"fire-app-check",[G$]:"fire-app-check-compat",[Y$]:"fire-auth",[X$]:"fire-auth-compat",[Z$]:"fire-rtdb",[J$]:"fire-data-connect",[e9]:"fire-rtdb-compat",[t9]:"fire-fn",[n9]:"fire-fn-compat",[r9]:"fire-iid",[s9]:"fire-iid-compat",[i9]:"fire-fcm",[o9]:"fire-fcm-compat",[a9]:"fire-perf",[l9]:"fire-perf-compat",[c9]:"fire-rc",[u9]:"fire-rc-compat",[d9]:"fire-gcs",[h9]:"fire-gcs-compat",[f9]:"fire-fst",[m9]:"fire-fst-compat",[p9]:"fire-vertex","fire-js":"fire-js",[g9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Map,w9=new Map,oy=new Map;function Ob(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(oy.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const n of Tf.values())Ob(n,t);for(const n of w9.values())Ob(n,t);return!0}function Wp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Ju("app","Firebase",_9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=v9;function iA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=eA()),!n)throw Mi.create("no-options");const i=Tf.get(s);if(i){if(zo(n,i.options)&&zo(r,i.config))return i;throw Mi.create("duplicate-app",{appName:s})}const o=new P$(s);for(const l of oy.values())o.addComponent(l);const a=new x9(n,r,o);return Tf.set(s,a),a}function m0(t=iy){const e=Tf.get(t);if(!e&&t===iy&&eA())return iA();if(!e)throw Mi.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let s=(r=y9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(a.join(" "));return}Wo(new Wi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="firebase-heartbeat-database",b9=1,xu="firebase-heartbeat-store";let _g=null;function oA(){return _g||(_g=U$(E9,b9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),_g}async function C9(t){try{const n=(await oA()).transaction(xu),r=await n.objectStore(xu).get(aA(t));return await n.done,r}catch(e){if(e instanceof rs)Rs.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function Db(t,e){try{const r=(await oA()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,aA(t)),await r.done}catch(n){if(n instanceof rs)Rs.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function aA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=1024,T9=30;class P9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>T9){const o=R9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jb(),{heartbeatsToSend:r,unsentEntries:s}=I9(this._heartbeatsCache.heartbeats),i=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rs.warn(n),""}}}function jb(){return new Date().toISOString().substring(0,10)}function I9(t,e=S9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m$()?g$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}function R9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){Wo(new Wi("platform-logger",e=>new z$(e),"PRIVATE")),Wo(new Wi("heartbeat",e=>new P9(e),"PRIVATE")),qr(sy,Lb,t),qr(sy,Lb,"esm2017"),qr("fire-js","")}A9("");function lA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N9=lA,cA=new Ju("auth","Firebase",lA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new f0("@firebase/auth");function M9(t,...e){Pf.logLevel<=Ne.WARN&&Pf.warn(`Auth (${oa}): ${t}`,...e)}function Nh(t,...e){Pf.logLevel<=Ne.ERROR&&Pf.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw g0(t,...e)}function Kr(t,...e){return g0(t,...e)}function uA(t,e,n){const r=Object.assign(Object.assign({},N9()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return uA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cA.create(t,...e)}function ge(t,e,...n){if(!t)throw g0(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function As(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L9(){return Fb()==="http:"||Fb()==="https:"}function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L9()||d$()||"connection"in navigator)?navigator.onLine:!0}function D9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=l$()||h$()}get(){return O9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){As(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F9=new td(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function js(t,e,n,r,s={}){return hA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ed(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return u$()||(c.referrerPolicy="no-referrer"),dA.fetch()(await fA(t,t.config.apiHost,n,a),c)})}async function hA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},j9),e);try{const s=new B9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ih(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ih(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uA(t,f,c);Sr(t,f)}}catch(s){if(s instanceof rs)throw s;Sr(t,"network-request-failed",{message:String(s)})}}async function nd(t,e,n,r,s={}){const i=await js(t,e,n,r,s);return"mfaPendingCredential"in i&&Sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function fA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?v0(t.config,s):`${t.config.apiScheme}://${s}`;return V9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function U9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),F9.get())})}}function ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kr(t,e,r);return s.customData._tokenResponse=n,s}function Ub(t){return t!==void 0&&t.enterprise!==void 0}class $9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z9(t,e){return js(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function If(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H9(t,e=!1){const n=St(t),r=await n.getIdToken(e),s=y0(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:zc(xg(s.auth_time)),issuedAtTime:zc(xg(s.iat)),expirationTime:zc(xg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xg(t){return Number(t)*1e3}function y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=XR(n);return s?JSON.parse(s):(Nh("Failed to decode base64 JWT payload"),null)}catch(s){return Nh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bb(t){const e=y0(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&q9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _l(t,If(n,{idToken:r}));ge(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?pA(i.providerUserInfo):[],a=Q9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ly(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function G9(t){const e=St(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pA(t){return t.map(e=>{var{providerId:n}=e,r=Qu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e){const n=await hA(t,{},async()=>{const r=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await fA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X9(t,e){return js(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Bb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Y9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ya;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Qu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ly(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _l(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H9(this,e)}reload(){return G9(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await _l(this,W9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:I,isAnonymous:k,providerData:L,stsTokenManager:T}=n;ge(b&&T,e,"internal-error");const S=Ya.fromJSON(this.name,T);ge(typeof b=="string",e,"internal-error"),Xs(m,e.name),Xs(p,e.name),ge(typeof I=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Xs(g,e.name),Xs(v,e.name),Xs(y,e.name),Xs(x,e.name),Xs(E,e.name),Xs(_,e.name);const P=new gr({uid:b,auth:e,email:p,emailVerified:I,displayName:m,isAnonymous:k,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:E,lastLoginAt:_});return L&&Array.isArray(L)&&(P.providerData=L.map(R=>Object.assign({},R))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ya;s.updateFromServerResponse(n);const i=new gr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await kf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?pA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ya;a.updateFromIdToken(r);const l=new gr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;function vs(t){As(t instanceof Function,"Expected a class definition");let e=$b.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$b.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mA.type="NONE";const zb=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await If(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(vs(zb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||vs(zb);const o=Mh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){let m;if(typeof f=="string"){const p=await If(e,{idToken:f}).catch(()=>{});if(!p)break;m=await gr._fromGetAccountInfoResponse(e,p,f)}else m=gr._fromJSON(e,f);c!==i&&(a=m),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Xa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Xa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xA(e))return"Blackberry";if(EA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||yA(e))&&!e.includes("edge/"))return"Chrome";if(_A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gA(t=sn()){return/firefox\//i.test(t)}function vA(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yA(t=sn()){return/crios\//i.test(t)}function wA(t=sn()){return/iemobile/i.test(t)}function _A(t=sn()){return/android/i.test(t)}function xA(t=sn()){return/blackberry/i.test(t)}function EA(t=sn()){return/webos/i.test(t)}function w0(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z9(t=sn()){var e;return w0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J9(){return f$()&&document.documentMode===10}function bA(t=sn()){return w0(t)||_A(t)||EA(t)||xA(t)||/windows phone/i.test(t)||wA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e=[]){let n;switch(t){case"Browser":n=Wb(sn());break;case"Worker":n=`${Wb(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e={}){return js(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=6;class rz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hb(this),this.idTokenSubscription=new Hb(this),this.beforeStateQueue=new ez(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await If(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ws(this));const n=e?St(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tz(this),n=new rz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function aa(t){return St(t)}class Hb{constructor(e){this.auth=e,this.observer=null,this.addObserver=x$(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iz(t){Hp=t}function SA(t){return Hp.loadJS(t)}function oz(){return Hp.recaptchaEnterpriseScript}function az(){return Hp.gapiScript}function lz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cz{constructor(){this.enterprise=new uz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dz="recaptcha-enterprise",TA="NO_RECAPTCHA";class hz{constructor(e){this.type=dz,this.auth=aa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{z9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new $9(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ub(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(TA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cz().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ub(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oz();l.length!==0&&(l+=a),SA(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function qb(t,e,n,r=!1,s=!1){const i=new hz(t);let o;if(s)o=TA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cy(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await qb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){const n=Wp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(zo(i,e??{}))return s;Sr(s,"already-initialized")}return n.initialize({options:e})}function pz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mz(t,e,n){const r=aa(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=PA(e),{host:o,port:a}=gz(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(zo(c,r.config.emulator)&&zo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,vz()}function PA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gz(t){const e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Kb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Kb(o)}}}function Kb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function yz(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return nd(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function xz(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends _0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,n,"signInWithPassword",wz);case"emailLink":return _z(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,r,"signUpPassword",yz);case"emailLink":return xz(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return nd(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="http://localhost";class Ho extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Qu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ho(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:Ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cz(t){const e=Tc(Pc(t)).link,n=e?Tc(Pc(e)).deep_link_id:null,r=Tc(Pc(t)).deep_link_id;return(r?Tc(Pc(r)).link:null)||r||n||e||t}class x0{constructor(e){var n,r,s,i,o,a;const l=Tc(Pc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=bz((s=l.mode)!==null&&s!==void 0?s:null);ge(c&&f&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=f,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Cz(e);try{return new x0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=x0.parseLink(n);return ge(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends IA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends rd{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ho._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends rd{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends rd{constructor(){super("twitter.com")}static credential(e,n){return Ho._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e){return nd(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await gr._fromIdTokenResponse(e,r,s),o=Gb(r);return new qo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Gb(r);return new qo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends rs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rf(e,n,r,s)}}function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,i,e,r):i})}async function Tz(t,e,n=!1){const r=await _l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(ws(r));const s="reauthenticate";try{const i=await _l(t,kA(r,s,e,t),n);ge(i.idToken,r,"internal-error");const o=y0(i.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),qo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e,n=!1){if(jn(t.app))return Promise.reject(ws(t));const r="signIn",s=await kA(t,r,e),i=await qo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Iz(t,e){return RA(aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t){const e=aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kz(t,e,n){if(jn(t.app))return Promise.reject(ws(t));const r=aa(t),o=await cy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AA(t),l}),a=await qo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Rz(t,e,n){return jn(t.app)?Promise.reject(ws(t)):Iz(St(t),zl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e){return js(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=St(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _l(r,Az(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Nz(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function Mz(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function MA(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function Lz(t){return St(t).signOut()}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=1e3,Dz=10;class OA extends LA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);J9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Dz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Oz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OA.type="LOCAL";const jz=OA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA extends LA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DA.type="SESSION";const jA=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Vz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=E0("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function Uz(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zz(){return VA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebaseLocalStorageDb",Wz=1,Nf="firebaseLocalStorage",UA="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function Hz(){const t=indexedDB.deleteDatabase(FA);return new sd(t).toPromise()}function uy(){const t=indexedDB.open(FA,Wz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nf,{keyPath:UA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nf)?e(r):(r.close(),await Hz(),e(await uy()))})})}async function Qb(t,e,n){const r=Kp(t,!0).put({[UA]:e,value:n});return new sd(r).toPromise()}async function qz(t,e){const n=Kp(t,!1).get(e),r=await new sd(n).toPromise();return r===void 0?null:r.value}function Yb(t,e){const n=Kp(t,!0).delete(e);return new sd(n).toPromise()}const Kz=800,Gz=3;class BA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qp._getInstance(zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new Fz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await Qb(e,Af,"1"),await Yb(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Kp(s,!1).getAll();return new sd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BA.type="LOCAL";const Qz=BA;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t,e){return e?vs(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xz(t){return RA(t.auth,new b0(t),t.bypassAuthState)}function Zz(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Pz(n,new b0(t),t.bypassAuthState)}async function Jz(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Tz(n,new b0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xz;case"linkViaPopup":case"linkViaRedirect":return Jz;case"reauthViaPopup":case"reauthViaRedirect":return Zz;default:Sr(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new td(2e3,1e4);class Va extends $A{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eW.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="pendingRedirect",Lh=new Map;class nW extends $A{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const r=await rW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rW(t,e){const n=oW(e),r=iW(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sW(t,e){Lh.set(t._key(),e)}function iW(t){return vs(t._redirectPersistence)}function oW(t){return Mh(tW,t.config.apiKey,t.name)}async function aW(t,e,n=!1){if(jn(t.app))return Promise.reject(ws(t));const r=aa(t),s=Yz(r,e),o=await new nW(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=10*60*1e3;class cW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(e))}saveEventToCache(e){this.cachedEventUids.add(Xb(e)),this.lastProcessedEventTime=Date.now()}}function Xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fW=/^https?/;async function pW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dW(t);for(const n of e)try{if(mW(n))return}catch{}Sr(t,"unauthorized-domain")}function mW(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fW.test(n))return!1;if(hW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=new td(3e4,6e4);function Zb(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vW(t){return new Promise((e,n)=>{var r,s,i;function o(){Zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zb(),n(Kr(t,"network-request-failed"))},timeout:gW.get()})}if(!((s=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Gr().gapi)===null||i===void 0)&&i.load)o();else{const a=lz("iframefcb");return Gr()[a]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},SA(`${az()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function yW(t){return Oh=Oh||vW(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new td(5e3,15e3),_W="__/auth/iframe",xW="emulator/auth/iframe",EW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CW(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,xW):`https://${t.config.authDomain}/${_W}`,r={apiKey:e.apiKey,appName:t.name,v:oa},s=bW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ed(r).slice(1)}`}async function SW(t){const e=await yW(t),n=Gr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:CW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),a=Gr().setTimeout(()=>{i(o)},wW.get());function l(){Gr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PW=500,IW=600,kW="_blank",RW="http://localhost";class Jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AW(t,e,n,r=PW,s=IW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TW),{width:r.toString(),height:s.toString(),top:i,left:o}),c=sn().toLowerCase();n&&(a=yA(c)?kW:n),gA(c)&&(e=e||RW,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(Z9(c)&&a!=="_self")return NW(e||"",a),new Jb(null);const m=window.open(e||"",a,f);ge(m,t,"popup-blocked");try{m.focus()}catch{}return new Jb(m)}function NW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="__/auth/handler",LW="emulator/auth/handler",OW=encodeURIComponent("fac");async function eC(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:s};if(e instanceof IA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof rd){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${OW}=${encodeURIComponent(l)}`:"";return`${DW(t)}?${ed(a).slice(1)}${c}`}function DW({config:t}){return t.emulator?v0(t,LW):`https://${t.authDomain}/${MW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class jW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=aW,this._overrideRedirectResult=sW}async _openPopup(e,n,r,s){var i;As((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await eC(e,n,r,ay(),s);return AW(e,o,E0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await eC(e,n,r,ay(),s);return Uz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(As(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SW(e),r=new cW(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eg,{type:Eg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Eg];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||vA()||w0()}}const VW=jW;var tC="@firebase/auth",nC="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BW(t){Wo(new Wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(t)},c=new sz(r,s,i,l);return pz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Wi("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(r=>new FW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(tC,nC,UW(t)),qr(tC,nC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=5*60,zW=tA("authIdTokenMaxAge")||$W;let rC=null;const WW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zW)return;const s=n==null?void 0:n.token;rC!==s&&(rC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HW(t=m0()){const e=Wp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fz(t,{popupRedirectResolver:VW,persistence:[Qz,jz,jA]}),r=tA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=WW(i.toString());Mz(n,o,()=>o(n.currentUser)),Nz(n,a=>o(a))}}const s=ZR("auth");return s&&mz(n,`http://${s}`),n}function qW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Kr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",qW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BW("Browser");var KW="firebase",GW="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(KW,GW,"app");var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,WA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function P(){}P.prototype=S.prototype,T.D=S.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(R,M,O){for(var A=Array(arguments.length-2),F=2;F<arguments.length;F++)A[F-2]=arguments[F];return S.prototype[M].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,P){P||(P=0);var R=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)R[M]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(M=0;16>M;++M)R[M]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=T.g[0],P=T.g[1],M=T.g[2];var O=T.g[3],A=S+(O^P&(M^O))+R[0]+3614090360&4294967295;S=P+(A<<7&4294967295|A>>>25),A=O+(M^S&(P^M))+R[1]+3905402710&4294967295,O=S+(A<<12&4294967295|A>>>20),A=M+(P^O&(S^P))+R[2]+606105819&4294967295,M=O+(A<<17&4294967295|A>>>15),A=P+(S^M&(O^S))+R[3]+3250441966&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(O^P&(M^O))+R[4]+4118548399&4294967295,S=P+(A<<7&4294967295|A>>>25),A=O+(M^S&(P^M))+R[5]+1200080426&4294967295,O=S+(A<<12&4294967295|A>>>20),A=M+(P^O&(S^P))+R[6]+2821735955&4294967295,M=O+(A<<17&4294967295|A>>>15),A=P+(S^M&(O^S))+R[7]+4249261313&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(O^P&(M^O))+R[8]+1770035416&4294967295,S=P+(A<<7&4294967295|A>>>25),A=O+(M^S&(P^M))+R[9]+2336552879&4294967295,O=S+(A<<12&4294967295|A>>>20),A=M+(P^O&(S^P))+R[10]+4294925233&4294967295,M=O+(A<<17&4294967295|A>>>15),A=P+(S^M&(O^S))+R[11]+2304563134&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(O^P&(M^O))+R[12]+1804603682&4294967295,S=P+(A<<7&4294967295|A>>>25),A=O+(M^S&(P^M))+R[13]+4254626195&4294967295,O=S+(A<<12&4294967295|A>>>20),A=M+(P^O&(S^P))+R[14]+2792965006&4294967295,M=O+(A<<17&4294967295|A>>>15),A=P+(S^M&(O^S))+R[15]+1236535329&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(M^O&(P^M))+R[1]+4129170786&4294967295,S=P+(A<<5&4294967295|A>>>27),A=O+(P^M&(S^P))+R[6]+3225465664&4294967295,O=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(O^S))+R[11]+643717713&4294967295,M=O+(A<<14&4294967295|A>>>18),A=P+(O^S&(M^O))+R[0]+3921069994&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^O&(P^M))+R[5]+3593408605&4294967295,S=P+(A<<5&4294967295|A>>>27),A=O+(P^M&(S^P))+R[10]+38016083&4294967295,O=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(O^S))+R[15]+3634488961&4294967295,M=O+(A<<14&4294967295|A>>>18),A=P+(O^S&(M^O))+R[4]+3889429448&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^O&(P^M))+R[9]+568446438&4294967295,S=P+(A<<5&4294967295|A>>>27),A=O+(P^M&(S^P))+R[14]+3275163606&4294967295,O=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(O^S))+R[3]+4107603335&4294967295,M=O+(A<<14&4294967295|A>>>18),A=P+(O^S&(M^O))+R[8]+1163531501&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^O&(P^M))+R[13]+2850285829&4294967295,S=P+(A<<5&4294967295|A>>>27),A=O+(P^M&(S^P))+R[2]+4243563512&4294967295,O=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(O^S))+R[7]+1735328473&4294967295,M=O+(A<<14&4294967295|A>>>18),A=P+(O^S&(M^O))+R[12]+2368359562&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(P^M^O)+R[5]+4294588738&4294967295,S=P+(A<<4&4294967295|A>>>28),A=O+(S^P^M)+R[8]+2272392833&4294967295,O=S+(A<<11&4294967295|A>>>21),A=M+(O^S^P)+R[11]+1839030562&4294967295,M=O+(A<<16&4294967295|A>>>16),A=P+(M^O^S)+R[14]+4259657740&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^O)+R[1]+2763975236&4294967295,S=P+(A<<4&4294967295|A>>>28),A=O+(S^P^M)+R[4]+1272893353&4294967295,O=S+(A<<11&4294967295|A>>>21),A=M+(O^S^P)+R[7]+4139469664&4294967295,M=O+(A<<16&4294967295|A>>>16),A=P+(M^O^S)+R[10]+3200236656&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^O)+R[13]+681279174&4294967295,S=P+(A<<4&4294967295|A>>>28),A=O+(S^P^M)+R[0]+3936430074&4294967295,O=S+(A<<11&4294967295|A>>>21),A=M+(O^S^P)+R[3]+3572445317&4294967295,M=O+(A<<16&4294967295|A>>>16),A=P+(M^O^S)+R[6]+76029189&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^O)+R[9]+3654602809&4294967295,S=P+(A<<4&4294967295|A>>>28),A=O+(S^P^M)+R[12]+3873151461&4294967295,O=S+(A<<11&4294967295|A>>>21),A=M+(O^S^P)+R[15]+530742520&4294967295,M=O+(A<<16&4294967295|A>>>16),A=P+(M^O^S)+R[2]+3299628645&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(M^(P|~O))+R[0]+4096336452&4294967295,S=P+(A<<6&4294967295|A>>>26),A=O+(P^(S|~M))+R[7]+1126891415&4294967295,O=S+(A<<10&4294967295|A>>>22),A=M+(S^(O|~P))+R[14]+2878612391&4294967295,M=O+(A<<15&4294967295|A>>>17),A=P+(O^(M|~S))+R[5]+4237533241&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~O))+R[12]+1700485571&4294967295,S=P+(A<<6&4294967295|A>>>26),A=O+(P^(S|~M))+R[3]+2399980690&4294967295,O=S+(A<<10&4294967295|A>>>22),A=M+(S^(O|~P))+R[10]+4293915773&4294967295,M=O+(A<<15&4294967295|A>>>17),A=P+(O^(M|~S))+R[1]+2240044497&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~O))+R[8]+1873313359&4294967295,S=P+(A<<6&4294967295|A>>>26),A=O+(P^(S|~M))+R[15]+4264355552&4294967295,O=S+(A<<10&4294967295|A>>>22),A=M+(S^(O|~P))+R[6]+2734768916&4294967295,M=O+(A<<15&4294967295|A>>>17),A=P+(O^(M|~S))+R[13]+1309151649&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~O))+R[4]+4149444226&4294967295,S=P+(A<<6&4294967295|A>>>26),A=O+(P^(S|~M))+R[11]+3174756917&4294967295,O=S+(A<<10&4294967295|A>>>22),A=M+(S^(O|~P))+R[2]+718787259&4294967295,M=O+(A<<15&4294967295|A>>>17),A=P+(O^(M|~S))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var P=S-this.blockSize,R=this.B,M=this.h,O=0;O<S;){if(M==0)for(;O<=P;)s(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<S;)if(R[M++]=T.charCodeAt(O++),M==this.blockSize){s(this,R),M=0;break}}else for(;O<S;)if(R[M++]=T[O++],M==this.blockSize){s(this,R),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var P=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=P&255,P/=256;for(this.u(T),T=Array(16),S=P=0;4>S;++S)for(var R=0;32>R;R+=8)T[P++]=this.g[S]>>>R&255;return T};function i(T,S){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=S(T)}function o(T,S){this.h=S;for(var P=[],R=!0,M=T.length-1;0<=M;M--){var O=T[M]|0;R&&O==S||(P[M]=O,R=!1)}this.g=P}var a={};function l(T){return-128<=T&&128>T?i(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return x(c(-T));for(var S=[],P=1,R=0;T>=P;R++)S[R]=T/P|0,P*=4294967296;return new o(S,0)}function f(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return x(f(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(S,8)),R=m,M=0;M<T.length;M+=8){var O=Math.min(8,T.length-M),A=parseInt(T.substring(M,M+O),S);8>O?(O=c(Math.pow(S,O)),R=R.j(O).add(c(A))):(R=R.j(P),R=R.add(c(A)))}return R}var m=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var T=0,S=1,P=0;P<this.g.length;P++){var R=this.i(P);T+=(0<=R?R:4294967296+R)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(y(this))return"-"+x(this).toString(T);for(var S=c(Math.pow(T,6)),P=this,R="";;){var M=I(P,S).g;P=E(P,M.j(S));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=M,v(P))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=E(this,T),y(T)?-1:v(T)?0:1};function x(T){for(var S=T.g.length,P=[],R=0;R<S;R++)P[R]=~T.g[R];return new o(P,~T.h).add(p)}t.abs=function(){return y(this)?x(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),P=[],R=0,M=0;M<=S;M++){var O=R+(this.i(M)&65535)+(T.i(M)&65535),A=(O>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);R=A>>>16,O&=65535,A&=65535,P[M]=A<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function E(T,S){return T.add(x(S))}t.j=function(T){if(v(this)||v(T))return m;if(y(this))return y(T)?x(this).j(x(T)):x(x(this).j(T));if(y(T))return x(this.j(x(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,P=[],R=0;R<2*S;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<T.g.length;M++){var O=this.i(R)>>>16,A=this.i(R)&65535,F=T.i(M)>>>16,X=T.i(M)&65535;P[2*R+2*M]+=A*X,_(P,2*R+2*M),P[2*R+2*M+1]+=O*X,_(P,2*R+2*M+1),P[2*R+2*M+1]+=A*F,_(P,2*R+2*M+1),P[2*R+2*M+2]+=O*F,_(P,2*R+2*M+2)}for(R=0;R<S;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=S;R<2*S;R++)P[R]=0;return new o(P,0)};function _(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function b(T,S){this.g=T,this.h=S}function I(T,S){if(v(S))throw Error("division by zero");if(v(T))return new b(m,m);if(y(T))return S=I(x(T),S),new b(x(S.g),x(S.h));if(y(S))return S=I(T,x(S)),new b(x(S.g),S.h);if(30<T.g.length){if(y(T)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,R=S;0>=R.l(T);)P=k(P),R=k(R);var M=L(P,1),O=L(R,1);for(R=L(R,2),P=L(P,2);!v(R);){var A=O.add(R);0>=A.l(T)&&(M=M.add(P),O=A),R=L(R,1),P=L(P,1)}return S=E(T,M.j(S)),new b(M,S)}for(M=m;0<=T.l(S);){for(P=Math.max(1,Math.floor(T.m()/S.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(P),A=O.j(S);y(A)||0<A.l(T);)P-=R,O=c(P),A=O.j(S);v(O)&&(O=p),M=M.add(O),T=E(T,A)}return new b(M,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)&T.i(R);return new o(P,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)|T.i(R);return new o(P,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)^T.i(R);return new o(P,this.h^T.h)};function k(T){for(var S=T.g.length+1,P=[],R=0;R<S;R++)P[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(P,T.h)}function L(T,S){var P=S>>5;S%=32;for(var R=T.g.length-P,M=[],O=0;O<R;O++)M[O]=0<S?T.i(O+P)>>>S|T.i(O+P+1)<<32-S:T.i(O+P);return new o(M,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Li=o}).apply(typeof sC<"u"?sC:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,Ic,qA,Dh,dy,KA,GA,QA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,w,C){return u==Array.prototype||u==Object.prototype||(u[w]=C.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var w=0;w<u.length;++w){var C=u[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(u,w){if(w)e:{var C=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var V=u[N];if(!(V in C))break e;C=C[V]}u=u[u.length-1],N=C[u],w=w(N),w!=N&&w!=null&&e(C,u,{configurable:!0,writable:!0,value:w})}}function i(u,w){u instanceof String&&(u+="");var C=0,N=!1,V={next:function(){if(!N&&C<u.length){var B=C++;return{value:w(B,u[B]),done:!1}}return N=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(w,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var w=typeof u;return w=w!="object"?w:u?Array.isArray(u)?"array":w:"null",w=="array"||w=="object"&&typeof u.length=="number"}function c(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function f(u,w,C){return u.call.apply(u.bind,arguments)}function m(u,w,C){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,N),u.apply(w,V)}}return function(){return u.apply(w,arguments)}}function p(u,w,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function g(u,w){var C=Array.prototype.slice.call(arguments,1);return function(){var N=C.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function v(u,w){function C(){}C.prototype=w.prototype,u.aa=w.prototype,u.prototype=new C,u.prototype.constructor=u,u.Qb=function(N,V,B){for(var re=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)re[Xe-2]=arguments[Xe];return w.prototype[V].apply(N,re)}}function y(u){const w=u.length;if(0<w){const C=Array(w);for(let N=0;N<w;N++)C[N]=u[N];return C}return[]}function x(u,w){for(let C=1;C<arguments.length;C++){const N=arguments[C];if(l(N)){const V=u.length||0,B=N.length||0;u.length=V+B;for(let re=0;re<B;re++)u[V+re]=N[re]}else u.push(N)}}class E{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var k=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(u,w,C){for(const N in u)w.call(C,u[N],N,u)}function T(u,w){for(const C in u)w.call(void 0,u[C],C,u)}function S(u){const w={};for(const C in u)w[C]=u[C];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,w){let C,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(C in N)u[C]=N[C];for(let B=0;B<P.length;B++)C=P[B],Object.prototype.hasOwnProperty.call(N,C)&&(u[C]=N[C])}}function M(u){var w=1;u=u.split(":");const C=[];for(;0<w&&u.length;)C.push(u.shift()),w--;return u.length&&C.push(u.join(":")),C}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=j;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class F{constructor(){this.h=this.g=null}add(w,C){const N=X.get();N.set(w,C),this.h?this.h.next=N:this.g=N,this.h=N}}var X=new E(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let $,D=!1,j=new F,W=()=>{const u=a.Promise.resolve(void 0);$=()=>{u.then(H)}};var H=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(C){O(C)}var w=X;w.j(u),100>w.h&&(w.h++,u.next=w.g,w.g=u)}D=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const C=()=>{};a.addEventListener("test",C,w),a.removeEventListener("test",C,w)}catch{}return u}();function U(u,w){if(Y.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var C=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget){if(k){e:{try{I(w.nodeName);var V=!0;break e}catch{}V=!1}V||(w=null)}}else C=="mouseover"?w=u.fromElement:C=="mouseout"&&(w=u.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&U.aa.h.call(this)}}v(U,Y);var le={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ie=0;function he(u,w,C,N,V){this.listener=u,this.proxy=null,this.src=w,this.type=C,this.capture=!!N,this.ha=V,this.key=++ie,this.da=this.fa=!1}function te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,w,C,N,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var re=Ke(u,w,N,V);return-1<re?(w=u[re],C||(w.fa=!1)):(w=new he(w,this.src,B,!!N,V),w.fa=C,u.push(w)),w};function ve(u,w){var C=w.type;if(C in u.g){var N=u.g[C],V=Array.prototype.indexOf.call(N,w,void 0),B;(B=0<=V)&&Array.prototype.splice.call(N,V,1),B&&(te(w),u.g[C].length==0&&(delete u.g[C],u.h--))}}function Ke(u,w,C,N){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==w&&B.capture==!!C&&B.ha==N)return V}return-1}var at="closure_lm_"+(1e6*Math.random()|0),Ce={};function Nt(u,w,C,N,V){if(Array.isArray(w)){for(var B=0;B<w.length;B++)Nt(u,w[B],C,N,V);return null}return C=Us(C),u&&u[ee]?u.K(w,C,c(N)?!!N.capture:!!N,V):mn(u,w,C,!1,N,V)}function mn(u,w,C,N,V,B){if(!w)throw Error("Invalid event type");var re=c(V)?!!V.capture:!!V,Xe=In(u);if(Xe||(u[at]=Xe=new oe(u)),C=Xe.add(w,C,N,re,B),C.proxy)return C;if(N=Vs(),C.proxy=N,N.src=u,N.listener=C,u.addEventListener)ue||(V=re),V===void 0&&(V=!1),u.addEventListener(w.toString(),N,V);else if(u.attachEvent)u.attachEvent(ss(w.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Vs(){function u(C){return w.call(u.src,u.listener,C)}const w=ha;return u}function et(u,w,C,N,V){if(Array.isArray(w))for(var B=0;B<w.length;B++)et(u,w[B],C,N,V);else N=c(N)?!!N.capture:!!N,C=Us(C),u&&u[ee]?(u=u.i,w=String(w).toString(),w in u.g&&(B=u.g[w],C=Ke(B,C,N,V),-1<C&&(te(B[C]),Array.prototype.splice.call(B,C,1),B.length==0&&(delete u.g[w],u.h--)))):u&&(u=In(u))&&(w=u.g[w.toString()],u=-1,w&&(u=Ke(w,C,N,V)),(C=-1<u?w[u]:null)&&Pn(C))}function Pn(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[ee])ve(w.i,u);else{var C=u.type,N=u.proxy;w.removeEventListener?w.removeEventListener(C,N,u.capture):w.detachEvent?w.detachEvent(ss(C),N):w.addListener&&w.removeListener&&w.removeListener(N),(C=In(w))?(ve(C,u),C.h==0&&(C.src=null,w[at]=null)):te(u)}}}function ss(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ha(u,w){if(u.da)u=!0;else{w=new U(w,this);var C=u.listener,N=u.ha||u.src;u.fa&&Pn(u),u=C.call(N,w)}return u}function In(u){return u=u[at],u instanceof oe?u:null}var Fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Us(u){return typeof u=="function"?u:(u[Fs]||(u[Fs]=function(w){return u.handleEvent(w)}),u[Fs])}function lt(){Z.call(this),this.i=new oe(this),this.M=this,this.F=null}v(lt,Z),lt.prototype[ee]=!0,lt.prototype.removeEventListener=function(u,w,C,N){et(this,u,w,C,N)};function Ye(u,w){var C,N=u.F;if(N)for(C=[];N;N=N.F)C.push(N);if(u=u.M,N=w.type||w,typeof w=="string")w=new Y(w,u);else if(w instanceof Y)w.target=w.target||u;else{var V=w;w=new Y(N,u),R(w,V)}if(V=!0,C)for(var B=C.length-1;0<=B;B--){var re=w.g=C[B];V=Rr(re,N,!0,w)&&V}if(re=w.g=u,V=Rr(re,N,!0,w)&&V,V=Rr(re,N,!1,w)&&V,C)for(B=0;B<C.length;B++)re=w.g=C[B],V=Rr(re,N,!1,w)&&V}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,w;for(w in u.g){for(var C=u.g[w],N=0;N<C.length;N++)te(C[N]);delete u.g[w],u.h--}}this.F=null},lt.prototype.K=function(u,w,C,N){return this.i.add(String(u),w,!1,C,N)},lt.prototype.L=function(u,w,C,N){return this.i.add(String(u),w,!0,C,N)};function Rr(u,w,C,N){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();for(var V=!0,B=0;B<w.length;++B){var re=w[B];if(re&&!re.da&&re.capture==C){var Xe=re.listener,Vt=re.ha||re.src;re.fa&&ve(u.i,re),V=Xe.call(Vt,N)!==!1&&V}}return V&&!N.defaultPrevented}function gn(u,w,C){if(typeof u=="function")C&&(u=p(u,C));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(u,w||0)}function Bs(u){u.g=gn(()=>{u.g=null,u.i&&(u.i=!1,Bs(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class $s extends Z{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){Z.call(this),this.h=u,this.g={}}v(ar,Z);var Ar=[];function uo(u){L(u.g,function(w,C){this.g.hasOwnProperty(C)&&Pn(w)},u),u.g={}}ar.prototype.N=function(){ar.aa.N.call(this),uo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=a.JSON.stringify,kn=a.JSON.parse,zs=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ye(){}ye.prototype.h=null;function De(u){return u.h||(u.h=u.i())}function Fe(){}var Tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){Y.call(this,"d")}v(jt,Y);function Rn(){Y.call(this,"c")}v(Rn,Y);var Yn={},ho=null;function fo(){return ho=ho||new lt}Yn.La="serverreachability";function po(u){Y.call(this,Yn.La,u)}v(po,Y);function Ws(u){const w=fo();Ye(w,new po(w))}Yn.STAT_EVENT="statevent";function vd(u,w){Y.call(this,Yn.STAT_EVENT,u),this.stat=w}v(vd,Y);function yt(u){const w=fo();Ye(w,new vd(w,u))}Yn.Ma="timingevent";function xe(u,w){Y.call(this,Yn.Ma,u),this.size=w}v(xe,Y);function Xl(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},w)}function Zl(){this.g=!0}Zl.prototype.xa=function(){this.g=!1};function _D(u,w,C,N,V,B){u.info(function(){if(u.g)if(B)for(var re="",Xe=B.split("&"),Vt=0;Vt<Xe.length;Vt++){var Ue=Xe[Vt].split("=");if(1<Ue.length){var Ht=Ue[0];Ue=Ue[1];var qt=Ht.split("_");re=2<=qt.length&&qt[1]=="type"?re+(Ht+"="+Ue+"&"):re+(Ht+"=redacted&")}}else re=null;else re=B;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+w+`
`+C+`
`+re})}function xD(u,w,C,N,V,B,re){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+w+`
`+C+`
`+B+" "+re})}function fa(u,w,C,N){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+bD(u,C)+(N?" "+N:"")})}function ED(u,w){u.info(function(){return"TIMEOUT: "+w})}Zl.prototype.info=function(){};function bD(u,w){if(!u.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C){for(u=0;u<C.length;u++)if(Array.isArray(C[u])){var N=C[u];if(!(2>N.length)){var V=N[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Qn(C)}catch{return w}}var yd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mm;function wd(){}v(wd,ye),wd.prototype.g=function(){return new XMLHttpRequest},wd.prototype.i=function(){return{}},mm=new wd;function Hs(u,w,C,N){this.j=u,this.i=w,this.l=C,this.R=N||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new U_}function U_(){this.i=null,this.g="",this.h=!1}var B_={},gm={};function vm(u,w,C){u.L=1,u.v=bd(is(w)),u.m=C,u.P=!0,$_(u,null)}function $_(u,w){u.F=Date.now(),_d(u),u.A=is(u.v);var C=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),nx(C.i,"t",N),u.C=0,C=u.j.J,u.h=new U_,u.g=_x(u.j,C?w:null,!u.m),0<u.O&&(u.M=new $s(p(u.Y,u,u.g),u.O)),w=u.U,C=u.g,N=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ar[0]=V.toString()),V=Ar);for(var B=0;B<V.length;B++){var re=Nt(C,V[B],N||w.handleEvent,!1,w.h||w);if(!re)break;w.g[re.key]=re}w=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,w)):(u.u="GET",u.g.ea(u.A,u.u,null,w)),Ws(),_D(u.i,u.u,u.A,u.l,u.R,u.m)}Hs.prototype.ca=function(u){u=u.target;const w=this.M;w&&os(u)==3?w.j():this.Y(u)},Hs.prototype.Y=function(u){try{if(u==this.g)e:{const qt=os(this.g);var w=this.g.Ba();const ga=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||cx(this.g)))){this.J||qt!=4||w==7||(w==8||0>=ga?Ws(3):Ws(2)),ym(this);var C=this.g.Z();this.X=C;t:if(z_(this)){var N=cx(this.g);u="";var V=N.length,B=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Jl(this);var re="";break t}this.h.i=new a.TextDecoder}for(w=0;w<V;w++)this.h.h=!0,u+=this.h.i.decode(N[w],{stream:!(B&&w==V-1)});N.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=C==200,xD(this.i,this.u,this.A,this.l,this.R,qt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Vt=this.g;if((Xe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Xe)){var Ue=Xe;break t}}Ue=null}if(C=Ue)fa(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wm(this,C);else{this.o=!1,this.s=3,yt(12),mo(this),Jl(this);break e}}if(this.P){C=!0;let lr;for(;!this.J&&this.C<re.length;)if(lr=CD(this,re),lr==gm){qt==4&&(this.s=4,yt(14),C=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==B_){this.s=4,yt(15),fa(this.i,this.l,re,"[Invalid Chunk]"),C=!1;break}else fa(this.i,this.l,lr,null),wm(this,lr);if(z_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||re.length!=0||this.h.h||(this.s=1,yt(16),C=!1),this.o=this.o&&C,!C)fa(this.i,this.l,re,"[Invalid Chunked Response]"),mo(this),Jl(this);else if(0<re.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Sm(Ht),Ht.M=!0,yt(11))}}else fa(this.i,this.l,re,null),wm(this,re);qt==4&&mo(this),this.o&&!this.J&&(qt==4?gx(this.j,this):(this.o=!1,_d(this)))}else BD(this.g),C==400&&0<re.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),mo(this),Jl(this)}}}catch{}finally{}};function z_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function CD(u,w){var C=u.C,N=w.indexOf(`
`,C);return N==-1?gm:(C=Number(w.substring(C,N)),isNaN(C)?B_:(N+=1,N+C>w.length?gm:(w=w.slice(N,N+C),u.C=N+C,w)))}Hs.prototype.cancel=function(){this.J=!0,mo(this)};function _d(u){u.S=Date.now()+u.I,W_(u,u.I)}function W_(u,w){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xl(p(u.ba,u),w)}function ym(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Hs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ED(this.i,this.A),this.L!=2&&(Ws(),yt(17)),mo(this),this.s=2,Jl(this)):W_(this,this.S-u)};function Jl(u){u.j.G==0||u.J||gx(u.j,u)}function mo(u){ym(u);var w=u.M;w&&typeof w.ma=="function"&&w.ma(),u.M=null,uo(u.U),u.g&&(w=u.g,u.g=null,w.abort(),w.ma())}function wm(u,w){try{var C=u.j;if(C.G!=0&&(C.g==u||_m(C.h,u))){if(!u.K&&_m(C.h,u)&&C.G==3){try{var N=C.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<u.F)kd(C),Pd(C);else break e;Cm(C),yt(18)}}else C.za=V[1],0<C.za-C.T&&37500>V[2]&&C.F&&C.v==0&&!C.C&&(C.C=Xl(p(C.Za,C),6e3));if(1>=K_(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else vo(C,11)}else if((u.K||C.g==u)&&kd(C),!_(w))for(V=C.Da.g.parse(w),w=0;w<V.length;w++){let Ue=V[w];if(C.T=Ue[0],Ue=Ue[1],C.G==2)if(Ue[0]=="c"){C.K=Ue[1],C.ia=Ue[2];const Ht=Ue[3];Ht!=null&&(C.la=Ht,C.j.info("VER="+C.la));const qt=Ue[4];qt!=null&&(C.Aa=qt,C.j.info("SVER="+C.Aa));const ga=Ue[5];ga!=null&&typeof ga=="number"&&0<ga&&(N=1.5*ga,C.L=N,C.j.info("backChannelRequestTimeoutMs_="+N)),N=C;const lr=u.g;if(lr){const Ad=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ad){var B=N.h;B.g||Ad.indexOf("spdy")==-1&&Ad.indexOf("quic")==-1&&Ad.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xm(B,B.h),B.h=null))}if(N.D){const Tm=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Tm&&(N.ya=Tm,tt(N.I,N.D,Tm))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-u.F,C.j.info("Handshake RTT: "+C.R+"ms")),N=C;var re=u;if(N.qa=wx(N,N.J?N.ia:null,N.W),re.K){G_(N.h,re);var Xe=re,Vt=N.L;Vt&&(Xe.I=Vt),Xe.B&&(ym(Xe),_d(Xe)),N.g=re}else px(N);0<C.i.length&&Id(C)}else Ue[0]!="stop"&&Ue[0]!="close"||vo(C,7);else C.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?vo(C,7):bm(C):Ue[0]!="noop"&&C.l&&C.l.ta(Ue),C.v=0)}}Ws(4)}catch{}}var SD=class{constructor(u,w){this.g=u,this.map=w}};function H_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function q_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function K_(u){return u.h?1:u.g?u.g.size:0}function _m(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function xm(u,w){u.g?u.g.add(w):u.h=w}function G_(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}H_.prototype.cancel=function(){if(this.i=Q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Q_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const C of u.g.values())w=w.concat(C.D);return w}return y(u.i)}function TD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var w=[],C=u.length,N=0;N<C;N++)w.push(u[N]);return w}w=[],C=0;for(N in u)w[C++]=u[N];return w}function PD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var w=[];u=u.length;for(var C=0;C<u;C++)w.push(C);return w}w=[],C=0;for(const N in u)w[C++]=N;return w}}}function Y_(u,w){if(u.forEach&&typeof u.forEach=="function")u.forEach(w,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,w,void 0);else for(var C=PD(u),N=TD(u),V=N.length,B=0;B<V;B++)w.call(void 0,N[B],C&&C[B],u)}var X_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ID(u,w){if(u){u=u.split("&");for(var C=0;C<u.length;C++){var N=u[C].indexOf("="),V=null;if(0<=N){var B=u[C].substring(0,N);V=u[C].substring(N+1)}else B=u[C];w(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function go(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof go){this.h=u.h,xd(this,u.j),this.o=u.o,this.g=u.g,Ed(this,u.s),this.l=u.l;var w=u.i,C=new nc;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),Z_(this,C),this.m=u.m}else u&&(w=String(u).match(X_))?(this.h=!1,xd(this,w[1]||"",!0),this.o=ec(w[2]||""),this.g=ec(w[3]||"",!0),Ed(this,w[4]),this.l=ec(w[5]||"",!0),Z_(this,w[6]||"",!0),this.m=ec(w[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}go.prototype.toString=function(){var u=[],w=this.j;w&&u.push(tc(w,J_,!0),":");var C=this.g;return(C||w=="file")&&(u.push("//"),(w=this.o)&&u.push(tc(w,J_,!0),"@"),u.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&u.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&u.push("/"),u.push(tc(C,C.charAt(0)=="/"?AD:RD,!0))),(C=this.i.toString())&&u.push("?",C),(C=this.m)&&u.push("#",tc(C,MD)),u.join("")};function is(u){return new go(u)}function xd(u,w,C){u.j=C?ec(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function Ed(u,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);u.s=w}else u.s=null}function Z_(u,w,C){w instanceof nc?(u.i=w,LD(u.i,u.h)):(C||(w=tc(w,ND)),u.i=new nc(w,u.h))}function tt(u,w,C){u.i.set(w,C)}function bd(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ec(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tc(u,w,C){return typeof u=="string"?(u=encodeURI(u).replace(w,kD),C&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var J_=/[#\/\?@]/g,RD=/[#\?:]/g,AD=/[#\?]/g,ND=/[#\?@]/g,MD=/#/g;function nc(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function qs(u){u.g||(u.g=new Map,u.h=0,u.i&&ID(u.i,function(w,C){u.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=nc.prototype,t.add=function(u,w){qs(this),this.i=null,u=pa(this,u);var C=this.g.get(u);return C||this.g.set(u,C=[]),C.push(w),this.h+=1,this};function ex(u,w){qs(u),w=pa(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function tx(u,w){return qs(u),w=pa(u,w),u.g.has(w)}t.forEach=function(u,w){qs(this),this.g.forEach(function(C,N){C.forEach(function(V){u.call(w,V,N,this)},this)},this)},t.na=function(){qs(this);const u=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let N=0;N<w.length;N++){const V=u[N];for(let B=0;B<V.length;B++)C.push(w[N])}return C},t.V=function(u){qs(this);let w=[];if(typeof u=="string")tx(this,u)&&(w=w.concat(this.g.get(pa(this,u))));else{u=Array.from(this.g.values());for(let C=0;C<u.length;C++)w=w.concat(u[C])}return w},t.set=function(u,w){return qs(this),this.i=null,u=pa(this,u),tx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},t.get=function(u,w){return u?(u=this.V(u),0<u.length?String(u[0]):w):w};function nx(u,w,C){ex(u,w),0<C.length&&(u.i=null,u.g.set(pa(u,w),y(C)),u.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var N=w[C];const B=encodeURIComponent(String(N)),re=this.V(N);for(N=0;N<re.length;N++){var V=B;re[N]!==""&&(V+="="+encodeURIComponent(String(re[N]))),u.push(V)}}return this.i=u.join("&")};function pa(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function LD(u,w){w&&!u.j&&(qs(u),u.i=null,u.g.forEach(function(C,N){var V=N.toLowerCase();N!=V&&(ex(this,N),nx(this,V,C))},u)),u.j=w}function OD(u,w){const C=new Zl;if(a.Image){const N=new Image;N.onload=g(Ks,C,"TestLoadImage: loaded",!0,w,N),N.onerror=g(Ks,C,"TestLoadImage: error",!1,w,N),N.onabort=g(Ks,C,"TestLoadImage: abort",!1,w,N),N.ontimeout=g(Ks,C,"TestLoadImage: timeout",!1,w,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else w(!1)}function DD(u,w){const C=new Zl,N=new AbortController,V=setTimeout(()=>{N.abort(),Ks(C,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:N.signal}).then(B=>{clearTimeout(V),B.ok?Ks(C,"TestPingServer: ok",!0,w):Ks(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),Ks(C,"TestPingServer: error",!1,w)})}function Ks(u,w,C,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(C)}catch{}}function jD(){this.g=new zs}function VD(u,w,C){const N=C||"";try{Y_(u,function(V,B){let re=V;c(V)&&(re=Qn(V)),w.push(N+B+"="+encodeURIComponent(re))})}catch(V){throw w.push(N+"type="+encodeURIComponent("_badmap")),V}}function Cd(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Cd,ye),Cd.prototype.g=function(){return new Sd(this.l,this.j)},Cd.prototype.i=function(u){return function(){return u}}({});function Sd(u,w){lt.call(this),this.D=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Sd,lt),t=Sd.prototype,t.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=w,this.readyState=1,sc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(w.body=u),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function rx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?rc(this):sc(this),this.readyState==3&&rx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,rc(this))},t.Qa=function(u){this.g&&(this.response=u,rc(this))},t.ga=function(){this.g&&rc(this)};function rc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sc(u)}t.setRequestHeader=function(u,w){this.u.append(u,w)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,u.push(C[0]+": "+C[1]),C=w.next();return u.join(`\r
`)};function sc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function sx(u){let w="";return L(u,function(C,N){w+=N,w+=":",w+=C,w+=`\r
`}),w}function Em(u,w,C){e:{for(N in C){var N=!1;break e}N=!0}N||(C=sx(C),typeof u=="string"?C!=null&&encodeURIComponent(String(C)):tt(u,w,C))}function ft(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var FD=/^https?$/i,UD=["POST","PUT"];t=ft.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,w,C,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mm.g(),this.v=this.o?De(this.o):De(mm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(B){ix(this,B);return}if(u=C||"",C=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)C.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const B of N.keys())C.set(B,N.get(B));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(C.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UD,w,void 0))||N||V||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of C)this.g.setRequestHeader(B,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lx(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){ix(this,B)}};function ix(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.m=5,ox(u),Td(u)}function ox(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),Td(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Td(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ax(this):this.bb())},t.bb=function(){ax(this)};function ax(u){if(u.h&&typeof o<"u"&&(!u.v[1]||os(u)!=4||u.Z()!=2)){if(u.u&&os(u)==4)gn(u.Ea,0,u);else if(Ye(u,"readystatechange"),os(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var N;if(N=re===0){var V=String(u.D).match(X_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),N=!FD.test(V?V.toLowerCase():"")}C=N}if(C)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var B=2<os(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",ox(u)}}finally{Td(u)}}}}function Td(u,w){if(u.g){lx(u);const C=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,w||Ye(u,"ready");try{C.onreadystatechange=N}catch{}}}function lx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function os(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),kn(w)}};function cx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function BD(u){const w={};u=(u.g&&2<=os(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(_(u[N]))continue;var C=M(u[N]);const V=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const B=w[V]||[];w[V]=B,B.push(C)}T(w,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(u,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[u]||w}function ux(u){this.Aa=0,this.i=[],this.j=new Zl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ic("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ic("baseRetryDelayMs",5e3,u),this.cb=ic("retryDelaySeedMs",1e4,u),this.Wa=ic("forwardChannelMaxRetries",2,u),this.wa=ic("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new H_(u&&u.concurrentRequestLimit),this.Da=new jD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ux.prototype,t.la=8,t.G=1,t.connect=function(u,w,C,N){yt(0),this.W=u,this.H=w||{},C&&N!==void 0&&(this.H.OSID=C,this.H.OAID=N),this.F=this.X,this.I=wx(this,null,this.W),Id(this)};function bm(u){if(dx(u),u.G==3){var w=u.U++,C=is(u.I);if(tt(C,"SID",u.K),tt(C,"RID",w),tt(C,"TYPE","terminate"),oc(u,C),w=new Hs(u,u.j,w),w.L=2,w.v=bd(is(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=w.v,C=!0),C||(w.g=_x(w.j,null),w.g.ea(w.v)),w.F=Date.now(),_d(w)}yx(u)}function Pd(u){u.g&&(Sm(u),u.g.cancel(),u.g=null)}function dx(u){Pd(u),u.u&&(a.clearTimeout(u.u),u.u=null),kd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Id(u){if(!q_(u.h)&&!u.s){u.s=!0;var w=u.Ga;$||W(),D||($(),D=!0),j.add(w,u),u.B=0}}function $D(u,w){return K_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=w.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xl(p(u.Ga,u,w),vx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Hs(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var N=this.i[C];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=fx(this,V,w),C=is(this.I),tt(C,"RID",u),tt(C,"CVER",22),this.D&&tt(C,"X-HTTP-Session-Id",this.D),oc(this,C),B&&(this.O?w="headers="+encodeURIComponent(String(sx(B)))+"&"+w:this.m&&Em(C,this.m,B)),xm(this.h,V),this.Ua&&tt(C,"TYPE","init"),this.P?(tt(C,"$req",w),tt(C,"SID","null"),V.T=!0,vm(V,C,null)):vm(V,C,w),this.G=2}}else this.G==3&&(u?hx(this,u):this.i.length==0||q_(this.h)||hx(this))};function hx(u,w){var C;w?C=w.l:C=u.U++;const N=is(u.I);tt(N,"SID",u.K),tt(N,"RID",C),tt(N,"AID",u.T),oc(u,N),u.m&&u.o&&Em(N,u.m,u.o),C=new Hs(u,u.j,C,u.B+1),u.m===null&&(C.H=u.o),w&&(u.i=w.D.concat(u.i)),w=fx(u,C,1e3),C.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xm(u.h,C),vm(C,N,w)}function oc(u,w){u.H&&L(u.H,function(C,N){tt(w,N,C)}),u.l&&Y_({},function(C,N){tt(w,N,C)})}function fx(u,w,C){C=Math.min(u.i.length,C);var N=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const re=["count="+C];B==-1?0<C?(B=V[0].g,re.push("ofs="+B)):B=0:re.push("ofs="+B);let Xe=!0;for(let Vt=0;Vt<C;Vt++){let Ue=V[Vt].g;const Ht=V[Vt].map;if(Ue-=B,0>Ue)B=Math.max(0,V[Vt].g-100),Xe=!1;else try{VD(Ht,re,"req"+Ue+"_")}catch{N&&N(Ht)}}if(Xe){N=re.join("&");break e}}}return u=u.i.splice(0,C),w.D=u,N}function px(u){if(!u.g&&!u.u){u.Y=1;var w=u.Fa;$||W(),D||($(),D=!0),j.add(w,u),u.v=0}}function Cm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xl(p(u.Fa,u),vx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,mx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xl(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Pd(this),mx(this))};function Sm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function mx(u){u.g=new Hs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var w=is(u.qa);tt(w,"RID","rpc"),tt(w,"SID",u.K),tt(w,"AID",u.T),tt(w,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(w,"TO",u.ja),tt(w,"TYPE","xmlhttp"),oc(u,w),u.m&&u.o&&Em(w,u.m,u.o),u.L&&(u.g.I=u.L);var C=u.g;u=u.ia,C.L=1,C.v=bd(is(w)),C.m=null,C.P=!0,$_(C,u)}t.Za=function(){this.C!=null&&(this.C=null,Pd(this),Cm(this),yt(19))};function kd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function gx(u,w){var C=null;if(u.g==w){kd(u),Sm(u),u.g=null;var N=2}else if(_m(u.h,w))C=w.D,G_(u.h,w),N=1;else return;if(u.G!=0){if(w.o)if(N==1){C=w.m?w.m.length:0,w=Date.now()-w.F;var V=u.B;N=fo(),Ye(N,new xe(N,C)),Id(u)}else px(u);else if(V=w.s,V==3||V==0&&0<w.X||!(N==1&&$D(u,w)||N==2&&Cm(u)))switch(C&&0<C.length&&(w=u.h,w.i=w.i.concat(C)),V){case 1:vo(u,5);break;case 4:vo(u,10);break;case 3:vo(u,6);break;default:vo(u,2)}}}function vx(u,w){let C=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(C*=2),C*w}function vo(u,w){if(u.j.info("Error code "+w),w==2){var C=p(u.fb,u),N=u.Xa;const V=!N;N=new go(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xd(N,"https"),bd(N),V?OD(N.toString(),C):DD(N.toString(),C)}else yt(2);u.G=0,u.l&&u.l.sa(w),yx(u),dx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function yx(u){if(u.G=0,u.ka=[],u.l){const w=Q_(u.h);(w.length!=0||u.i.length!=0)&&(x(u.ka,w),x(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function wx(u,w,C){var N=C instanceof go?is(C):new go(C);if(N.g!="")w&&(N.g=w+"."+N.g),Ed(N,N.s);else{var V=a.location;N=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;var B=new go(null);N&&xd(B,N),w&&(B.g=w),V&&Ed(B,V),C&&(B.l=C),N=B}return C=u.D,w=u.ya,C&&w&&tt(N,C,w),tt(N,"VER",u.la),oc(u,N),N}function _x(u,w,C){if(w&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Ca&&!u.pa?new ft(new Cd({eb:C})):new ft(u.pa),w.Ha(u.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xx(){}t=xx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rd(){}Rd.prototype.g=function(u,w){return new An(u,w)};function An(u,w){lt.call(this),this.g=new ux(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(u?u["X-WebChannel-Client-Profile"]=w.va:u={"X-WebChannel-Client-Profile":w.va}),this.g.S=u,(u=w&&w.Sb)&&!_(u)&&(this.g.m=u),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new ma(this)}v(An,lt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){bm(this.g)},An.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var C={};C.__data__=u,u=C}else this.u&&(C={},C.__data__=Qn(u),u=C);w.i.push(new SD(w.Ya++,u)),w.G==3&&Id(w)},An.prototype.N=function(){this.g.l=null,delete this.j,bm(this.g),delete this.g,An.aa.N.call(this)};function Ex(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const C in w){u=C;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}v(Ex,jt);function bx(){Rn.call(this),this.status=1}v(bx,Rn);function ma(u){this.g=u}v(ma,xx),ma.prototype.ua=function(){Ye(this.g,"a")},ma.prototype.ta=function(u){Ye(this.g,new Ex(u))},ma.prototype.sa=function(u){Ye(this.g,new bx)},ma.prototype.ra=function(){Ye(this.g,"b")},Rd.prototype.createWebChannel=Rd.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,QA=function(){return new Rd},GA=function(){return fo()},KA=Yn,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yd.NO_ERROR=0,yd.TIMEOUT=8,yd.HTTP_ERROR=6,Dh=yd,F_.COMPLETE="complete",qA=F_,Fe.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ic=Fe,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,HA=ft}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const iC="@firebase/firestore",oC="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new f0("@firebase/firestore");function Ea(){return Ko.logLevel}function ae(t,...e){if(Ko.logLevel<=Ne.DEBUG){const n=e.map(C0);Ko.debug(`Firestore (${Wl}): ${t}`,...n)}}function Ns(t,...e){if(Ko.logLevel<=Ne.ERROR){const n=e.map(C0);Ko.error(`Firestore (${Wl}): ${t}`,...n)}}function xl(t,...e){if(Ko.logLevel<=Ne.WARN){const n=e.map(C0);Ko.warn(`Firestore (${Wl}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+t;throw Ns(e),new Error(e)}function qe(t,e){t||_e()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class YW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XW{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _s,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Zt(e)}}class ZW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aC(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new aC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=t8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function hy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ie(r,s);{const i=XA(),o=n8(i.encode(lC(t,n)),i.encode(lC(e,n)));return o!==0?o:Ie(r,s)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function lC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function n8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function El(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=-62135596800,uC=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uC);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cC)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uC}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new kt(0,0))}static max(){return new Ee(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__name__";class Lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Lr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Lr.isNumericId(e),s=Lr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class st extends Lr{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new st(n)}static emptyPath(){return new st([])}}const r8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Lr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return r8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dC}static keyField(){return new Bt([dC])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new de(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new de(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new de(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(st.fromString(e))}static fromName(e){return new fe(st.fromString(e).popFirst(5))}static empty(){return new fe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function s8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Hi(s,fe.empty(),e)}function i8(t){return new Hi(t.readTime,t.key,bu)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(Ee.min(),fe.empty(),bu)}static max(){return new Hi(Ee.max(),fe.empty(),bu)}}function o8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==a8)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function c8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-1;function Qp(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function u8(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="";function d8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hC(e)),e=h8(t.get(n),e);return hC(e)}function h8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case JA:n+="";break;default:n+=i}}return n}function hC(t){return t+JA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pC(this.data.getIterator())}getIteratorFrom(e){return new pC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class pC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new vr([])}unionWith(e){let n=new Rt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tN("Invalid base64 string: "+i):i}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const f8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=f8.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="server_timestamp",rN="__type__",sN="__previous_value__",iN="__local_write_time__";function T0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rN])===null||n===void 0?void 0:n.stringValue)===nN}function Yp(t){const e=t.mapValue.fields[sN];return T0(e)?Yp(e):e}function Cu(t){const e=qi(t.mapValue.fields[iN].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Lf="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||Lf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__type__",aN="__max__",lh={mapValue:{fields:{__type__:{stringValue:aN}}}},lN="__vector__",Of="value";function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T0(t)?4:g8(t)?9007199254740991:m8(t)?10:11:_e()}function Zr(t,e){if(t===e)return!0;const n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qi(s.timestampValue),a=qi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ki(s.bytesValue).isEqual(Ki(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return wt(s.geoPointValue.latitude)===wt(i.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return wt(s.integerValue)===wt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=wt(s.doubleValue),a=wt(i.doubleValue);return o===a?Mf(o)===Mf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(fC(o)!==fC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zr(o[l],a[l])))return!1;return!0}(t,e);default:return _e()}}function Tu(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function bl(t,e){if(t===e)return 0;const n=Gi(t),r=Gi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=wt(i.integerValue||i.doubleValue),l=wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mC(t.timestampValue,e.timestampValue);case 4:return mC(Cu(t),Cu(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ki(i),l=Ki(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Ie(a[c],l[c]);if(f!==0)return f}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(wt(i.latitude),wt(o.latitude));return a!==0?a:Ie(wt(i.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gC(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,f;const m=i.fields||{},p=o.fields||{},g=(a=m[Of])===null||a===void 0?void 0:a.arrayValue,v=(l=p[Of])===null||l===void 0?void 0:l.arrayValue,y=Ie(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0);return y!==0?y:gC(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===lh.mapValue&&o===lh.mapValue)return 0;if(i===lh.mapValue)return 1;if(o===lh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const p=hy(l[m],f[m]);if(p!==0)return p;const g=bl(a[l[m]],c[f[m]]);if(g!==0)return g}return Ie(l.length,f.length)}(t.mapValue,e.mapValue);default:throw _e()}}function mC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=qi(t),r=qi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function gC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=bl(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Cl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fy(n.fields[o])}`;return s+"}"}(t.mapValue):_e()}function jh(t){switch(Gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(t);return e?16+jh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+jh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return la(r.fields,(i,o)=>{s+=i.length+jh(o)}),s}(t.mapValue);default:throw _e()}}function vC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function py(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function yC(t){return!!t&&"nullValue"in t}function wC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function m8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oN])===null||n===void 0?void 0:n.stringValue)===lN}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=Bt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Wc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){la(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new tr(Wc(this.value))}}function cN(t){const e=[];return la(t.fields,(n,r)=>{const s=new Bt([n]);if(Vh(r)){const i=cN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,Ee.min(),Ee.min(),Ee.min(),tr.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,Ee.min(),Ee.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ee.min(),Ee.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function _C(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=bl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function xC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function v8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{}class Ct extends uN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w8(e,n,r):n==="array-contains"?new E8(e,r):n==="in"?new b8(e,r):n==="not-in"?new C8(e,r):n==="array-contains-any"?new S8(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _8(e,r):new x8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bl(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends uN{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Tr(e,n)}matches(e){return dN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dN(t){return t.op==="and"}function hN(t){return y8(t)&&dN(t)}function y8(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function my(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(hN(t))return t.filters.map(e=>my(e)).join(",");{const e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function fN(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Zr(r.value,s.value)}(t,e):t instanceof Tr?function(r,s){return s instanceof Tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&fN(o,s.filters[a]),!0):!1}(t,e):void _e()}function pN(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Cl(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(pN).join(" ,")+"}"}(t):"Filter"}class w8 extends Ct{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class _8 extends Ct{constructor(e,n){super(e,"in",n),this.keys=mN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x8 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=mN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class E8 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&Tu(n.arrayValue,this.value)}}class b8 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class C8 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class S8 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function EC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new T8(t,e,n,r,s,i,o)}function I0(t){const e=be(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>my(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cl(r)).join(",")),e.le=n}return e.le}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xC(t.startAt,e.startAt)&&xC(t.endAt,e.endAt)}function gy(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function P8(t,e,n,r,s,i,o,a){return new id(t,e,n,r,s,i,o,a)}function R0(t){return new id(t)}function bC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gN(t){return t.collectionGroup!==null}function Hc(t){const e=be(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(Bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new jf(i,r))}),n.has(Bt.keyField().canonicalString())||e.he.push(new jf(Bt.keyField(),r))}return e.he}function Qr(t){const e=be(t);return e.Pe||(e.Pe=I8(e,Hc(t))),e.Pe}function I8(t,e){if(t.limitType==="F")return EC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jf(s.field,i)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return EC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vy(t,e){const n=t.filters.concat([e]);return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xp(t,e){return k0(Qr(t),Qr(e))&&t.limitType===e.limitType}function vN(t){return`${I0(Qr(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pN(s)).join(", ")}]`),Qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Cl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Cl(s)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Zp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Hc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=_C(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Hc(r),s)||r.endAt&&!function(o,a,l){const c=_C(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Hc(r),s))}(t,e)}function k8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yN(t){return(e,n)=>{let r=!1;for(const s of Hc(t)){const i=R8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R8(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?bl(l,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new ht(fe.comparator);function Ms(){return A8}const wN=new ht(fe.comparator);function kc(...t){let e=wN;for(const n of t)e=e.insert(n.key,n);return e}function _N(t){let e=wN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return qc()}function xN(){return qc()}function qc(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const N8=new ht(fe.comparator),M8=new Rt(fe.comparator);function Me(...t){let e=M8;for(const n of t)e=e.add(n);return e}const L8=new Rt(Ie);function O8(){return L8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function EN(t){return{integerValue:""+t}}function D8(t,e){return u8(e)?EN(e):A0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function j8(t,e,n){return t instanceof Pu?function(s,i){const o={fields:{[rN]:{stringValue:nN},[iN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&T0(i)&&(i=Yp(i)),i&&(o.fields[sN]=i),{mapValue:o}}(n,e):t instanceof Iu?CN(t,e):t instanceof ku?SN(t,e):function(s,i){const o=bN(s,i),a=CC(o)+CC(s.Ie);return py(o)&&py(s.Ie)?EN(a):A0(s.serializer,a)}(t,e)}function V8(t,e,n){return t instanceof Iu?CN(t,e):t instanceof ku?SN(t,e):n}function bN(t,e){return t instanceof Vf?function(r){return py(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pu extends Jp{}class Iu extends Jp{constructor(e){super(),this.elements=e}}function CN(t,e){const n=TN(e);for(const r of t.elements)n.some(s=>Zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ku extends Jp{constructor(e){super(),this.elements=e}}function SN(t,e){let n=TN(e);for(const r of t.elements)n=n.filter(s=>!Zr(s,r));return{arrayValue:{values:n}}}class Vf extends Jp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function CC(t){return wt(t.integerValue||t.doubleValue)}function TN(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this.field=e,this.transform=n}}function U8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Iu&&s instanceof Iu||r instanceof ku&&s instanceof ku?El(r.elements,s.elements,Zr):r instanceof Vf&&s instanceof Vf?Zr(r.Ie,s.Ie):r instanceof Pu&&s instanceof Pu}(t.transform,e.transform)}class B8{constructor(e,n){this.version=e,this.transformResults=n}}class xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function PN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kN(t.key,xs.none()):new od(t.key,t.data,xs.none());{const n=t.data,r=tr.empty();let s=new Rt(Bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ua(t.key,r,new vr(s.toArray()),xs.none())}}function $8(t,e,n){t instanceof od?function(s,i,o){const a=s.value.clone(),l=TC(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ua?function(s,i,o){if(!Fh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=TC(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(IN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kc(t,e,n,r){return t instanceof od?function(i,o,a,l){if(!Fh(i.precondition,o))return a;const c=i.value.clone(),f=PC(i.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ua?function(i,o,a,l){if(!Fh(i.precondition,o))return a;const c=PC(i.fieldTransforms,l,o),f=o.data;return f.setAll(IN(i)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return Fh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bN(r.transform,s||null);i!=null&&(n===null&&(n=tr.empty()),n.set(r.field,i))}return n||null}function SC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&El(r,s,(i,o)=>U8(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends em{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ua extends em{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TC(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,V8(o,a,n[s]))}return r}function PC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j8(i,o,e))}return r}class kN extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W8 extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=PN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>SC(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>SC(n,r))}}class N0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return N8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new N0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q8=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function G8(t){switch(t){case Q.OK:return _e();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e()}}function RN(t){if(t===void 0)return Ns("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Et.OK:return Q.OK;case Et.CANCELLED:return Q.CANCELLED;case Et.UNKNOWN:return Q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Q.INTERNAL;case Et.UNAVAILABLE:return Q.UNAVAILABLE;case Et.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Et.NOT_FOUND:return Q.NOT_FOUND;case Et.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Et.ABORTED:return Q.ABORTED;case Et.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Et.DATA_LOSS:return Q.DATA_LOSS;default:return _e()}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=new Li([4294967295,4294967295],0);function IC(t){const e=XA().encode(t),n=new WA;return n.update(e),new Uint8Array(n.digest())}function kC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Li([n,r],0),new Li([s,i],0)]}class M0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rc(`Invalid padding: ${n}`);if(r<0)throw new Rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Li.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Li.fromNumber(r)));return s.compare(Q8)===1&&(s=new Li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=IC(e),[r,s]=kC(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new M0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=IC(e),[r,s]=kC(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tm(Ee.min(),s,new ht(Ie),Ms(),Me())}}class ad{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ad(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class AN{constructor(e,n){this.targetId=e,this.ge=n}}class NN{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class RC{constructor(){this.pe=0,this.ye=AC(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),r=Me();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e()}}),new ad(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=AC()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Y8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ms(),this.$e=ch(),this.Ue=ch(),this.Ke=new ht(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(gy(i))if(r===0){const o=new fe(i.path);this.ze(n,o,en.newNoDocument(o,Ee.min()))}else qe(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ki(r).toUint8Array()}catch(l){if(l instanceof tN)return xl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new M0(o,s,i)}catch(l){return xl(l instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&gy(a.target)){const l=new fe(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,en.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Me();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new tm(e,n,this.Ke,this.Qe,r);return this.Qe=Ms(),this.$e=ch(),this.Ue=ch(),this.Ke=new ht(Ie),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new RC,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new RC),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ch(){return new ht(fe.comparator)}function AC(){return new ht(fe.comparator)}const X8={asc:"ASCENDING",desc:"DESCENDING"},Z8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J8={and:"AND",or:"OR"};class eH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||Qp(e)?e:{value:e}}function Ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tH(t,e){return Ff(t,e.toTimestamp())}function Yr(t){return qe(!!t),Ee.fromTimestamp(function(n){const r=qi(n);return new kt(r.seconds,r.nanos)}(t))}function L0(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=function(s){return new st(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LN(t){const e=st.fromString(t);return qe(FN(e)),e}function xy(t,e){return L0(t.databaseId,e.path)}function bg(t,e){const n=LN(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(DN(n))}function ON(t,e){return L0(t.databaseId,e)}function nH(t){const e=LN(t);return e.length===4?st.emptyPath():DN(e)}function Ey(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DN(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NC(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function rH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(qe(f===void 0||typeof f=="string"),Wt.fromBase64String(f||"")):(qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Wt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?Q.UNKNOWN:RN(c.code);return new de(f,c.message||"")}(o);n=new NN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bg(t,r.document.name),i=Yr(r.document.updateTime),o=r.document.createTime?Yr(r.document.createTime):Ee.min(),a=new tr({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(s,i,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Uh(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bg(t,r.document),i=r.readTime?Yr(r.readTime):Ee.min(),o=en.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Uh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bg(t,r.document),i=r.removedTargetIds||[];n=new Uh([],i,s,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new K8(s,i),a=r.targetId;n=new AN(a,o)}}return n}function sH(t,e){let n;if(e instanceof od)n={update:NC(t,e.key,e.value)};else if(e instanceof kN)n={delete:xy(t,e.key)};else if(e instanceof ua)n={update:NC(t,e.key,e.data),updateMask:fH(e.fieldMask)};else{if(!(e instanceof W8))return _e();n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ku)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e()}(t,e.precondition)),n}function iH(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Yr(s.updateTime):Yr(i);return o.isEqual(Ee.min())&&(o=Yr(i)),new B8(o,s.transformResults||[])}(n,e))):[]}function oH(t,e){return{documents:[ON(t,e.path)]}}function aH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ON(t,s);const i=function(c){if(c.length!==0)return VN(Tr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Ca(p.field),direction:uH(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function lH(t){let e=nH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const p=jN(m);return p instanceof Tr&&hN(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(v){return new jf(Sa(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(m){let p;return p=typeof m=="object"?m.value:m,Qp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(m){const p=!!m.before,g=m.values||[];return new Df(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,g=m.values||[];return new Df(g,p)}(n.endAt)),P8(e,s,o,i,a,"F",l,c)}function cH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sa(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Sa(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sa(n.unaryFilter.field);return Ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sa(n.unaryFilter.field);return Ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Sa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>jN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function uH(t){return X8[t]}function dH(t){return Z8[t]}function hH(t){return J8[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function Sa(t){return Bt.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof Ct?function(n){if(n.op==="=="){if(wC(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(yC(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wC(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(yC(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:dH(n.op),value:n.value}}}(t):t instanceof Tr?function(n){const r=n.getFilters().map(s=>VN(s));return r.length===1?r[0]:{compositeFilter:{op:hH(n.op),filters:r}}}(t):_e()}function fH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e){this.Tt=e}}function mH(t){const e=lH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.Tn=new vH}addToCollectionParentIndex(e,n){return this.Tn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Hi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class vH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UN=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(UN,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Sl(0)}static Kn(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="LruGarbageCollector",yH=1048576;function OC([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class wH{constructor(e){this.Hn=e,this.buffer=new Rt(OC),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _H{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(LC,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?ae(LC,"Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.er(3e5)})}}class xH{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Gp.ae);const r=new wH(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(MC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MC):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Ea()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function EH(t,e){return new xH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Kc(r.mutation,s,vr.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const s=Po();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ms();const o=qc(),a=function(){return qc()}();return n.forEach((l,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof ua)?i=i.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Kc(f.mutation,c,f.mutation.getFieldMask(),kt.now())):o.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var m;return a.set(c,new CH(f,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qc();let s=new ht((o,a)=>o-a),i=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||vr.empty();f=a.applyToLocalView(c,f),r.set(l,f);const m=(s.get(a.batchId)||Me()).add(l);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,m=xN();f.forEach(p=>{if(!i.has(p)){const g=PN(n.get(p),r.get(p));g!==null&&m.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(Po());let a=bu,l=i;return o.next(c=>K.forEach(c,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(f)?K.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Me())).next(f=>({batchId:a,changes:_N(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=kc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kc();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,l=>{const c=function(m,p){return new id(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,en.newInvalidDocument(f)))});let a=kc();return o.forEach((l,c)=>{const f=i.get(l);f!==void 0&&Kc(f.mutation,c,vr.empty(),kt.now()),Zp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:mH(s.bundledQuery),readTime:Yr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.overlays=new ht(fe.comparator),this.Rr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=Po(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ht((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=i.get(c.largestBatchId);f===null&&(f=Po(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Po(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return K.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new q8(n,r));let i=this.Rr.get(n);i===void 0&&(i=Me(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Vr=new Rt(Mt.mr),this.gr=new Rt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new fe(new st([])),r=new Mt(n,e),s=new Mt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new fe(new st([])),r=new Mt(n,e),s=new Mt(n,e+1);let i=Me();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Mt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return fe.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Mt.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new H8(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?S0:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Ie);return n.forEach(s=>{const i=new Mt(s,0),o=new Mt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),K.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new Mt(new fe(i),0);let a=new Rt(Ie);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),K.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return K.forEach(n.mutations,s=>{const i=new Mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Mt(n,0),s=this.Mr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.kr=e,this.docs=function(){return new ht(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():en.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ms();const o=n.path,a=new fe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||o8(i8(f),r)<=0||(s.has(f.key)||Zp(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e()}qr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AH(this)}getSize(e){return K.resolve(this.size)}}class AH extends bH{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.persistence=e,this.Qr=new ca(n=>I0(n),k0),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new O0,this.targetCount=0,this.Kr=Sl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),K.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.zn(n),K.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gp(0),this.zr=!1,this.zr=!0,this.jr=new IH,this.referenceDelegate=e(this),this.Hr=new NH(this),this.indexManager=new gH,this.remoteDocumentCache=function(s){return new RH(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new pH(n),this.Yr=new TH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new kH(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new MH(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return K.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class MH extends l8{constructor(e){super(),this.currentSequenceNumber=e}}class D0{constructor(e){this.persistence=e,this.ti=new O0,this.ni=null}static ri(e){return new D0(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,r=>{const s=fe.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Uf{constructor(e,n){this.persistence=e,this.oi=new ca(r=>d8(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=EH(this,n)}static ri(e,n){return new Uf(e,n)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return K.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}ar(e,n,r){return K.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Me(),s=Me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new j0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return p$()?8:c8(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new LH;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Ea()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Ea()<=Ne.DEBUG&&ae("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Ea()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):K.resolve())}rs(e,n){if(bC(n))return K.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yy(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Me(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,yy(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return bC(n)||s.isEqual(Ee.min())?K.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?K.resolve(null):(Ea()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ba(n)),this.hs(e,o,n,s8(s,bu)).next(a=>a))})}cs(e,n){let r=new Rt(yN(e));return n.forEach((s,i)=>{Zp(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Ea()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ba(n)),this.ns.getDocumentsMatchingQuery(e,n,Hi.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LocalStore",DH=3e8;class jH{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ht(Ie),this.Is=new ca(i=>I0(i),k0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SH(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function VH(t,e,n,r){return new jH(t,e,n,r)}async function $N(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Me();for(const c of s){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of i){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function FH(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const m=c.batch,p=m.keys();let g=K.resolve();return p.forEach(v=>{g=g.next(()=>f.getEntry(l,v)).next(y=>{const x=c.docVersions.get(v);qe(x!==null),y.version.compareTo(x)<0&&(m.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),f.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function zN(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function UH(t,e){const n=be(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((f,m)=>{const p=s.get(m);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(i,f.addedDocuments,m)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),s=s.insert(m,g),function(y,x,E){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=DH?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,f)&&a.push(n.Hr.updateTargetData(i,g))});let l=Ms(),c=Me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(BH(i,o,e.documentUpdates).next(f=>{l=f.Vs,c=f.fs})),!r.isEqual(Ee.min())){const f=n.Hr.getLastRemoteSnapshotVersion(i).next(m=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function BH(t,e,n){let r=Me(),s=Me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ms();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(V0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function $H(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=S0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zH(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function by(t,e,n){const r=be(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ql(o))throw o;ae(V0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function DC(t,e,n){const r=be(t);let s=Ee.min(),i=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const m=be(l),p=m.Is.get(f);return p!==void 0?K.resolve(m.Ts.get(p)):m.Hr.getTargetData(c,f)}(r,o,Qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Me())).next(a=>(WH(r,k8(e),a),{documents:a,gs:i})))}function WH(t,e,n){let r=t.Es.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class jC{constructor(){this.activeTargetIds=O8()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HH{constructor(){this.ho=new jC,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="ConnectivityMonitor";class FC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(VC,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(VC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function Cy(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",KH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GH{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Lf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=Cy(),a=this.bo(e,n.toUriEncodedString());ae(Cg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(ae(Cg,`Received RPC '${e}' ${o}: `,c),c),c=>{throw xl(Cg,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=KH[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class YH extends GH{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=Cy();return new Promise((o,a)=>{const l=new HA;l.setWithCredentials(!0),l.listenOnce(qA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dh.NO_ERROR:const f=l.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case Dh.TIMEOUT:ae(Yt,`RPC '${e}' ${i} timed out`),a(new de(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const m=l.getStatus();if(ae(Yt,`RPC '${e}' ${i} failed with status:`,m,"response text:",l.getResponseText()),m>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(E)>=0?E:Q.UNKNOWN}(g.status);a(new de(v,g.message))}else a(new de(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(Q.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ae(Yt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ae(Yt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=Cy(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QA(),a=GA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");ae(Yt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const m=o.createWebChannel(f,l);let p=!1,g=!1;const v=new QH({Fo:x=>{g?ae(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(ae(Yt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),ae(Yt,`RPC '${e}' stream ${s} sending:`,x),m.send(x))},Mo:()=>m.close()}),y=(x,E,_)=>{x.listen(E,b=>{try{_(b)}catch(I){setTimeout(()=>{throw I},0)}})};return y(m,Ic.EventType.OPEN,()=>{g||(ae(Yt,`RPC '${e}' stream ${s} transport opened.`),v.Qo())}),y(m,Ic.EventType.CLOSE,()=>{g||(g=!0,ae(Yt,`RPC '${e}' stream ${s} transport closed`),v.Uo())}),y(m,Ic.EventType.ERROR,x=>{g||(g=!0,xl(Yt,`RPC '${e}' stream ${s} transport errored:`,x),v.Uo(new de(Q.UNAVAILABLE,"The operation could not be completed")))}),y(m,Ic.EventType.MESSAGE,x=>{var E;if(!g){const _=x.data[0];qe(!!_);const b=_,I=(b==null?void 0:b.error)||((E=b[0])===null||E===void 0?void 0:E.error);if(I){ae(Yt,`RPC '${e}' stream ${s} received error:`,I);const k=I.status;let L=function(P){const R=Et[P];if(R!==void 0)return RN(R)}(k),T=I.message;L===void 0&&(L=Q.INTERNAL,T="Unknown error status: "+k+" with message "+I.message),g=!0,v.Uo(new de(L,T)),m.close()}else ae(Yt,`RPC '${e}' stream ${s} received:`,_),v.Ko(_)}}),y(a,KA.STAT_EVENT,x=>{x.stat===dy.PROXY?ae(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===dy.NOPROXY&&ae(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){return new eH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="PersistentStream";class HN{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new WN(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new de(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(UC,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(UC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XH extends HN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=rH(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Yr(o.readTime):Ee.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=gy(l)?{documents:oH(i,l)}:{query:aH(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MN(i,o.resumeToken);const c=wy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Ff(i,o.snapshotVersion.toTimestamp());const c=wy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cH(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.I_(n)}}class ZH extends HN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=iH(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Ey(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sH(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{}class e7 extends JH{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,_y(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(Q.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,_y(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Q.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class t7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ns(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class n7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{da(this)&&(ae(Go,"Restarting streams for network reachability change."),await async function(l){const c=be(l);c.W_.add(4),await ld(c),c.j_.set("Unknown"),c.W_.delete(4),await rm(c)}(this))})}),this.j_=new t7(r,s)}}async function rm(t){if(da(t))for(const e of t.G_)await e(!0)}async function ld(t){for(const e of t.G_)await e(!1)}function qN(t,e){const n=be(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),$0(n)?B0(n):Kl(n).c_()&&U0(n,e))}function F0(t,e){const n=be(t),r=Kl(n);n.K_.delete(e),r.c_()&&KN(n,e),n.K_.size===0&&(r.c_()?r.P_():da(n)&&n.j_.set("Unknown"))}function U0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).y_(e)}function KN(t,e){t.H_.Ne(e),Kl(t).w_(e)}function B0(t){t.H_=new Y8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.j_.B_()}function $0(t){return da(t)&&!Kl(t).u_()&&t.K_.size>0}function da(t){return be(t).W_.size===0}function GN(t){t.H_=void 0}async function r7(t){t.j_.set("Online")}async function s7(t){t.K_.forEach((e,n)=>{U0(t,e)})}async function i7(t,e){GN(t),$0(t)?(t.j_.q_(e),B0(t)):t.j_.set("Unknown")}async function o7(t,e,n){if(t.j_.set("Online"),e instanceof NN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ae(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(t,r)}else if(e instanceof Uh?t.H_.We(e):e instanceof AN?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ee.min()))try{const r=await zN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.K_.get(c);f&&i.K_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=i.K_.get(l);if(!f)return;i.K_.set(l,f.withResumeToken(Wt.EMPTY_BYTE_STRING,f.snapshotVersion)),KN(i,l);const m=new xi(f.target,l,c,f.sequenceNumber);U0(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae(Go,"Failed to raise snapshot:",r),await Bf(t,r)}}async function Bf(t,e,n){if(!ql(e))throw e;t.W_.add(1),await ld(t),t.j_.set("Offline"),n||(n=()=>zN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(Go,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await rm(t)})}function QN(t,e){return e().catch(n=>Bf(t,n,e))}async function sm(t){const e=be(t),n=Qi(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:S0;for(;a7(e);)try{const s=await $H(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,l7(e,s)}catch(s){await Bf(e,s)}YN(e)&&XN(e)}function a7(t){return da(t)&&t.U_.length<10}function l7(t,e){t.U_.push(e);const n=Qi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function YN(t){return da(t)&&!Qi(t).u_()&&t.U_.length>0}function XN(t){Qi(t).start()}async function c7(t){Qi(t).C_()}async function u7(t){const e=Qi(t);for(const n of t.U_)e.b_(n.mutations)}async function d7(t,e,n){const r=t.U_.shift(),s=N0.from(r,e,n);await QN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sm(t)}async function h7(t,e){e&&Qi(t).S_&&await async function(r,s){if(function(o){return G8(o)&&o!==Q.ABORTED}(s.code)){const i=r.U_.shift();Qi(r).h_(),await QN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sm(r)}}(t,e),YN(t)&&XN(t)}async function BC(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ae(Go,"RemoteStore received new credentials");const r=da(n);n.W_.add(3),await ld(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await rm(n)}async function f7(t,e){const n=be(t);e?(n.W_.delete(2),await rm(n)):e||(n.W_.add(2),await ld(n),n.j_.set("Unknown"))}function Kl(t){return t.J_||(t.J_=function(n,r,s){const i=be(n);return i.M_(),new XH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:r7.bind(null,t),No:s7.bind(null,t),Lo:i7.bind(null,t),p_:o7.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),$0(t)?B0(t):t.j_.set("Unknown")):(await t.J_.stop(),GN(t))})),t.J_}function Qi(t){return t.Y_||(t.Y_=function(n,r,s){const i=be(n);return i.M_(),new ZH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:c7.bind(null,t),Lo:h7.bind(null,t),D_:u7.bind(null,t),v_:d7.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await sm(t)):(await t.Y_.stop(),t.U_.length>0&&(ae(Go,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new z0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),ql(t))return new de(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Z_=new ht(fe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Tl(e,n,Ja.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class m7{constructor(){this.queries=zC(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=be(n),i=s.queries;s.queries=zC(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new de(Q.ABORTED,"Firestore shutting down"))}}function zC(){return new ca(t=>vN(t),Xp)}async function ZN(t,e){const n=be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new p7,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=W0(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&H0(n)}async function JN(t,e){const n=be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g7(t,e){const n=be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&H0(n)}function v7(t,e,n){const r=be(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function H0(t){t.ia.forEach(e=>{e.next()})}var Sy,WC;(WC=Sy||(Sy={}))._a="default",WC.Cache="cache";class eM{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.key=e}}class nM{constructor(e){this.key=e}}class y7{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=yN(e),this.wa=new Ja(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new $C,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const p=s.get(f),g=Zp(this.query,m)?m:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),x=!0):this.va(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ya(g,l)>0||c&&this.ya(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),i=y?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,m)=>function(g,v){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return y(g)-y(v)}(f.type,m.type)||this.ya(f.doc,m.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Tl(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $C,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new nM(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new tM(r))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Tl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const q0="SyncEngine";class w7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _7{constructor(e){this.key=e,this.Ba=!1}}class x7{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ca(a=>vN(a),Xp),this.qa=new Map,this.Qa=new Set,this.$a=new ht(fe.comparator),this.Ua=new Map,this.Ka=new O0,this.Wa={},this.Ga=new Map,this.za=Sl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function E7(t,e,n=!0){const r=lM(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await rM(r,e,n,!0),s}async function b7(t,e){const n=lM(t);await rM(n,e,!0,!1)}async function rM(t,e,n,r){const s=await zH(t.localStore,Qr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await C7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qN(t.remoteStore,s),a}async function C7(t,e,n,r,s){t.Ha=(m,p,g)=>async function(y,x,E,_){let b=x.view.ba(E);b.ls&&(b=await DC(y.localStore,x.query,!1).then(({documents:T})=>x.view.ba(T,b)));const I=_&&_.targetChanges.get(x.targetId),k=_&&_.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(b,y.isPrimaryClient,I,k);return qC(y,x.targetId,L.Ma),L.snapshot}(t,m,p,g);const i=await DC(t.localStore,e,!0),o=new y7(e,i.gs),a=o.ba(i.documents),l=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);qC(t,n,c.Ma);const f=new w7(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function S7(t,e,n){const r=be(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Xp(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await by(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&F0(r.remoteStore,s.targetId),Ty(r,s.targetId)}).catch(Hl)):(Ty(r,s.targetId),await by(r.localStore,s.targetId,!0))}async function T7(t,e){const n=be(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F0(n.remoteStore,r.targetId))}async function P7(t,e,n){const r=L7(t);try{const s=await function(o,a){const l=be(o),c=kt.now(),f=a.reduce((g,v)=>g.add(v.key),Me());let m,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ms(),y=Me();return l.ds.getEntries(g,f).next(x=>{v=x,v.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(x=>{m=x;const E=[];for(const _ of a){const b=z8(_,m.get(_.key).overlayedDocument);b!=null&&E.push(new ua(_.key,b,cN(b.value.mapValue),xs.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(m,y);return l.documentOverlayCache.saveOverlays(g,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:_N(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new ht(Ie)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await cd(r,s.changes),await sm(r.remoteStore)}catch(s){const i=W0(s,"Failed to persist write");n.reject(i)}}async function sM(t,e){const n=be(t);try{const r=await UH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?qe(o.Ba):s.removedDocuments.size>0&&(qe(o.Ba),o.Ba=!1))}),await cd(n,r,e)}catch(r){await Hl(r)}}function HC(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let c=!1;l.queries.forEach((f,m)=>{for(const p of m.ta)p.sa(a)&&(c=!0)}),c&&H0(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I7(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new ht(fe.comparator);o=o.insert(i,en.newNoDocument(i,Ee.min()));const a=Me().add(i),l=new tm(Ee.min(),new Map,new ht(Ie),o,a);await sM(r,l),r.$a=r.$a.remove(i),r.Ua.delete(e),K0(r)}else await by(r.localStore,e,!1).then(()=>Ty(r,e,n)).catch(Hl)}async function k7(t,e){const n=be(t),r=e.batch.batchId;try{const s=await FH(n.localStore,e);oM(n,r,null),iM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cd(n,s)}catch(s){await Hl(s)}}async function R7(t,e,n){const r=be(t);try{const s=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(qe(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);oM(r,e,n),iM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cd(r,s)}catch(s){await Hl(s)}}function iM(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function oM(t,e,n){const r=be(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||aM(t,r)})}function aM(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(F0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),K0(t))}function qC(t,e,n){for(const r of n)r instanceof tM?(t.Ka.addReference(r.key,e),A7(t,r)):r instanceof nM?(ae(q0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||aM(t,r.key)):_e()}function A7(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ae(q0,"New document in limbo: "+n),t.Qa.add(r),K0(t))}function K0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new fe(st.fromString(e)),r=t.za.next();t.Ua.set(r,new _7(n)),t.$a=t.$a.insert(n,r),qN(t.remoteStore,new xi(Qr(R0(n.path)),r,"TargetPurposeLimboResolution",Gp.ae))}}async function cd(t,e,n){const r=be(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){s.push(c);const m=j0.Yi(l.targetId,c);i.push(m)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const f=be(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(c,p=>K.forEach(p.Hi,g=>f.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>K.forEach(p.Ji,g=>f.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!ql(m))throw m;ae(V0,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const g=f.Ts.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);f.Ts=f.Ts.insert(p,y)}}}(r.localStore,i))}async function N7(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ae(q0,"User change. New user:",e.toKey());const r=await $N(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new de(Q.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cd(n,r.Rs)}}function M7(t,e){const n=be(t),r=n.Ua.get(e);if(r&&r.Ba)return Me().add(r.key);{let s=Me();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function lM(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I7.bind(null,e),e.La.p_=g7.bind(null,e.eventManager),e.La.Ja=v7.bind(null,e.eventManager),e}function L7(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R7.bind(null,e),e}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return VH(this.persistence,new OH,e.initialUser,this.serializer)}Xa(e){return new BN(D0.ri,this.serializer)}Za(e){return new HH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class O7 extends $f{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof Uf);const r=this.persistence.referenceDelegate.garbageCollector;return new _H(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new BN(r=>Uf.ri(r,n),this.serializer)}}class Py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N7.bind(null,this.syncEngine),await f7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m7}()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),r=function(i){return new YH(i)}(e.databaseInfo);return function(i,o,a,l){return new e7(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new n7(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HC(this.syncEngine,n,0),function(){return FC.D()?new FC:new qH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,f){const m=new x7(s,i,o,a,l,c);return f&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=be(s);ae(Go,"RemoteStore shutting down."),i.W_.add(5),await ld(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Py.provider={build:()=>new Py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class D7{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ae(Yi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae(Yi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),ae(Yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $N(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j7(t);ae(Yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>BC(e.remoteStore,s)),t._onlineComponents=e}async function j7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(Yi,"Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new $f)}}else ae(Yi,"Using default OfflineComponentProvider"),await Tg(t,new O7(void 0));return t._offlineComponents}async function uM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(Yi,"Using user provided OnlineComponentProvider"),await KC(t,t._uninitializedComponentsProvider._online)):(ae(Yi,"Using default OnlineComponentProvider"),await KC(t,new Py))),t._onlineComponents}function V7(t){return uM(t).then(e=>e.syncEngine)}async function dM(t){const e=await uM(t),n=e.eventManager;return n.onListen=E7.bind(null,e.syncEngine),n.onUnlisten=S7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T7.bind(null,e.syncEngine),n}function F7(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const f=new cM({next:p=>{f.su(),o.enqueueAndForget(()=>JN(i,m));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new de(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new de(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new eM(R0(a.path),f,{includeMetadataChanges:!0,Ta:!0});return ZN(i,m)}(await dM(t),t.asyncQueue,e,n,r)),r.promise}function U7(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const f=new cM({next:p=>{f.su(),o.enqueueAndForget(()=>JN(i,m)),p.fromCache&&l.source==="server"?c.reject(new de(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new eM(a,f,{includeMetadataChanges:!0,Ta:!0});return ZN(i,m)}(await dM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e,n){if(!n)throw new de(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B7(t,e,n,r){if(e===!0&&r===!0)throw new de(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QC(t){if(!fe.isDocumentKey(t))throw new de(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YC(t){if(fe.isDocumentKey(t))throw new de(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new de(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="firestore.googleapis.com",XC=!0;class ZC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pM,this.ssl=XC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yH)throw new de(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QW;switch(r.type){case"firstParty":return new JW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GC.get(n);r&&(ae("ComponentProvider","Removing Datastore"),GC.delete(n),r.terminate())}(this),Promise.resolve()}}function $7(t,e,n,r={}){var s;const i=(t=Pl(t,om))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==pM&&i.host!==a&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!zo(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Zt.MOCK_USER;else{c=nA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new de(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(m)}t._authCredentials=new YW(new YA(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gl(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Oi extends Gl{constructor(e,n,r){super(e,n,R0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new fe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function am(t,e,...n){if(t=St(t),fM("collection","path",e),t instanceof om){const r=st.fromString(e,...n);return YC(r),new Oi(t,null,r)}{if(!(t instanceof zn||t instanceof Oi))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return YC(r),new Oi(t.firestore,null,r)}}function mM(t,e,...n){if(t=St(t),arguments.length===1&&(e=ZA.newId()),fM("doc","path",e),t instanceof om){const r=st.fromString(e,...n);return QC(r),new zn(t,null,new fe(r))}{if(!(t instanceof zn||t instanceof Oi))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return QC(r),new zn(t.firestore,t instanceof Oi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new WN(this,"async_queue_retry"),this.Su=()=>{const r=Sg();r&&ae(JC,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new _s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ql(e))throw e;ae(JC,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ns("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=z0.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class lm extends om{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new e1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function z7(t,e){const n=typeof t=="object"?t:m0(),r=typeof t=="string"?t:Lf,s=Wp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=JR("firestore");i&&$7(s,...i)}return s}function G0(t){if(t._terminated)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W7(t),t._firestoreClient}function W7(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,f){return new p8(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hM(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new D7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(Wt.fromBase64String(e))}catch(n){throw new de(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Il(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=/^__.*__$/;class q7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}function gM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class J0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new J0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gM(this.Lu)&&H7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class K7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nm(e)}ju(e,n,r,s=!1){return new J0({Lu:e,methodName:n,zu:r,path:Bt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vM(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new K7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G7(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);_M("Data must be an object, but it was:",o,r);const a=yM(r,o);let l,c;if(i.merge)l=new vr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const p=Y7(e,m,n);if(!o.contains(p))throw new de(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Z7(f,p)||f.push(p)}l=new vr(f),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new q7(new tr(a),l,c)}class e_ extends Y0{_toFieldTransform(e){return new F8(e.path,new Pu)}isEqual(e){return e instanceof e_}}function Q7(t,e,n,r=!1){return t_(n,t.ju(r?4:3,e))}function t_(t,e){if(wM(t=St(t)))return _M("Unsupported field value:",e,t),yM(t,e);if(t instanceof Y0)return function(r,s){if(!gM(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=t_(a,s.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D8(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=kt.fromDate(r);return{timestampValue:Ff(s.serializer,i)}}if(r instanceof kt){const i=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(s.serializer,i)}}if(r instanceof X0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Il)return{bytesValue:MN(s.serializer,r._byteString)};if(r instanceof zn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:L0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Z0)return function(o,a){return{mapValue:{fields:{[oN]:{stringValue:lN},[Of]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return A0(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${im(r)}`)}(t,e)}function yM(t,e){const n={};return eN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,s)=>{const i=t_(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof X0||t instanceof Il||t instanceof zn||t instanceof Y0||t instanceof Z0)}function _M(t,e,n){if(!wM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=im(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Y7(t,e,n){if((e=St(e))instanceof Q0)return e._internalPath;if(typeof e=="string")return xM(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const X7=new RegExp("[~\\*/\\[\\]]");function xM(t,e,n){if(e.search(X7)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Q0(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new de(Q.INVALID_ARGUMENT,a+t+l)}function Z7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J7 extends EM{data(){return super.data()}}function n_(t,e){return typeof e=="string"?xM(t,e):e instanceof Q0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class tq extends r_{}function bM(t,e,...n){let r=[];e instanceof r_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof s_).length,a=i.filter(l=>l instanceof cm).length;if(o>1||o>0&&a>0)throw new de(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cm extends tq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cm(e,n,r)}_apply(e){const n=this._parse(e);return SM(e._query,n),new Gl(e.firestore,e.converter,vy(e._query,n))}_parse(e){const n=vM(e.firestore);return function(i,o,a,l,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new de(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){n1(m,f);const v=[];for(const y of m)v.push(t1(l,i,y));p={arrayValue:{values:v}}}else p=t1(l,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||n1(m,f),p=Q7(a,o,m,f==="in"||f==="not-in");return Ct.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CM(t,e,n){const r=e,s=n_("where",t);return cm._create(s,r,n)}class s_ extends r_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)SM(o,l),o=vy(o,l)}(e._query,n),new Gl(e.firestore,e.converter,vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t1(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new de(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gN(e)&&n.indexOf("/")!==-1)throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!fe.isDocumentKey(r))throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vC(t,new fe(r))}if(n instanceof zn)return vC(t,n._key);throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function n1(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SM(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nq{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>wt(o.doubleValue));return new Z0(i)}convertGeoPoint(e){return new X0(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=qi(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);qe(FN(r));const s=new Su(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TM extends EM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bh extends TM{data(e={}){return super.data(e)}}class sq{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bh(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Bh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Bh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:iq(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){t=Pl(t,zn);const e=Pl(t.firestore,lm);return F7(G0(e),t._key).then(n=>cq(e,t,n))}class PM extends nq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function i_(t){t=Pl(t,Gl);const e=Pl(t.firestore,lm),n=G0(e),r=new PM(e);return eq(t._query),U7(n,t._query).then(s=>new sq(e,r,t,s))}function aq(t,e){const n=Pl(t.firestore,lm),r=mM(t),s=rq(t.converter,e);return lq(n,[G7(vM(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xs.exists(!1))]).then(()=>r)}function lq(t,e){return function(r,s){const i=new _s;return r.asyncQueue.enqueueAndForget(async()=>P7(await V7(r),s,i)),i.promise}(G0(t),e)}function cq(t,e,n){const r=n.docs.get(e._key),s=new PM(t);return new TM(t,s,e._key,r,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}function uq(){return new e_("serverTimestamp")}(function(e,n=!0){(function(s){Wl=s})(oa),Wo(new Wi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new lm(new XW(r.getProvider("auth-internal")),new e8(o,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new de(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(c.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),qr(iC,oC,e),qr(iC,oC,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebasestorage.googleapis.com",kM="storageBucket",dq=2*60*1e3,hq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends rs{constructor(e,n,r=0){super(Pg(e),`Firebase Storage: ${n} (${Pg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Pg(t){return"storage/"+t}function o_(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(gt.UNKNOWN,t)}function fq(t){return new vt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pq(t){return new vt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(gt.UNAUTHENTICATED,t)}function gq(){return new vt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vq(t){return new vt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yq(){return new vt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wq(){return new vt(gt.CANCELED,"User canceled the upload/download.")}function _q(t){return new vt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function xq(t){return new vt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Eq(){return new vt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kM+"' property when initializing the app?")}function bq(){return new vt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cq(){return new vt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Sq(t){return new vt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Iy(t){return new vt(gt.INVALID_ARGUMENT,t)}function RM(){return new vt(gt.APP_DELETED,"The Firebase app was deleted.")}function Tq(t){return new vt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gc(t,e){return new vt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vc(t){throw new vt(gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw xq(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${f}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},y=n===IM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${y}/${s}/${x}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:v,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<b.length;I++){const k=b[I],L=k.regex.exec(e);if(L){const T=L[k.indices.bucket];let S=L[k.indices.path];S||(S=""),r=new Fn(T,S),k.postModify(r);break}}if(r==null)throw _q(e);return r}}class Pq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(...x){c||(c=!0,e.apply(null,x))}function m(x){s=setTimeout(()=>{s=null,t(g,l())},x)}function p(){i&&clearTimeout(i)}function g(x,...E){if(c){p();return}if(x){p(),f.call(null,x,...E);return}if(l()||o){p(),f.call(null,x,...E);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,m(b)}let v=!1;function y(x){v||(v=!0,p(),!c&&(s!==null?(x||(a=2),clearTimeout(s),m(0)):x||(a=1)))}return m(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function kq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){return t!==void 0}function Aq(t){return typeof t=="object"&&!Array.isArray(t)}function a_(t){return typeof t=="string"||t instanceof String}function r1(t){return l_()&&t instanceof Blob}function l_(){return typeof Blob<"u"}function s1(t,e,n,r){if(r<e)throw Iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Lo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r,s,i,o,a,l,c,f,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Lo.NO_ERROR,l=i.getStatus();if(!a||Nq(l,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Lo.ABORT;r(!1,new dh(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new dh(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Rq(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=o_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?RM():wq();o(l)}else{const l=yq();o(l)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=Iq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Oq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vq(t,e,n,r,s,i,o=!0){const a=AM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Dq(c,e),Lq(c,n),Oq(c,i),jq(c,r),new Mq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uq(...t){const e=Fq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(l_())return new Blob(t);throw new vt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Bq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){if(typeof atob>"u")throw Sq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ig{constructor(e,n){this.data=e,this.contentType=n||null}}function zq(t,e){switch(t){case $r.RAW:return new Ig(NM(e));case $r.BASE64:case $r.BASE64URL:return new Ig(MM(t,e));case $r.DATA_URL:return new Ig(Hq(e),qq(e))}throw o_()}function NM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Wq(t){let e;try{e=decodeURIComponent(t)}catch{throw Gc($r.DATA_URL,"Malformed data URL.")}return NM(e)}function MM(t,e){switch(t){case $r.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Gc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case $r.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Gc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$q(e)}catch(s){throw s.message.includes("polyfill")?s:Gc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class LM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gc($r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Hq(t){const e=new LM(t);return e.base64?MM($r.BASE64,e.rest):Wq(e.rest)}function qq(t){return new LM(t).contentType}function Kq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){let r=0,s="";r1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(r1(this.data_)){const r=this.data_,s=Bq(r,e,n);return s===null?null:new hi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hi(r,!0)}}static getBlob(...e){if(l_()){const n=e.map(r=>r instanceof hi?r.data_:r);return new hi(Uq.apply(null,n))}else{const n=e.map(o=>a_(o)?zq($r.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new hi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){let e;try{e=JSON.parse(t)}catch{return null}return Aq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Qq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t,e){return e}class on{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Yq}}let hh=null;function Xq(t){return!a_(t)||t.length<2?t:DM(t)}function jM(){if(hh)return hh;const t=[];t.push(new on("bucket")),t.push(new on("generation")),t.push(new on("metageneration")),t.push(new on("name","fullPath",!0));function e(i,o){return Xq(o)}const n=new on("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new on("size");return s.xform=r,t.push(s),t.push(new on("timeCreated")),t.push(new on("updated")),t.push(new on("md5Hash",null,!0)),t.push(new on("cacheControl",null,!0)),t.push(new on("contentDisposition",null,!0)),t.push(new on("contentEncoding",null,!0)),t.push(new on("contentLanguage",null,!0)),t.push(new on("contentType",null,!0)),t.push(new on("metadata","customMetadata",!0)),hh=t,hh}function Zq(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Fn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Jq(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Zq(r,t),r}function VM(t,e,n){const r=OM(e);return r===null?null:Jq(t,r,n)}function eK(t,e,n,r){const s=OM(e);if(s===null||!a_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const f=t.bucket,m=t.fullPath,p="/b/"+o(f)+"/o/"+o(m),g=c_(p,n,r),v=AM({alt:"media",token:c});return g+v})[0]}function tK(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class FM{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){if(!t)throw o_()}function nK(t,e){function n(r,s){const i=VM(t,s,e);return UM(i!==null),i}return n}function rK(t,e){function n(r,s){const i=VM(t,s,e);return UM(i!==null),eK(i,s,t.host,t._protocol)}return n}function BM(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=gq():s=mq():n.getStatus()===402?s=pq(t.bucket):n.getStatus()===403?s=vq(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function sK(t){const e=BM(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=fq(t.path)),i.serverResponse=s.serverResponse,i}return n}function iK(t,e,n){const r=e.fullServerUrl(),s=c_(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new FM(s,i,rK(t,n),o);return a.errorHandler=sK(e),a}function oK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oK(null,e)),r}function lK(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=aK(e,r,s),f=tK(c,n),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=hi.getBlob(m,r,p);if(g===null)throw bq();const v={name:c.fullPath},y=c_(i,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,_=new FM(y,x,nK(t,n),E);return _.urlParams=v,_.headers=o,_.body=g.uploadData(),_.errorHandler=BM(e),_}class cK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uK extends cK{initXhr(){this.xhr_.responseType="text"}}function $M(){return new uK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qo(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DM(this._location.path)}get storage(){return this._service}get parent(){const e=Gq(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new Qo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tq(e)}}function dK(t,e,n){t._throwIfRoot("uploadBytes");const r=lK(t.storage,t._location,jM(),new hi(e,!0),n);return t.storage.makeRequestWithTokens(r,$M).then(s=>({metadata:s,ref:t}))}function hK(t){t._throwIfRoot("getDownloadURL");const e=iK(t.storage,t._location,jM());return t.storage.makeRequestWithTokens(e,$M).then(n=>{if(n===null)throw Cq();return n})}function fK(t,e){const n=Qq(t._location.path,e),r=new Fn(t._location.bucket,n);return new Qo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){return/^[A-Za-z]+:\/\//.test(t)}function mK(t,e){return new Qo(t,e)}function zM(t,e){if(t instanceof u_){const n=t;if(n._bucket==null)throw Eq();const r=new Qo(n,n._bucket);return e!=null?zM(r,e):r}else return e!==void 0?fK(t,e):t}function gK(t,e){if(e&&pK(e)){if(t instanceof u_)return mK(t,e);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}else return zM(t,e)}function i1(t,e){const n=e==null?void 0:e[kM];return n==null?null:Fn.makeFromBucketSpec(n,t)}function vK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:nA(s,t.app.options.projectId))}class u_{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=IM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dq,this._maxUploadRetryTime=hq,this._requests=new Set,s!=null?this._bucket=Fn.makeFromBucketSpec(s,this._host):this._bucket=i1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=i1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Pq(RM());{const o=Vq(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const o1="@firebase/storage",a1="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="storage";function yK(t,e,n){return t=St(t),dK(t,e,n)}function wK(t){return t=St(t),hK(t)}function _K(t,e){return t=St(t),gK(t,e)}function xK(t=m0(),e){t=St(t);const r=Wp(t,WM).getImmediate({identifier:e}),s=JR("storage");return s&&EK(r,...s),r}function EK(t,e,n,r={}){vK(t,e,n,r)}function bK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new u_(n,r,s,e,oa)}function CK(){Wo(new Wi(WM,bK,"PUBLIC").setMultipleInstances(!0)),qr(o1,a1,""),qr(o1,a1,"esm2017")}CK();const SK={apiKey:"AIzaSyDf9VYZUCeKbo8e-VDOAhKDnt5VyJphNCg",authDomain:"vetopolis-d5b82.firebaseapp.com",projectId:"vetopolis-d5b82",storageBucket:"vetopolis-d5b82.appspot.com",messagingSenderId:"721475522906",appId:"1:721475522906:web:314a20777e1c4b65712363"},d_=iA(SK),kl=HW(d_),ud=z7(d_),TK=uq,PK=xK(d_),ky="admin@vetopolis.com",Jr=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState(null);io();const s=[];h.useEffect(()=>{const o=MA(kl,a=>{r(a)});return()=>o()},[]);const i=()=>{e(!t)};return d.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur-md",children:[d.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[d.jsx($e,{to:"/",className:"flex items-center space-x-2",children:d.jsx("span",{className:"text-2xl font-bold text-primary",children:"Vetopolis"})}),d.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[d.jsxs($e,{to:"/search",className:"flex items-center space-x-1 text-muted-foreground hover:text-foreground transition-colors",children:[d.jsx(fs,{className:"h-4 w-4"}),d.jsx("span",{children:"Buscar Veterinarios"})]}),d.jsxs(HB,{children:[d.jsx(qB,{asChild:!0,children:d.jsxs("button",{className:"flex items-center space-x-1 text-muted-foreground hover:text-foreground transition-colors",children:[d.jsx(Uo,{className:"h-4 w-4"}),d.jsx("span",{children:"Citas"}),d.jsx(bp,{className:"h-3 w-3 opacity-50"})]})}),d.jsxs(GR,{align:"end",className:"w-56",children:[s.length>0?s.map((o,a)=>d.jsx(ty,{children:d.jsx("span",{children:"Appointment details would go here"})},a)):d.jsx("div",{className:"px-2 py-4 text-center text-sm text-muted-foreground",children:"No tienes citas pendientes"}),d.jsx(ty,{asChild:!0,children:d.jsx($e,{to:"/appointments",className:"w-full cursor-pointer",children:"Ver todas las citas"})})]})]}),d.jsxs($e,{to:"/map",className:"flex items-center space-x-1 text-muted-foreground hover:text-foreground transition-colors",children:[d.jsx(BE,{className:"h-4 w-4"}),d.jsx("span",{children:"Mapa"})]}),(n==null?void 0:n.email)===ky&&d.jsxs($e,{to:"/admin",className:"flex items-center space-x-1 text-primary hover:underline text-sm font-medium",children:[d.jsx($E,{className:"h-4 w-4"}),d.jsx("span",{children:"Panel Admin"})]})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx(vb,{}),n?d.jsx($e,{to:"/profile",children:d.jsxs(ze,{variant:"outline",className:"px-4",children:[d.jsx(Bw,{className:"h-4 w-4 mr-2"}),"Perfil"]})}):d.jsxs(d.Fragment,{children:[d.jsx($e,{to:"/login",children:d.jsx(ze,{variant:"outline",className:"px-4",children:"Iniciar Sesión"})}),d.jsx($e,{to:"/register",children:d.jsx(ze,{className:"px-4",children:"Registrarse"})})]})]}),d.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[d.jsx(vb,{}),d.jsx(ze,{variant:"ghost",size:"icon",className:"md:hidden",onClick:i,children:t?d.jsx(Cp,{className:"h-6 w-6"}):d.jsx(_4,{className:"h-6 w-6"})})]})]}),t&&d.jsx("div",{className:"md:hidden animate-in",children:d.jsxs("div",{className:"container py-4 space-y-4",children:[d.jsxs($e,{to:"/search",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent",onClick:i,children:[d.jsx(fs,{className:"h-5 w-5"}),d.jsx("span",{children:"Buscar Veterinarios"})]}),d.jsxs($e,{to:"/appointments",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent",onClick:i,children:[d.jsx(Uo,{className:"h-5 w-5"}),d.jsx("span",{children:"Citas"})]}),d.jsxs($e,{to:"/map",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent",onClick:i,children:[d.jsx(BE,{className:"h-5 w-5"}),d.jsx("span",{children:"Mapa"})]}),(n==null?void 0:n.email)===ky&&d.jsxs($e,{to:"/admin",onClick:i,className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent text-primary",children:[d.jsx($E,{className:"h-5 w-5"}),d.jsx("span",{children:"Panel Admin"})]}),d.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t",children:n?d.jsx($e,{to:"/profile",onClick:i,children:d.jsx(ze,{variant:"outline",className:"w-full",children:"Perfil"})}):d.jsxs(d.Fragment,{children:[d.jsx($e,{to:"/login",onClick:i,children:d.jsx(ze,{variant:"outline",className:"w-full",children:"Iniciar Sesión"})}),d.jsx($e,{to:"/register",onClick:i,children:d.jsx(ze,{className:"w-full",children:"Registrarse"})})]})})]})})]})},es=()=>d.jsxs("footer",{className:"bg-secondary/40 text-foreground",children:[d.jsx("div",{className:"container py-12 md:py-16",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-primary",children:"Vetopolis"}),d.jsx("p",{className:"text-muted-foreground",children:"Conectamos mascotas con los mejores veterinarios especializados para un cuidado de calidad."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:d.jsx(m4,{size:20})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:d.jsx(b4,{size:20})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:d.jsx(w4,{size:20})}),d.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:d.jsx(C4,{size:20})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Enlaces rápidos"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx($e,{to:"/search",className:"text-muted-foreground hover:text-primary transition-colors",children:"Buscar veterinarios"})}),d.jsx("li",{children:d.jsx($e,{to:"/appointments",className:"text-muted-foreground hover:text-primary transition-colors",children:"Mis citas"})}),d.jsx("li",{children:d.jsx($e,{to:"/map",className:"text-muted-foreground hover:text-primary transition-colors",children:"Veterinarios cercanos"})}),d.jsx("li",{children:d.jsx($e,{to:"/join-professional",className:"text-muted-foreground hover:text-primary transition-colors",children:"Únete como profesional"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Contacto"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-start space-x-2",children:[d.jsx(Fi,{size:18,className:"text-primary mt-1 flex-shrink-0"}),d.jsx("span",{className:"text-muted-foreground",children:"Av. Universidad 3000, Ciudad de México"})]}),d.jsxs("li",{className:"flex items-start space-x-2",children:[d.jsx(Uw,{size:18,className:"text-primary mt-1 flex-shrink-0"}),d.jsx("span",{className:"text-muted-foreground",children:"+52 55 1234 5678"})]}),d.jsxs("li",{className:"flex items-start space-x-2",children:[d.jsx(Hu,{size:18,className:"text-primary mt-1 flex-shrink-0"}),d.jsx("span",{className:"text-muted-foreground",children:"info@vetopolis.mx"})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Boletín informativo"}),d.jsx("p",{className:"text-muted-foreground mb-2",children:"Suscríbete para recibir consejos de cuidado de mascotas y ofertas especiales."}),d.jsxs("form",{className:"flex gap-2",children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrónico",className:"px-3 py-2 border rounded-md text-sm flex-grow"}),d.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm",children:"Enviar"})]})]})]})}),d.jsx("div",{className:"border-t",children:d.jsxs("div",{className:"container py-6 flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," PetDoc. Todos los derechos reservados."]}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx($e,{to:"/terms",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Términos y condiciones"}),d.jsx($e,{to:"/privacy",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Política de privacidad"})]})]})})]}),Xi=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xi.displayName="Card";const Rl=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));Rl.displayName="CardHeader";const Al=h.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Al.displayName="CardTitle";const Ru=h.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));Ru.displayName="CardDescription";const Zi=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:pe("p-6 pt-0",t),...e}));Zi.displayName="CardContent";const um=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",t),...e}));um.displayName="CardFooter";const IK=({name:t,description:e,icon:n})=>d.jsx($e,{to:`/search?specialty=${encodeURIComponent(t)}`,className:"block transition-transform hover:translate-y-[-5px]",children:d.jsx(Xi,{className:"h-full overflow-hidden hover:shadow-lg transition-shadow",children:d.jsxs(Zi,{className:"p-6 text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto text-primary",children:n}),d.jsx("h3",{className:"text-xl font-medium",children:t}),d.jsx("p",{className:"text-muted-foreground text-sm",children:e})]})})}),HM=({id:t,name:e,specialty:n,image:r,rating:s,reviewCount:i,location:o,distance:a,availability:l})=>d.jsxs(Xi,{className:"overflow-hidden transition-all hover:shadow-lg",children:[d.jsx($e,{to:`/vet/${t}`,className:"block",children:d.jsxs(Zi,{className:"p-0",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:r,alt:e,className:"w-full h-48 object-cover"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent text-white",children:d.jsx($o,{className:"bg-primary text-white",children:n})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-xl font-medium",children:e}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Fi,{className:"h-4 w-4 mr-1"}),d.jsx("span",{children:o}),a&&d.jsxs("span",{className:"ml-1 text-xs",children:["(",a,")"]})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(VI,{className:"h-4 w-4 text-yellow-500 mr-1"}),d.jsx("span",{className:"font-medium",children:s}),d.jsxs("span",{className:"text-muted-foreground text-sm ml-1",children:["(",i,")"]})]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(p4,{className:"h-4 w-4 mr-1"}),d.jsx("span",{children:l})]})]})]})]})}),d.jsxs(um,{className:"p-6 pt-0 flex justify-between gap-4",children:[d.jsx($e,{to:`/vet/${t}`,className:"flex-1",children:d.jsx(ze,{variant:"outline",className:"w-full",children:"Ver perfil"})}),d.jsx($e,{to:"/appointments",className:"flex-1",children:d.jsx(ze,{className:"w-full",children:"Agendar cita"})})]})]}),yr=h.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yr.displayName="Input";const kK=["Cardiología","Dermatología","Neurología","Oftalmología","Oncología","Ortopedia y Traumatología","Odontología","Gastroenterología","Nefrología y Urología","Endocrinología","Reproducción y Obstetricia","Anestesiología y Analgesia","Medicina Interna","Medicina de Animales Exóticos","Etología y Medicina del Comportamiento","Medicina de Fauna Silvestre y Zoológica","Medicina Preventiva y Epidemiología","Toxicología","Patología","Nutrición Animal"],qM=({onSearch:t,placeholder:e="Buscar por especialidad, síntoma, veterinario..."})=>{const[n,r]=h.useState(""),[s,i]=h.useState([]),[o,a]=h.useState(!1),l=h.useRef(null);h.useEffect(()=>{if(n.length>1){const m=kK.filter(p=>p.toLowerCase().includes(n.toLowerCase()));i(m),a(!0)}else i([]),a(!1)},[n]),h.useEffect(()=>{const m=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const c=m=>{m.preventDefault(),t(n),a(!1)},f=m=>{r(m),a(!1),t(m)};return d.jsxs("div",{className:"relative w-full",children:[d.jsxs("form",{onSubmit:c,className:"flex flex-col sm:flex-row gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),d.jsx(yr,{type:"text",placeholder:e,className:"pl-10 py-6 rounded-full border-primary/20 focus:border-primary",value:n,onChange:m=>r(m.target.value),onFocus:()=>n.length>1&&a(!0)})]}),d.jsx(ze,{type:"submit",size:"lg",className:"rounded-full px-8",children:"Buscar"})]}),o&&s.length>0&&d.jsx("div",{ref:l,className:"absolute z-10 mt-1 w-full bg-background border border-border rounded-md shadow-lg max-h-60 overflow-auto",children:s.map((m,p)=>d.jsx("div",{className:"px-4 py-2 hover:bg-accent cursor-pointer",onClick:()=>f(m),children:m},p))})]})},RK=[{name:"Cardiología",description:"Enfermedades del corazón y sistema circulatorio",icon:d.jsx(y4,{className:"h-8 w-8"})},{name:"Dermatología",description:"Problemas de piel, pelo y alergias",icon:d.jsx(fs,{className:"h-8 w-8"})},{name:"Neurología",description:"Trastornos del sistema nervioso",icon:d.jsx(fs,{className:"h-8 w-8"})},{name:"Oftalmología",description:"Enfermedades de los ojos",icon:d.jsx(fs,{className:"h-8 w-8"})},{name:"Oncología",description:"Diagnóstico y tratamiento del cáncer",icon:d.jsx(fs,{className:"h-8 w-8"})},{name:"Ortopedia",description:"Lesiones óseas, musculares y articulares",icon:d.jsx(fs,{className:"h-8 w-8"})}],AK=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState([]);h.useEffect(()=>{e(!0),(async()=>{const o=bM(am(ud,"doctors"),CM("approved","==",!0)),l=(await i_(o)).docs.map(c=>({id:c.id,...c.data()}));r(l)})()},[]);const s=i=>{window.location.href=`/search?query=${encodeURIComponent(i)}`};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsx("section",{className:"relative bg-gradient-to-br from-primary/20 to-secondary/40 py-20 md:py-32 overflow-hidden",children:d.jsx("div",{className:`container max-w-5xl mx-auto px-4 md:px-6 relative z-10 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:d.jsxs("div",{className:"text-center space-y-6 md:space-y-8",children:[d.jsx($o,{className:"py-1 px-3 bg-primary/20 text-primary border-primary/30 mb-4",children:"Encuentra veterinarios especialistas para tu mascota"}),d.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight tracking-tighter",children:["Cuidado veterinario ",d.jsx("span",{className:"text-primary",children:"de calidad"})," para tus mascotas"]}),d.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Encuentra a los mejores veterinarios especialistas, lee opiniones, compara precios y agenda citas al instante."}),d.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:d.jsx(qM,{onSearch:s})}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6 text-sm text-muted-foreground",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(VI,{className:"h-4 w-4 text-yellow-500 mr-1"}),d.jsx("span",{children:"Más de 2000 veterinarios verificados"})]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(Uo,{className:"h-4 w-4 text-primary mr-1"}),d.jsx("span",{children:"Agenda citas 24/7"})]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(Fi,{className:"h-4 w-4 text-primary mr-1"}),d.jsx("span",{children:"Encuentra veterinarios cercanos"})]})]})]})})}),d.jsx("section",{className:"py-20",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Busca por especialidad"}),d.jsx("p",{className:"text-muted-foreground",children:"Nuestros veterinarios están altamente cualificados en diversas especialidades para proporcionar la mejor atención a tu mascota."})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:RK.map(i=>d.jsx(IK,{name:i.name,description:i.description,icon:i.icon},i.name))}),d.jsx("div",{className:"text-center mt-10",children:d.jsx($e,{to:"/search",children:d.jsxs(ze,{variant:"outline",className:"group",children:["Ver todas las especialidades",d.jsx(Fw,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})}),d.jsx("section",{className:"py-20 bg-secondary/50",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16",children:[d.jsxs("div",{className:"max-w-2xl",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Veterinarios destacados"}),d.jsx("p",{className:"text-muted-foreground",children:"Los veterinarios mejor valorados por nuestros usuarios, con amplia experiencia y excelentes reseñas."})]}),d.jsx($e,{to:"/search",className:"mt-4 md:mt-0",children:d.jsxs(ze,{variant:"link",className:"group text-primary",children:["Ver todos",d.jsx(LI,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.length>0?n.map(i=>d.jsx(HM,{...i},i.id)):d.jsx("p",{className:"text-center col-span-full text-muted-foreground",children:"No hay veterinarios aprobados para mostrar."})})]})}),d.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:d.jsxs("div",{className:"container text-center max-w-3xl mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6",children:"¿Eres veterinario?"}),d.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Únete a nuestra red de profesionales y aumenta la visibilidad de tu clínica."}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:d.jsx($e,{to:"/join-professional",children:d.jsx(ze,{variant:"outline",size:"lg",className:"bg-transparent border-white text-white hover:bg-white/10 w-full",children:"Únete como profesional"})})})]})}),d.jsx(es,{})]})},NK=()=>{const t=ra();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function MK(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LK(t){var e=MK(t,"string");return Au(e)=="symbol"?e:e+""}function z(t,e,n){return(e=LK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kg,l1;function OK(){if(l1)return kg;l1=1;var t=function(n,r,s,i,o,a,l,c){if(!n){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[s,i,o,a,l,c],p=0;f=new Error(r.replace(/%s/g,function(){return m[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return kg=t,kg}var DK=OK(),At=KM(DK),Te=h.createContext(null);function jK(){At(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=h.useContext(Te);return At(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function VK(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function FK(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function UK(t,e,n,r){var s={},i=(o,a)=>{var l=n[a];l!==e[a]&&(s[a]=l,o(r,l))};return FK(t,i),s}function BK(t,e,n){var r=VK(n,function(i,o,a){return typeof t[a]=="function"&&i.push(google.maps.event.addListener(e,o,t[a])),i},[]);return r}function $K(t){google.maps.event.removeListener(t)}function Re(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach($K)}function ke(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,o=BK(s,i,n);return UK(e,r,s,i),o}var c1={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},u1={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function zK(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:o,onClick:a,onDblClick:l,onDrag:c,onDragEnd:f,onDragStart:m,onMouseMove:p,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:x,onRightClick:E,onCenterChanged:_,onLoad:b,onUnmount:I}=t,[k,L]=h.useState(null),T=h.useRef(null),[S,P]=h.useState(null),[R,M]=h.useState(null),[O,A]=h.useState(null),[F,X]=h.useState(null),[q,$]=h.useState(null),[D,j]=h.useState(null),[W,H]=h.useState(null),[Z,Y]=h.useState(null),[ue,U]=h.useState(null),[le,ee]=h.useState(null),[ie,he]=h.useState(null),[te,oe]=h.useState(null);return h.useEffect(()=>{n&&k!==null&&k.setOptions(n)},[k,n]),h.useEffect(()=>{k!==null&&typeof o<"u"&&k.setCenter(o)},[k,o]),h.useEffect(()=>{k&&l&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(k,"dblclick",l)))},[l]),h.useEffect(()=>{k&&f&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(k,"dragend",f)))},[f]),h.useEffect(()=>{k&&m&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(k,"dragstart",m)))},[m]),h.useEffect(()=>{k&&y&&(q!==null&&google.maps.event.removeListener(q),$(google.maps.event.addListener(k,"mousedown",y)))},[y]),h.useEffect(()=>{k&&p&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(k,"mousemove",p)))},[p]),h.useEffect(()=>{k&&g&&(W!==null&&google.maps.event.removeListener(W),H(google.maps.event.addListener(k,"mouseout",g)))},[g]),h.useEffect(()=>{k&&v&&(Z!==null&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(k,"mouseover",v)))},[v]),h.useEffect(()=>{k&&x&&(ue!==null&&google.maps.event.removeListener(ue),U(google.maps.event.addListener(k,"mouseup",x)))},[x]),h.useEffect(()=>{k&&E&&(le!==null&&google.maps.event.removeListener(le),ee(google.maps.event.addListener(k,"rightclick",E)))},[E]),h.useEffect(()=>{k&&a&&(ie!==null&&google.maps.event.removeListener(ie),he(google.maps.event.addListener(k,"click",a)))},[a]),h.useEffect(()=>{k&&c&&(te!==null&&google.maps.event.removeListener(te),oe(google.maps.event.addListener(k,"drag",c)))},[c]),h.useEffect(()=>{k&&_&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(k,"center_changed",_)))},[a]),h.useEffect(()=>{var ve=T.current===null?null:new google.maps.Map(T.current,n);return L(ve),ve!==null&&b&&b(ve),()=>{ve!==null&&I&&I(ve)}},[]),d.jsx("div",{id:r,ref:T,style:s,className:i,children:d.jsx(Te.Provider,{value:k,children:k!==null?e:null})})}h.memo(zK);class WK extends h.PureComponent{constructor(){super(...arguments),z(this,"state",{map:null}),z(this,"registeredEvents",[]),z(this,"mapRef",null),z(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),z(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),z(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),z(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ke({updaterMap:u1,eventMap:c1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:u1,eventMap:c1,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Re(this.registeredEvents))}render(){return d.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:d.jsx(Te.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function d1(t,e,n,r,s,i,o){try{var a=t[i](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,s)}function GM(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(l){d1(i,r,s,o,a,"next",l)}function a(l){d1(i,r,s,o,a,"throw",l)}o(void 0)})}}function QM(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:a,mapIds:l,authReferrerPolicy:c}=t,f=[];return At(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),s&&f.push("language=".concat(s)),i&&f.push("region=".concat(i)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),a&&f.push("channel=".concat(a)),l&&l.length&&f.push("map_ids=".concat(l.join(","))),c&&f.push("auth_referrer_policy=".concat(c)),f.push("loading=async"),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var Ei=typeof document<"u";function YM(t){var{url:e,id:n,nonce:r}=t;return Ei?new Promise(function(i,o){var a=document.getElementById(n),l=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return i(n);var f=l.initMap,m=a.onerror;l.initMap=function(){f&&f(),i(n)},a.onerror=function(g){m&&m(g),o(g)};return}else a.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(v){p.setAttribute("data-state","error"),o(v)},l.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function h1(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function h_(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return h1(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return h1(s)||Reflect.apply(n,t,[s]),s}}}var yc=!1;function XM(){return d.jsx("div",{children:"Loading..."})}var Nu={id:"script-loader",version:"weekly"};class HK extends h.PureComponent{constructor(){super(...arguments),z(this,"check",null),z(this,"state",{loaded:!1}),z(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),z(this,"isCleaningUp",GM(function*(){function e(n){if(!yc)n();else if(Ei)var r=window.setInterval(function(){yc||(window.clearInterval(r),n())},1)}return new Promise(e)})),z(this,"cleanup",()=>{yc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),z(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&h_(),At(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:QM(this.props)};YM(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),z(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Ei){if(window.google&&window.google.maps&&!yc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ei&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ei){this.cleanup();var e=()=>{this.check||(delete window.google,yc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||d.jsx(XM,{})]})}}z(HK,"defaultProps",Nu);function qK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function f_(t,e){if(t==null)return{};var n,r,s=qK(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var f1;function KK(t){var{id:e=Nu.id,version:n=Nu.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,preventGoogleFontsLoading:c,channel:f,mapIds:m,authReferrerPolicy:p}=t,g=h.useRef(!1),[v,y]=h.useState(!1),[x,E]=h.useState(void 0);h.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),h.useEffect(function(){Ei&&c&&h_()},[c]),h.useEffect(function(){v&&At(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var _=QM({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,channel:f,mapIds:m,authReferrerPolicy:p});h.useEffect(function(){if(!Ei)return;function k(){g.current&&(y(!0),f1=_)}if(window.google&&window.google.maps&&f1===_){k();return}YM({id:e,url:_,nonce:r}).then(k).catch(function(T){g.current&&E(T),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(T)})},[e,_,r]);var b=h.useRef(void 0);return h.useEffect(function(){b.current&&l!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=l},[l]),{isLoaded:v,loadError:x,url:_}}var GK=["loadingElement","onLoad","onError","onUnmount","children"],QK=d.jsx(XM,{});function YK(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=f_(t,GK),{isLoaded:a,loadError:l}=KK(o);return h.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),h.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),h.useEffect(function(){return()=>{s&&s()}},[s]),a?i:e||QK}h.memo(YK);function XK(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(m){o(m)}}function l(f){try{c(r.throw(f))}catch(m){o(m)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function ZK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JK=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},eG=ZK(JK),p1="__googleMapsScriptId",Fa;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Fa||(Fa={}));class bo{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:o=p1,language:a,libraries:l=[],mapIds:c,nonce:f,region:m,retries:p=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=o||p1,this.language=a,this.libraries=l,this.mapIds=c,this.nonce=f,this.region=m,this.retries=p,this.url=g,this.version=v,bo.instance){if(!eG(this.options,bo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(bo.instance.options)));return bo.instance}bo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Fa.FAILURE:this.done?Fa.SUCCESS:this.loading?Fa.LOADING:Fa.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var o,a,l,c="The Google Maps JavaScript API",f="google",m="importLibrary",p="__ib__",g=document,v=window;v=v[f]||(v[f]={});var y=v.maps||(v.maps={}),x=new Set,E=new URLSearchParams,_=()=>o||(o=new Promise((b,I)=>XK(this,void 0,void 0,function*(){var k;yield a=g.createElement("script"),a.id=this.id,E.set("libraries",[...x]+"");for(l in i)E.set(l.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[l]);E.set("callback",f+".maps."+p),a.src=this.url+"?"+E,y[p]=b,a.onerror=()=>o=I(Error(c+" could not load.")),a.nonce=this.nonce||((k=g.querySelector("script[nonce]"))===null||k===void 0?void 0:k.nonce)||"",g.head.append(a)})));y[m]?console.warn(c+" only loads once. Ignoring:",i):y[m]=function(b){for(var I=arguments.length,k=new Array(I>1?I-1:0),L=1;L<I;L++)k[L-1]=arguments[L];return x.add(b)&&_().then(()=>y[m](b,...k))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var tG=["maps"];function nG(t){var{id:e=Nu.id,version:n=Nu.version,nonce:r,googleMapsApiKey:s,language:i,region:o,libraries:a=tG,preventGoogleFontsLoading:l,mapIds:c,authReferrerPolicy:f}=t,m=h.useRef(!1),[p,g]=h.useState(!1),[v,y]=h.useState(void 0);h.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]);var x=h.useMemo(()=>new bo({id:e,apiKey:s,version:n,libraries:a,language:i||"en",region:o||"US",mapIds:c||[],nonce:r||"",authReferrerPolicy:f||"origin"}),[e,s,n,a,i,o,c,r,f]);h.useEffect(function(){p||x.load().then(()=>{m.current&&g(!0)}).catch(b=>{y(b)})},[]),h.useEffect(()=>{Ei&&l&&h_()},[l]);var E=h.useRef();return h.useEffect(()=>{E.current&&a!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=a},[a]),{isLoaded:p,loadError:v}}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g1={},v1={options(t,e){t.setOptions(e)}};function rG(t){var{options:e,onLoad:n,onUnmount:r}=t,s=h.useContext(Te),[i,o]=h.useState(null);return h.useEffect(()=>{i!==null&&i.setMap(s)},[s]),h.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),h.useEffect(()=>{var a=new google.maps.TrafficLayer(Wf(Wf({},e),{},{map:s}));return o(a),n&&n(a),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}h.memo(rG);class sG extends h.PureComponent{constructor(){super(...arguments),z(this,"state",{trafficLayer:null}),z(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),z(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Wf(Wf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:v1,eventMap:g1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:v1,eventMap:g1,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Re(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}z(sG,"contextType",Te);function iG(t){var{onLoad:e,onUnmount:n}=t,r=h.useContext(Te),[s,i]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(r)},[r]),h.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}h.memo(iG);class oG extends h.PureComponent{constructor(){super(...arguments),z(this,"state",{bicyclingLayer:null}),z(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}z(oG,"contextType",Te);function aG(t){var{onLoad:e,onUnmount:n}=t,r=h.useContext(Te),[s,i]=h.useState(null);return h.useEffect(()=>{s!==null&&s.setMap(r)},[r]),h.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(r),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}h.memo(aG);class lG extends h.PureComponent{constructor(){super(...arguments),z(this,"state",{transitLayer:null}),z(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}z(lG,"contextType",Te);function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var w1={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},_1={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function cG(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:c,onUnmount:f}=t,m=h.useContext(Te),[p,g]=h.useState(null),[v,y]=h.useState(null),[x,E]=h.useState(null),[_,b]=h.useState(null),[I,k]=h.useState(null),[L,T]=h.useState(null),[S,P]=h.useState(null);return h.useEffect(()=>{p!==null&&p.setMap(m)},[m]),h.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),h.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),h.useEffect(()=>{p&&r&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),h.useEffect(()=>{p&&s&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),h.useEffect(()=>{p&&i&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),h.useEffect(()=>{p&&o&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),h.useEffect(()=>{p&&a&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(p,"polylinecomplete",a)))},[p,a]),h.useEffect(()=>{p&&l&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(p,"rectanglecomplete",l)))},[p,l]),h.useEffect(()=>{At(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(Hf(Hf({},e),{},{map:m}));return n&&R.setDrawingMode(n),r&&y(google.maps.event.addListener(R,"circlecomplete",r)),s&&E(google.maps.event.addListener(R,"markercomplete",s)),i&&b(google.maps.event.addListener(R,"overlaycomplete",i)),o&&k(google.maps.event.addListener(R,"polygoncomplete",o)),a&&T(google.maps.event.addListener(R,"polylinecomplete",a)),l&&P(google.maps.event.addListener(R,"rectanglecomplete",l)),g(R),c&&c(R),()=>{p!==null&&(v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),_&&google.maps.event.removeListener(_),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),S&&google.maps.event.removeListener(S),f&&f(p),p.setMap(null))}},[]),null}h.memo(cG);class uG extends h.PureComponent{constructor(e){super(e),z(this,"registeredEvents",[]),z(this,"state",{drawingManager:null}),z(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),At(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Hf(Hf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:_1,eventMap:w1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:_1,eventMap:w1,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Re(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}z(uG,"contextType",Te);function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E1={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},b1={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},qf={};function dG(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:o,visible:a,animation:l,clickable:c,cursor:f,icon:m,label:p,opacity:g,shape:v,title:y,zIndex:x,onClick:E,onDblClick:_,onDrag:b,onDragEnd:I,onDragStart:k,onMouseOut:L,onMouseOver:T,onMouseUp:S,onMouseDown:P,onRightClick:R,onClickableChanged:M,onCursorChanged:O,onAnimationChanged:A,onDraggableChanged:F,onFlatChanged:X,onIconChanged:q,onPositionChanged:$,onShapeChanged:D,onTitleChanged:j,onVisibleChanged:W,onZindexChanged:H,onLoad:Z,onUnmount:Y}=t,ue=h.useContext(Te),[U,le]=h.useState(null),[ee,ie]=h.useState(null),[he,te]=h.useState(null),[oe,ve]=h.useState(null),[Ke,at]=h.useState(null),[Ce,Nt]=h.useState(null),[mn,Vs]=h.useState(null),[et,Pn]=h.useState(null),[ss,ha]=h.useState(null),[In,Fs]=h.useState(null),[Us,lt]=h.useState(null),[Ye,Rr]=h.useState(null),[gn,Bs]=h.useState(null),[$s,ar]=h.useState(null),[Ar,uo]=h.useState(null),[Qn,kn]=h.useState(null),[zs,ye]=h.useState(null),[De,Fe]=h.useState(null),[Tt,jt]=h.useState(null),[Rn,Yn]=h.useState(null),[ho,fo]=h.useState(null),[po,Ws]=h.useState(null);h.useEffect(()=>{U!==null&&U.setMap(ue)},[ue]),h.useEffect(()=>{typeof n<"u"&&U!==null&&U.setOptions(n)},[U,n]),h.useEffect(()=>{typeof o<"u"&&U!==null&&U.setDraggable(o)},[U,o]),h.useEffect(()=>{e&&U!==null&&U.setPosition(e)},[U,e]),h.useEffect(()=>{typeof a<"u"&&U!==null&&U.setVisible(a)},[U,a]),h.useEffect(()=>{U==null||U.setAnimation(l)},[U,l]),h.useEffect(()=>{U&&c!==void 0&&U.setClickable(c)},[U,c]),h.useEffect(()=>{U&&f!==void 0&&U.setCursor(f)},[U,f]),h.useEffect(()=>{U&&m!==void 0&&U.setIcon(m)},[U,m]),h.useEffect(()=>{U&&p!==void 0&&U.setLabel(p)},[U,p]),h.useEffect(()=>{U&&g!==void 0&&U.setOpacity(g)},[U,g]),h.useEffect(()=>{U&&v!==void 0&&U.setShape(v)},[U,v]),h.useEffect(()=>{U&&y!==void 0&&U.setTitle(y)},[U,y]),h.useEffect(()=>{U&&x!==void 0&&U.setZIndex(x)},[U,x]),h.useEffect(()=>{U&&_&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(U,"dblclick",_)))},[_]),h.useEffect(()=>{U&&I&&(he!==null&&google.maps.event.removeListener(he),te(google.maps.event.addListener(U,"dragend",I)))},[I]),h.useEffect(()=>{U&&k&&(oe!==null&&google.maps.event.removeListener(oe),ve(google.maps.event.addListener(U,"dragstart",k)))},[k]),h.useEffect(()=>{U&&P&&(Ke!==null&&google.maps.event.removeListener(Ke),at(google.maps.event.addListener(U,"mousedown",P)))},[P]),h.useEffect(()=>{U&&L&&(Ce!==null&&google.maps.event.removeListener(Ce),Nt(google.maps.event.addListener(U,"mouseout",L)))},[L]),h.useEffect(()=>{U&&T&&(mn!==null&&google.maps.event.removeListener(mn),Vs(google.maps.event.addListener(U,"mouseover",T)))},[T]),h.useEffect(()=>{U&&S&&(et!==null&&google.maps.event.removeListener(et),Pn(google.maps.event.addListener(U,"mouseup",S)))},[S]),h.useEffect(()=>{U&&R&&(ss!==null&&google.maps.event.removeListener(ss),ha(google.maps.event.addListener(U,"rightclick",R)))},[R]),h.useEffect(()=>{U&&E&&(In!==null&&google.maps.event.removeListener(In),Fs(google.maps.event.addListener(U,"click",E)))},[E]),h.useEffect(()=>{U&&b&&(Us!==null&&google.maps.event.removeListener(Us),lt(google.maps.event.addListener(U,"drag",b)))},[b]),h.useEffect(()=>{U&&M&&(Ye!==null&&google.maps.event.removeListener(Ye),Rr(google.maps.event.addListener(U,"clickable_changed",M)))},[M]),h.useEffect(()=>{U&&O&&(gn!==null&&google.maps.event.removeListener(gn),Bs(google.maps.event.addListener(U,"cursor_changed",O)))},[O]),h.useEffect(()=>{U&&A&&($s!==null&&google.maps.event.removeListener($s),ar(google.maps.event.addListener(U,"animation_changed",A)))},[A]),h.useEffect(()=>{U&&F&&(Ar!==null&&google.maps.event.removeListener(Ar),uo(google.maps.event.addListener(U,"draggable_changed",F)))},[F]),h.useEffect(()=>{U&&X&&(Qn!==null&&google.maps.event.removeListener(Qn),kn(google.maps.event.addListener(U,"flat_changed",X)))},[X]),h.useEffect(()=>{U&&q&&(zs!==null&&google.maps.event.removeListener(zs),ye(google.maps.event.addListener(U,"icon_changed",q)))},[q]),h.useEffect(()=>{U&&$&&(De!==null&&google.maps.event.removeListener(De),Fe(google.maps.event.addListener(U,"position_changed",$)))},[$]),h.useEffect(()=>{U&&D&&(Tt!==null&&google.maps.event.removeListener(Tt),jt(google.maps.event.addListener(U,"shape_changed",D)))},[D]),h.useEffect(()=>{U&&j&&(Rn!==null&&google.maps.event.removeListener(Rn),Yn(google.maps.event.addListener(U,"title_changed",j)))},[j]),h.useEffect(()=>{U&&W&&(ho!==null&&google.maps.event.removeListener(ho),fo(google.maps.event.addListener(U,"visible_changed",W)))},[W]),h.useEffect(()=>{U&&H&&(po!==null&&google.maps.event.removeListener(po),Ws(google.maps.event.addListener(U,"zindex_changed",H)))},[H]),h.useEffect(()=>{var yt=el(el(el({},n||qf),r?qf:{map:ue}),{},{position:e}),xe=new google.maps.Marker(yt);return r?r.addMarker(xe,!!s):xe.setMap(ue),e&&xe.setPosition(e),typeof a<"u"&&xe.setVisible(a),typeof o<"u"&&xe.setDraggable(o),typeof c<"u"&&xe.setClickable(c),typeof f=="string"&&xe.setCursor(f),m&&xe.setIcon(m),typeof p<"u"&&xe.setLabel(p),typeof g<"u"&&xe.setOpacity(g),v&&xe.setShape(v),typeof y=="string"&&xe.setTitle(y),typeof x=="number"&&xe.setZIndex(x),_&&ie(google.maps.event.addListener(xe,"dblclick",_)),I&&te(google.maps.event.addListener(xe,"dragend",I)),k&&ve(google.maps.event.addListener(xe,"dragstart",k)),P&&at(google.maps.event.addListener(xe,"mousedown",P)),L&&Nt(google.maps.event.addListener(xe,"mouseout",L)),T&&Vs(google.maps.event.addListener(xe,"mouseover",T)),S&&Pn(google.maps.event.addListener(xe,"mouseup",S)),R&&ha(google.maps.event.addListener(xe,"rightclick",R)),E&&Fs(google.maps.event.addListener(xe,"click",E)),b&&lt(google.maps.event.addListener(xe,"drag",b)),M&&Rr(google.maps.event.addListener(xe,"clickable_changed",M)),O&&Bs(google.maps.event.addListener(xe,"cursor_changed",O)),A&&ar(google.maps.event.addListener(xe,"animation_changed",A)),F&&uo(google.maps.event.addListener(xe,"draggable_changed",F)),X&&kn(google.maps.event.addListener(xe,"flat_changed",X)),q&&ye(google.maps.event.addListener(xe,"icon_changed",q)),$&&Fe(google.maps.event.addListener(xe,"position_changed",$)),D&&jt(google.maps.event.addListener(xe,"shape_changed",D)),j&&Yn(google.maps.event.addListener(xe,"title_changed",j)),W&&fo(google.maps.event.addListener(xe,"visible_changed",W)),H&&Ws(google.maps.event.addListener(xe,"zindex_changed",H)),le(xe),Z&&Z(xe),()=>{ee!==null&&google.maps.event.removeListener(ee),he!==null&&google.maps.event.removeListener(he),oe!==null&&google.maps.event.removeListener(oe),Ke!==null&&google.maps.event.removeListener(Ke),Ce!==null&&google.maps.event.removeListener(Ce),mn!==null&&google.maps.event.removeListener(mn),et!==null&&google.maps.event.removeListener(et),ss!==null&&google.maps.event.removeListener(ss),In!==null&&google.maps.event.removeListener(In),Ye!==null&&google.maps.event.removeListener(Ye),gn!==null&&google.maps.event.removeListener(gn),$s!==null&&google.maps.event.removeListener($s),Ar!==null&&google.maps.event.removeListener(Ar),Qn!==null&&google.maps.event.removeListener(Qn),zs!==null&&google.maps.event.removeListener(zs),De!==null&&google.maps.event.removeListener(De),Rn!==null&&google.maps.event.removeListener(Rn),ho!==null&&google.maps.event.removeListener(ho),po!==null&&google.maps.event.removeListener(po),Y&&Y(xe),r?r.removeMarker(xe,!!s):xe&&xe.setMap(null)}},[]);var vd=h.useMemo(()=>i?h.Children.map(i,yt=>{if(!h.isValidElement(yt))return yt;var xe=yt;return h.cloneElement(xe,{anchor:U})}):null,[i,U]);return d.jsx(d.Fragment,{children:vd})||null}h.memo(dG);class Ry extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[])}componentDidMount(){var e=this;return GM(function*(){var n=el(el(el({},e.props.options||qf),e.props.clusterer?qf:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ke({updaterMap:b1,eventMap:E1,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:b1,eventMap:E1,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Re(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?h.Children.map(this.props.children,n=>{if(!h.isValidElement(n))return n;var r=n;return h.cloneElement(r,{anchor:this.marker})}):null;return e||null}}z(Ry,"contextType",Te);var hG=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=a,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(f,"px, -").concat(c+this.width,"px, -").concat(f+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),fG=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new hG(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],o=i.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function pG(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var mG=2e3,gG=500,vG="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",yG="png",wG=[53,56,66,78,90],_G="cluster",ZM=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||vG,this.imageExtension=r.imageExtension||yG,this.imageSizes=r.imageSizes||wG,this.calculator=r.calculator||pG,this.batchSize=r.batchSize||mG,this.batchSizeIE=r.batchSizeIE||gG,this.clusterClass=r.clusterClass||_G,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var o=i[s];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var c=l[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],o=i.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var o=i[s];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var a=o[i];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,o=this.clusters;i<o.length;i++){var a=o[i];n=a;var l=n.getCenter(),c=e.getPosition();if(l&&c){var f=this.distanceBetweenPoints(l,c);f<r&&(r=f,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new fG(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var f=this.markers[c];f&&!f.isAdded&&this.isMarkerInBounds(f,a)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,p=this.clusters;m<p.length;m++){var g=p[m];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var o=i;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function C1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Xn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Be={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},EG={};function bG(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:c,imageExtension:f,imagePath:m,imageSizes:p,maxZoom:g,minimumClusterSize:v,styles:y,title:x,zoomOnClick:E,onClick:_,onClusteringBegin:b,onClusteringEnd:I,onMouseOver:k,onMouseOut:L,onLoad:T,onUnmount:S}=t,[P,R]=h.useState(null),M=h.useContext(Te),[O,A]=h.useState(null),[F,X]=h.useState(null),[q,$]=h.useState(null),[D,j]=h.useState(null),[W,H]=h.useState(null);return h.useEffect(()=>{P&&L&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(P,Xn.onMouseOut,L)))},[L]),h.useEffect(()=>{P&&k&&(W!==null&&google.maps.event.removeListener(W),H(google.maps.event.addListener(P,Xn.onMouseOver,k)))},[k]),h.useEffect(()=>{P&&_&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(P,Xn.onClick,_)))},[_]),h.useEffect(()=>{P&&b&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(P,Xn.onClusteringBegin,b)))},[b]),h.useEffect(()=>{P&&I&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(P,Xn.onClusteringEnd,I)))},[I]),h.useEffect(()=>{typeof r<"u"&&P!==null&&Be.averageCenter(P,r)},[P,r]),h.useEffect(()=>{typeof s<"u"&&P!==null&&Be.batchSizeIE(P,s)},[P,s]),h.useEffect(()=>{typeof i<"u"&&P!==null&&Be.calculator(P,i)},[P,i]),h.useEffect(()=>{typeof o<"u"&&P!==null&&Be.clusterClass(P,o)},[P,o]),h.useEffect(()=>{typeof a<"u"&&P!==null&&Be.enableRetinaIcons(P,a)},[P,a]),h.useEffect(()=>{typeof l<"u"&&P!==null&&Be.gridSize(P,l)},[P,l]),h.useEffect(()=>{typeof c<"u"&&P!==null&&Be.ignoreHidden(P,c)},[P,c]),h.useEffect(()=>{typeof f<"u"&&P!==null&&Be.imageExtension(P,f)},[P,f]),h.useEffect(()=>{typeof m<"u"&&P!==null&&Be.imagePath(P,m)},[P,m]),h.useEffect(()=>{typeof p<"u"&&P!==null&&Be.imageSizes(P,p)},[P,p]),h.useEffect(()=>{typeof g<"u"&&P!==null&&Be.maxZoom(P,g)},[P,g]),h.useEffect(()=>{typeof v<"u"&&P!==null&&Be.minimumClusterSize(P,v)},[P,v]),h.useEffect(()=>{typeof y<"u"&&P!==null&&Be.styles(P,y)},[P,y]),h.useEffect(()=>{typeof x<"u"&&P!==null&&Be.title(P,x)},[P,x]),h.useEffect(()=>{typeof E<"u"&&P!==null&&Be.zoomOnClick(P,E)},[P,E]),h.useEffect(()=>{if(M){var Z=xG({},n||EG),Y=new ZM(M,[],Z);return r&&Be.averageCenter(Y,r),s&&Be.batchSizeIE(Y,s),i&&Be.calculator(Y,i),o&&Be.clusterClass(Y,o),a&&Be.enableRetinaIcons(Y,a),l&&Be.gridSize(Y,l),c&&Be.ignoreHidden(Y,c),f&&Be.imageExtension(Y,f),m&&Be.imagePath(Y,m),p&&Be.imageSizes(Y,p),g&&Be.maxZoom(Y,g),v&&Be.minimumClusterSize(Y,v),y&&Be.styles(Y,y),x&&Be.title(Y,x),E&&Be.zoomOnClick(Y,E),L&&j(google.maps.event.addListener(Y,Xn.onMouseOut,L)),k&&H(google.maps.event.addListener(Y,Xn.onMouseOver,k)),_&&A(google.maps.event.addListener(Y,Xn.onClick,_)),b&&X(google.maps.event.addListener(Y,Xn.onClusteringBegin,b)),I&&$(google.maps.event.addListener(Y,Xn.onClusteringEnd,I)),R(Y),T&&T(Y),()=>{D!==null&&google.maps.event.removeListener(D),W!==null&&google.maps.event.removeListener(W),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),q!==null&&google.maps.event.removeListener(q),S&&S(Y)}}},[]),P!==null&&e(P)||null}h.memo(bG);class CG extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{markerClusterer:null}),z(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new ZM(this.context,[],this.props.options);this.registeredEvents=ke({updaterMap:Be,eventMap:Xn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:Be,eventMap:Xn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Re(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}z(CG,"contextType",Te);function S1(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var JM=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||S1(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=i;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,S1))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,c=this.pixelOffset.width,f=this.pixelOffset.height,m=this.div.offsetWidth,p=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,y=this.getProjection(),x=y.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-c+g?r=x.x+c-g:x.x+m+c+g>a&&(r=x.x+m+c+g-a),this.alignBottom?x.y<-f+v+p?s=x.y+f-v-p:x.y+f+v>l&&(s=x.y+f+v-l):x.y<-f+v?s=x.y+f-v:x.y+p+f+v>l&&(s=x.y+p+f+v-l)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),SG=["position"],TG=["position"];function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var P1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},I1={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},PG={};function IG(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:f,onLoad:m,onUnmount:p}=t,g=h.useContext(Te),[v,y]=h.useState(null),[x,E]=h.useState(null),[_,b]=h.useState(null),[I,k]=h.useState(null),[L,T]=h.useState(null),[S,P]=h.useState(null),R=h.useRef(null);return h.useEffect(()=>{g&&v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),h.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),h.useEffect(()=>{if(s&&v!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(M)}},[s]),h.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),h.useEffect(()=>{v&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(v,"closeclick",o)))},[o]),h.useEffect(()=>{v&&a&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(v,"domready",a)))},[a]),h.useEffect(()=>{v&&l&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(v,"content_changed",l)))},[l]),h.useEffect(()=>{v&&c&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(v,"position_changed",c)))},[c]),h.useEffect(()=>{v&&f&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(v,"zindex_changed",f)))},[f]),h.useEffect(()=>{if(g){var M=r||PG,{position:O}=M,A=f_(M,SG),F;O&&!(O instanceof google.maps.LatLng)&&(F=new google.maps.LatLng(O.lat,O.lng));var X=new JM(Kf(Kf({},A),F?{position:F}:{}));R.current=document.createElement("div"),y(X),o&&E(google.maps.event.addListener(X,"closeclick",o)),a&&b(google.maps.event.addListener(X,"domready",a)),l&&k(google.maps.event.addListener(X,"content_changed",l)),c&&T(google.maps.event.addListener(X,"position_changed",c)),f&&P(google.maps.event.addListener(X,"zindex_changed",f)),X.setContent(R.current),n?X.open(g,n):X.getPosition()?X.open(g):At(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(X)}return()=>{v!==null&&(x&&google.maps.event.removeListener(x),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),L&&google.maps.event.removeListener(L),S&&google.maps.event.removeListener(S),p&&p(v),v.close())}},[]),R.current?Gn.createPortal(h.Children.only(e),R.current):null}h.memo(IG);class kG extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",null),z(this,"state",{infoBox:null}),z(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):At(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),z(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=f_(e,TG),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new JM(Kf(Kf({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:I1,eventMap:P1,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:I1,eventMap:P1,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Re(this.registeredEvents),n.close())}render(){return this.containerElement?Gn.createPortal(h.Children.only(this.props.children),this.containerElement):null}}z(kG,"contextType",Te);var Rg,k1;function RG(){return k1||(k1=1,Rg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Rg}var AG=RG(),R1=KM(AG),A1=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ag=1,wc=8;class p_{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==Ag)throw new Error("Got v".concat(s," data when expected v").concat(Ag,"."));var i=A1[r&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new p_(a,o,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=A1.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,wc,e),this.coords=new this.ArrayType(this.data,wc+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(wc+o+a+l),this.ids=new this.IndexArrayType(this.data,wc,e),this.coords=new this.ArrayType(this.data,wc+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ag<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Ay(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:a}=this,l=[0,i.length-1,0],c=[];l.length;){var f=l.pop()||0,m=l.pop()||0,p=l.pop()||0;if(m-p<=a){for(var g=p;g<=m;g++){var v=o[2*g],y=o[2*g+1];v>=e&&v<=r&&y>=n&&y<=s&&c.push(i[g])}continue}var x=p+m>>1,E=o[2*x],_=o[2*x+1];E>=e&&E<=r&&_>=n&&_<=s&&c.push(i[x]),(f===0?e<=E:n<=_)&&(l.push(p),l.push(x-1),l.push(1-f)),(f===0?r>=E:s>=_)&&(l.push(x+1),l.push(m),l.push(1-f))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],l=[],c=r*r;a.length;){var f=a.pop()||0,m=a.pop()||0,p=a.pop()||0;if(m-p<=o){for(var g=p;g<=m;g++)N1(i[2*g],i[2*g+1],e,n)<=c&&l.push(s[g]);continue}var v=p+m>>1,y=i[2*v],x=i[2*v+1];N1(y,x,e,n)<=c&&l.push(s[v]),(f===0?e-r<=y:n-r<=x)&&(a.push(p),a.push(v-1),a.push(1-f)),(f===0?e+r>=y:n+r>=x)&&(a.push(v+1),a.push(m),a.push(1-f))}return l}}function Ay(t,e,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;eL(t,e,o,r,s,i),Ay(t,e,n,r,o-1,1-i),Ay(t,e,n,o+1,s,1-i)}}function eL(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1),m=Math.max(r,Math.floor(n-a*c/o+f)),p=Math.min(s,Math.floor(n+(o-a)*c/o+f));eL(t,e,n,m,p,i)}var g=e[2*n+i],v=r,y=s;for(_c(t,e,r,n),e[2*s+i]>g&&_c(t,e,r,s);v<y;){for(_c(t,e,v,y),v++,y--;e[2*v+i]<g;)v++;for(;e[2*y+i]>g;)y--}e[2*r+i]===g?_c(t,e,r,y):(y++,_c(t,e,y,s)),y<=n&&(r=y+1),n<=y&&(s=y-1)}}function _c(t,e,n,r){Ng(t,n,r),Ng(e,2*n,2*r),Ng(e,2*n+1,2*r+1)}function Ng(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function N1(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var NG={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},M1=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),yo=2,ii=3,Mg=4,ni=5,tL=6;class MG{constructor(e){this.options=Object.assign(Object.create(NG),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[c,f]=l.geometry.coordinates,m=M1(fh(c)),p=M1(ph(f));o.push(m,p,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var g=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var y=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),n&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,s,180,o],n),l=this.getClusters([-180,s,i,o],n);return a.concat(l)}var c=this.trees[this._limitZoom(n)],f=c.range(fh(r),ph(o),fh(i),ph(s)),m=c.data,p=[];for(var g of f){var v=this.stride*g;p.push(m[v+ni]>1?L1(m,v,this.clusterProps):this.points[m[v+ii]])}return p}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var o=i.data;if(n*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],c=o[n*this.stride+1],f=i.within(l,c,a),m=[];for(var p of f){var g=p*this.stride;o[g+Mg]===e&&m.push(o[g+ni]>1?L1(o,g,this.clusterProps):this.points[o[g+ii]])}if(m.length===0)throw new Error(s);return m}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,c=(r-l)/i,f=(r+1+l)/i,m={features:[]};return this._addTileFeatures(s.range((n-l)/i,c,(n+1+l)/i,f),s.data,n,r,i,m),n===0&&this._addTileFeatures(s.range(1-l/i,c,1,f),s.data,i,r,i,m),n===i-1&&this._addTileFeatures(s.range(0,c,l/i,f),s.data,-1,r,i,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?i+l.point_count<=s?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_createTree(e){for(var n=new p_(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(var a of e){var l=a*this.stride,c=n[l+ni]>1,f=void 0,m=void 0,p=void 0;if(c)f=nL(n,l,this.clusterProps),m=n[l],p=n[l+1];else{var g=this.points[n[l+ii]];f=g.properties;var[v,y]=g.geometry.coordinates;m=fh(v),p=ph(y)}var x={type:1,geometry:[[Math.round(this.options.extent*(m*i-r)),Math.round(this.options.extent*(p*i-s))]],tags:f},E=void 0;c||this.options.generateId?E=n[l+ii]:E=this.points[n[l+ii]].id,E!==void 0&&(x.id=E),o.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:o}=this.options,a=r/(s*Math.pow(2,n)),l=e.data,c=[],f=this.stride,m=0;m<l.length;m+=f)if(!(l[m+yo]<=n)){l[m+yo]=n;var p=l[m],g=l[m+1],v=e.within(l[m],l[m+1],a),y=l[m+ni],x=y;for(var E of v){var _=E*f;l[_+yo]>n&&(x+=l[_+ni])}if(x>y&&x>=o){var b=p*y,I=g*y,k=void 0,L=-1,T=((m/f|0)<<5)+(n+1)+this.points.length;for(var S of v){var P=S*f;if(!(l[P+yo]<=n)){l[P+yo]=n;var R=l[P+ni];b+=l[P]*R,I+=l[P+1]*R,l[P+Mg]=T,i&&(k||(k=this._map(l,m,!0),L=this.clusterProps.length,this.clusterProps.push(k)),i(k,this._map(l,P)))}}l[m+Mg]=T,c.push(b/x,I/x,1/0,T,-1,x),i&&c.push(L)}else{for(var M=0;M<f;M++)c.push(l[m+M]);if(x>1)for(var O of v){var A=O*f;if(!(l[A+yo]<=n)){l[A+yo]=n;for(var F=0;F<f;F++)c.push(l[A+F])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+ni]>1){var s=this.clusterProps[e[n+tL]];return r?Object.assign({},s):s}var i=this.points[e[n+ii]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function L1(t,e,n){return{type:"Feature",id:t[e+ii],properties:nL(t,e,n),geometry:{type:"Point",coordinates:[LG(t[e]),OG(t[e+1])]}}}function nL(t,e,n){var r=t[e+ni],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+tL],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+ii],point_count:r,point_count_abbreviated:s})}function fh(t){return t/360+.5}function ph(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function LG(t){return(t-.5)*360}function OG(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function DG(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Dn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Ny{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Dn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Dn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Dn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class jG{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return VG(n)}}var VG=t=>{var e=t.map(n=>new Ny({position:Dn.getPosition(n),markers:[n]}));return e};class FG extends jG{constructor(e){var{maxZoom:n,radius:r=60}=e,s=DG(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new MG(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!R1(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var o=Dn.getPosition(i),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!R1(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new Ny({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new Ny({markers:[i],position:Dn.getPosition(i)})}}class UG{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class BG{render(e,n,r){var{count:s,position:i}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),l="Cluster of ".concat(s," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Dn.isAdvancedMarkerAvailable(r)){var f=new DOMParser,m=f.parseFromString(a,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var p={map:r,position:i,zIndex:c,title:l,content:m};return new google.maps.marker.AdvancedMarkerElement(p)}var g={position:i,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function $G(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class m_{constructor(){$G(m_,google.maps.OverlayView)}}var Qc;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Qc||(Qc={}));var zG=(t,e,n)=>{n.fitBounds(e.bounds)};class WG extends m_{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new FG(s),renderer:o=new BG,onClusterClick:a=zG}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Dn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Qc.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||Dn.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>Dn.setMap(l,null)))}google.maps.event.trigger(this,Qc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Dn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new UG(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Dn.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,Qc.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Dn.setMap(r.marker,n)})}}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HG(t){var e=jK(),[n,r]=h.useState(null);return h.useEffect(()=>{if(e&&n===null){var s=new WG(D1(D1({},t),{},{map:e}));r(s)}},[e]),n}function qG(t){var{children:e,options:n}=t,r=HG(n);return r!==null?e(r):null}h.memo(qG);var j1={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},V1={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function KG(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:f,onLoad:m,onUnmount:p}=t,g=h.useContext(Te),[v,y]=h.useState(null),[x,E]=h.useState(null),[_,b]=h.useState(null),[I,k]=h.useState(null),[L,T]=h.useState(null),[S,P]=h.useState(null),R=h.useRef(null);return h.useEffect(()=>{v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),h.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),h.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),h.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),h.useEffect(()=>{v&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(v,"closeclick",o)))},[o]),h.useEffect(()=>{v&&a&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(v,"domready",a)))},[a]),h.useEffect(()=>{v&&l&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(v,"content_changed",l)))},[l]),h.useEffect(()=>{v&&c&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(v,"position_changed",c)))},[c]),h.useEffect(()=>{v&&f&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(v,"zindex_changed",f)))},[f]),h.useEffect(()=>{var M=new google.maps.InfoWindow(r);return y(M),R.current=document.createElement("div"),o&&E(google.maps.event.addListener(M,"closeclick",o)),a&&b(google.maps.event.addListener(M,"domready",a)),l&&k(google.maps.event.addListener(M,"content_changed",l)),c&&T(google.maps.event.addListener(M,"position_changed",c)),f&&P(google.maps.event.addListener(M,"zindex_changed",f)),M.setContent(R.current),s&&M.setPosition(s),i&&M.setZIndex(i),n?M.open(g,n):M.getPosition()?M.open(g):At(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(M),()=>{x&&google.maps.event.removeListener(x),I&&google.maps.event.removeListener(I),_&&google.maps.event.removeListener(_),L&&google.maps.event.removeListener(L),S&&google.maps.event.removeListener(S),p&&p(M),M.close()}},[]),R.current?Gn.createPortal(h.Children.only(e),R.current):null}h.memo(KG);class GG extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",null),z(this,"state",{infoWindow:null}),z(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):At(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),z(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ke({updaterMap:V1,eventMap:j1,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:V1,eventMap:j1,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Re(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Gn.createPortal(h.Children.only(this.props.children),this.containerElement):null}}z(GG,"contextType",Te);function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var U1={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},B1={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},QG={};function YG(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:f,onMouseOut:m,onMouseOver:p,onMouseUp:g,onRightClick:v,onClick:y,onDrag:x,onLoad:E,onUnmount:_}=t,b=h.useContext(Te),[I,k]=h.useState(null),[L,T]=h.useState(null),[S,P]=h.useState(null),[R,M]=h.useState(null),[O,A]=h.useState(null),[F,X]=h.useState(null),[q,$]=h.useState(null),[D,j]=h.useState(null),[W,H]=h.useState(null),[Z,Y]=h.useState(null),[ue,U]=h.useState(null),[le,ee]=h.useState(null);return h.useEffect(()=>{I!==null&&I.setMap(b)},[b]),h.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),h.useEffect(()=>{typeof n<"u"&&I!==null&&I.setDraggable(n)},[I,n]),h.useEffect(()=>{typeof r<"u"&&I!==null&&I.setEditable(r)},[I,r]),h.useEffect(()=>{typeof s<"u"&&I!==null&&I.setVisible(s)},[I,s]),h.useEffect(()=>{typeof i<"u"&&I!==null&&I.setPath(i)},[I,i]),h.useEffect(()=>{I&&o&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(I,"dblclick",o)))},[o]),h.useEffect(()=>{I&&a&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(I,"dragend",a)))},[a]),h.useEffect(()=>{I&&l&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(I,"dragstart",l)))},[l]),h.useEffect(()=>{I&&c&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(I,"mousedown",c)))},[c]),h.useEffect(()=>{I&&f&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(I,"mousemove",f)))},[f]),h.useEffect(()=>{I&&m&&(q!==null&&google.maps.event.removeListener(q),$(google.maps.event.addListener(I,"mouseout",m)))},[m]),h.useEffect(()=>{I&&p&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(I,"mouseover",p)))},[p]),h.useEffect(()=>{I&&g&&(W!==null&&google.maps.event.removeListener(W),H(google.maps.event.addListener(I,"mouseup",g)))},[g]),h.useEffect(()=>{I&&v&&(Z!==null&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(I,"rightclick",v)))},[v]),h.useEffect(()=>{I&&y&&(ue!==null&&google.maps.event.removeListener(ue),U(google.maps.event.addListener(I,"click",y)))},[y]),h.useEffect(()=>{I&&x&&(le!==null&&google.maps.event.removeListener(le),ee(google.maps.event.addListener(I,"drag",x)))},[x]),h.useEffect(()=>{var ie=new google.maps.Polyline(Gf(Gf({},e||QG),{},{map:b}));return i&&ie.setPath(i),typeof s<"u"&&ie.setVisible(s),typeof r<"u"&&ie.setEditable(r),typeof n<"u"&&ie.setDraggable(n),o&&T(google.maps.event.addListener(ie,"dblclick",o)),a&&P(google.maps.event.addListener(ie,"dragend",a)),l&&M(google.maps.event.addListener(ie,"dragstart",l)),c&&A(google.maps.event.addListener(ie,"mousedown",c)),f&&X(google.maps.event.addListener(ie,"mousemove",f)),m&&$(google.maps.event.addListener(ie,"mouseout",m)),p&&j(google.maps.event.addListener(ie,"mouseover",p)),g&&H(google.maps.event.addListener(ie,"mouseup",g)),v&&Y(google.maps.event.addListener(ie,"rightclick",v)),y&&U(google.maps.event.addListener(ie,"click",y)),x&&ee(google.maps.event.addListener(ie,"drag",x)),k(ie),E&&E(ie),()=>{L!==null&&google.maps.event.removeListener(L),S!==null&&google.maps.event.removeListener(S),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),q!==null&&google.maps.event.removeListener(q),D!==null&&google.maps.event.removeListener(D),W!==null&&google.maps.event.removeListener(W),Z!==null&&google.maps.event.removeListener(Z),ue!==null&&google.maps.event.removeListener(ue),_&&_(ie),ie.setMap(null)}},[]),null}h.memo(YG);class XG extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{polyline:null}),z(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Gf(Gf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:B1,eventMap:U1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:B1,eventMap:U1,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Re(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}z(XG,"contextType",Te);function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W1={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},H1={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function ZG(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:f,onMouseMove:m,onMouseOut:p,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:x,onDrag:E,onLoad:_,onUnmount:b,onEdit:I}=t,k=h.useContext(Te),[L,T]=h.useState(null),[S,P]=h.useState(null),[R,M]=h.useState(null),[O,A]=h.useState(null),[F,X]=h.useState(null),[q,$]=h.useState(null),[D,j]=h.useState(null),[W,H]=h.useState(null),[Z,Y]=h.useState(null),[ue,U]=h.useState(null),[le,ee]=h.useState(null),[ie,he]=h.useState(null);return h.useEffect(()=>{L!==null&&L.setMap(k)},[k]),h.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),h.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),h.useEffect(()=>{typeof r<"u"&&L!==null&&L.setEditable(r)},[L,r]),h.useEffect(()=>{typeof s<"u"&&L!==null&&L.setVisible(s)},[L,s]),h.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPath(i)},[L,i]),h.useEffect(()=>{typeof o<"u"&&L!==null&&L.setPaths(o)},[L,o]),h.useEffect(()=>{L&&typeof a=="function"&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(L,"dblclick",a)))},[a]),h.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{I==null||I(L)}))},[L,I]),h.useEffect(()=>{L&&typeof l=="function"&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(L,"dragend",l)))},[l]),h.useEffect(()=>{L&&typeof c=="function"&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(L,"dragstart",c)))},[c]),h.useEffect(()=>{L&&typeof f=="function"&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(L,"mousedown",f)))},[f]),h.useEffect(()=>{L&&typeof m=="function"&&(q!==null&&google.maps.event.removeListener(q),$(google.maps.event.addListener(L,"mousemove",m)))},[m]),h.useEffect(()=>{L&&typeof p=="function"&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(L,"mouseout",p)))},[p]),h.useEffect(()=>{L&&typeof g=="function"&&(W!==null&&google.maps.event.removeListener(W),H(google.maps.event.addListener(L,"mouseover",g)))},[g]),h.useEffect(()=>{L&&typeof v=="function"&&(Z!==null&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(L,"mouseup",v)))},[v]),h.useEffect(()=>{L&&typeof y=="function"&&(ue!==null&&google.maps.event.removeListener(ue),U(google.maps.event.addListener(L,"rightclick",y)))},[y]),h.useEffect(()=>{L&&typeof x=="function"&&(le!==null&&google.maps.event.removeListener(le),ee(google.maps.event.addListener(L,"click",x)))},[x]),h.useEffect(()=>{L&&typeof E=="function"&&(ie!==null&&google.maps.event.removeListener(ie),he(google.maps.event.addListener(L,"drag",E)))},[E]),h.useEffect(()=>{var te=new google.maps.Polygon(z1(z1({},e),{},{map:k}));return i&&te.setPath(i),o&&te.setPaths(o),typeof s<"u"&&te.setVisible(s),typeof r<"u"&&te.setEditable(r),typeof n<"u"&&te.setDraggable(n),a&&P(google.maps.event.addListener(te,"dblclick",a)),l&&M(google.maps.event.addListener(te,"dragend",l)),c&&A(google.maps.event.addListener(te,"dragstart",c)),f&&X(google.maps.event.addListener(te,"mousedown",f)),m&&$(google.maps.event.addListener(te,"mousemove",m)),p&&j(google.maps.event.addListener(te,"mouseout",p)),g&&H(google.maps.event.addListener(te,"mouseover",g)),v&&Y(google.maps.event.addListener(te,"mouseup",v)),y&&U(google.maps.event.addListener(te,"rightclick",y)),x&&ee(google.maps.event.addListener(te,"click",x)),E&&he(google.maps.event.addListener(te,"drag",E)),T(te),_&&_(te),()=>{S!==null&&google.maps.event.removeListener(S),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),q!==null&&google.maps.event.removeListener(q),D!==null&&google.maps.event.removeListener(D),W!==null&&google.maps.event.removeListener(W),Z!==null&&google.maps.event.removeListener(Z),ue!==null&&google.maps.event.removeListener(ue),le!==null&&google.maps.event.removeListener(le),b&&b(te),te.setMap(null)}},[]),null}h.memo(ZG);class JG extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ke({updaterMap:H1,eventMap:W1,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:H1,eventMap:W1,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Re(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}z(JG,"contextType",Te);function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var K1={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},G1={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function eQ(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:f,onMouseOut:m,onMouseOver:p,onMouseUp:g,onRightClick:v,onClick:y,onDrag:x,onBoundsChanged:E,onLoad:_,onUnmount:b}=t,I=h.useContext(Te),[k,L]=h.useState(null),[T,S]=h.useState(null),[P,R]=h.useState(null),[M,O]=h.useState(null),[A,F]=h.useState(null),[X,q]=h.useState(null),[$,D]=h.useState(null),[j,W]=h.useState(null),[H,Z]=h.useState(null),[Y,ue]=h.useState(null),[U,le]=h.useState(null),[ee,ie]=h.useState(null),[he,te]=h.useState(null);return h.useEffect(()=>{k!==null&&k.setMap(I)},[I]),h.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),h.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),h.useEffect(()=>{typeof s<"u"&&k!==null&&k.setEditable(s)},[k,s]),h.useEffect(()=>{typeof i<"u"&&k!==null&&k.setVisible(i)},[k,i]),h.useEffect(()=>{typeof n<"u"&&k!==null&&k.setBounds(n)},[k,n]),h.useEffect(()=>{k&&o&&(T!==null&&google.maps.event.removeListener(T),S(google.maps.event.addListener(k,"dblclick",o)))},[o]),h.useEffect(()=>{k&&a&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(k,"dragend",a)))},[a]),h.useEffect(()=>{k&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(k,"dragstart",l)))},[l]),h.useEffect(()=>{k&&c&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(k,"mousedown",c)))},[c]),h.useEffect(()=>{k&&f&&(X!==null&&google.maps.event.removeListener(X),q(google.maps.event.addListener(k,"mousemove",f)))},[f]),h.useEffect(()=>{k&&m&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(k,"mouseout",m)))},[m]),h.useEffect(()=>{k&&p&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(k,"mouseover",p)))},[p]),h.useEffect(()=>{k&&g&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(k,"mouseup",g)))},[g]),h.useEffect(()=>{k&&v&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(k,"rightclick",v)))},[v]),h.useEffect(()=>{k&&y&&(U!==null&&google.maps.event.removeListener(U),le(google.maps.event.addListener(k,"click",y)))},[y]),h.useEffect(()=>{k&&x&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(k,"drag",x)))},[x]),h.useEffect(()=>{k&&E&&(he!==null&&google.maps.event.removeListener(he),te(google.maps.event.addListener(k,"bounds_changed",E)))},[E]),h.useEffect(()=>{var oe=new google.maps.Rectangle(Qf(Qf({},e),{},{map:I}));return typeof i<"u"&&oe.setVisible(i),typeof s<"u"&&oe.setEditable(s),typeof r<"u"&&oe.setDraggable(r),typeof n<"u"&&oe.setBounds(n),o&&S(google.maps.event.addListener(oe,"dblclick",o)),a&&R(google.maps.event.addListener(oe,"dragend",a)),l&&O(google.maps.event.addListener(oe,"dragstart",l)),c&&F(google.maps.event.addListener(oe,"mousedown",c)),f&&q(google.maps.event.addListener(oe,"mousemove",f)),m&&D(google.maps.event.addListener(oe,"mouseout",m)),p&&W(google.maps.event.addListener(oe,"mouseover",p)),g&&Z(google.maps.event.addListener(oe,"mouseup",g)),v&&ue(google.maps.event.addListener(oe,"rightclick",v)),y&&le(google.maps.event.addListener(oe,"click",y)),x&&ie(google.maps.event.addListener(oe,"drag",x)),E&&te(google.maps.event.addListener(oe,"bounds_changed",E)),L(oe),_&&_(oe),()=>{T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),X!==null&&google.maps.event.removeListener(X),$!==null&&google.maps.event.removeListener($),j!==null&&google.maps.event.removeListener(j),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),he!==null&&google.maps.event.removeListener(he),b&&b(oe),oe.setMap(null)}},[]),null}h.memo(eQ);class tQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{rectangle:null}),z(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Qf(Qf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:G1,eventMap:K1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:G1,eventMap:K1,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Re(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}z(tQ,"contextType",Te);function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Y1={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},X1={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},nQ={};function rQ(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:f,onMouseMove:m,onMouseOut:p,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:x,onDrag:E,onCenterChanged:_,onRadiusChanged:b,onLoad:I,onUnmount:k}=t,L=h.useContext(Te),[T,S]=h.useState(null),[P,R]=h.useState(null),[M,O]=h.useState(null),[A,F]=h.useState(null),[X,q]=h.useState(null),[$,D]=h.useState(null),[j,W]=h.useState(null),[H,Z]=h.useState(null),[Y,ue]=h.useState(null),[U,le]=h.useState(null),[ee,ie]=h.useState(null),[he,te]=h.useState(null),[oe,ve]=h.useState(null),[Ke,at]=h.useState(null);return h.useEffect(()=>{T!==null&&T.setMap(L)},[L]),h.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),h.useEffect(()=>{typeof s<"u"&&T!==null&&T.setDraggable(s)},[T,s]),h.useEffect(()=>{typeof i<"u"&&T!==null&&T.setEditable(i)},[T,i]),h.useEffect(()=>{typeof o<"u"&&T!==null&&T.setVisible(o)},[T,o]),h.useEffect(()=>{typeof r=="number"&&T!==null&&T.setRadius(r)},[T,r]),h.useEffect(()=>{typeof n<"u"&&T!==null&&T.setCenter(n)},[T,n]),h.useEffect(()=>{T&&a&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(T,"dblclick",a)))},[a]),h.useEffect(()=>{T&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(T,"dragend",l)))},[l]),h.useEffect(()=>{T&&c&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(T,"dragstart",c)))},[c]),h.useEffect(()=>{T&&f&&(X!==null&&google.maps.event.removeListener(X),q(google.maps.event.addListener(T,"mousedown",f)))},[f]),h.useEffect(()=>{T&&m&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(T,"mousemove",m)))},[m]),h.useEffect(()=>{T&&p&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(T,"mouseout",p)))},[p]),h.useEffect(()=>{T&&g&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(T,"mouseover",g)))},[g]),h.useEffect(()=>{T&&v&&(Y!==null&&google.maps.event.removeListener(Y),ue(google.maps.event.addListener(T,"mouseup",v)))},[v]),h.useEffect(()=>{T&&y&&(U!==null&&google.maps.event.removeListener(U),le(google.maps.event.addListener(T,"rightclick",y)))},[y]),h.useEffect(()=>{T&&x&&(ee!==null&&google.maps.event.removeListener(ee),ie(google.maps.event.addListener(T,"click",x)))},[x]),h.useEffect(()=>{T&&E&&(he!==null&&google.maps.event.removeListener(he),te(google.maps.event.addListener(T,"drag",E)))},[E]),h.useEffect(()=>{T&&_&&(oe!==null&&google.maps.event.removeListener(oe),ve(google.maps.event.addListener(T,"center_changed",_)))},[x]),h.useEffect(()=>{T&&b&&(Ke!==null&&google.maps.event.removeListener(Ke),at(google.maps.event.addListener(T,"radius_changed",b)))},[b]),h.useEffect(()=>{var Ce=new google.maps.Circle(Yf(Yf({},e||nQ),{},{map:L}));return typeof r=="number"&&Ce.setRadius(r),typeof n<"u"&&Ce.setCenter(n),typeof r=="number"&&Ce.setRadius(r),typeof o<"u"&&Ce.setVisible(o),typeof i<"u"&&Ce.setEditable(i),typeof s<"u"&&Ce.setDraggable(s),a&&R(google.maps.event.addListener(Ce,"dblclick",a)),l&&O(google.maps.event.addListener(Ce,"dragend",l)),c&&F(google.maps.event.addListener(Ce,"dragstart",c)),f&&q(google.maps.event.addListener(Ce,"mousedown",f)),m&&D(google.maps.event.addListener(Ce,"mousemove",m)),p&&W(google.maps.event.addListener(Ce,"mouseout",p)),g&&Z(google.maps.event.addListener(Ce,"mouseover",g)),v&&ue(google.maps.event.addListener(Ce,"mouseup",v)),y&&le(google.maps.event.addListener(Ce,"rightclick",y)),x&&ie(google.maps.event.addListener(Ce,"click",x)),E&&te(google.maps.event.addListener(Ce,"drag",E)),_&&ve(google.maps.event.addListener(Ce,"center_changed",_)),b&&at(google.maps.event.addListener(Ce,"radius_changed",b)),S(Ce),I&&I(Ce),()=>{P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),X!==null&&google.maps.event.removeListener(X),$!==null&&google.maps.event.removeListener($),j!==null&&google.maps.event.removeListener(j),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),Ke!==null&&google.maps.event.removeListener(Ke),k&&k(Ce),Ce.setMap(null)}},[]),null}h.memo(rQ);class sQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{circle:null}),z(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Yf(Yf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:X1,eventMap:Y1,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:X1,eventMap:Y1,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Re(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}z(sQ,"contextType",Te);function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var J1={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},eS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function iQ(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:c,onAddFeature:f,onRemoveFeature:m,onRemoveProperty:p,onSetGeometry:g,onSetProperty:v,onLoad:y,onUnmount:x}=t,E=h.useContext(Te),[_,b]=h.useState(null),[I,k]=h.useState(null),[L,T]=h.useState(null),[S,P]=h.useState(null),[R,M]=h.useState(null),[O,A]=h.useState(null),[F,X]=h.useState(null),[q,$]=h.useState(null),[D,j]=h.useState(null),[W,H]=h.useState(null),[Z,Y]=h.useState(null),[ue,U]=h.useState(null),[le,ee]=h.useState(null),[ie,he]=h.useState(null);return h.useEffect(()=>{_!==null&&_.setMap(E)},[E]),h.useEffect(()=>{_&&r&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(_,"dblclick",r)))},[r]),h.useEffect(()=>{_&&s&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(_,"mousedown",s)))},[s]),h.useEffect(()=>{_&&i&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(_,"mousemove",i)))},[i]),h.useEffect(()=>{_&&o&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(_,"mouseout",o)))},[o]),h.useEffect(()=>{_&&a&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(_,"mouseover",a)))},[a]),h.useEffect(()=>{_&&l&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(_,"mouseup",l)))},[l]),h.useEffect(()=>{_&&c&&(q!==null&&google.maps.event.removeListener(q),$(google.maps.event.addListener(_,"rightclick",c)))},[c]),h.useEffect(()=>{_&&n&&(D!==null&&google.maps.event.removeListener(D),j(google.maps.event.addListener(_,"click",n)))},[n]),h.useEffect(()=>{_&&f&&(W!==null&&google.maps.event.removeListener(W),H(google.maps.event.addListener(_,"addfeature",f)))},[f]),h.useEffect(()=>{_&&m&&(Z!==null&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(_,"removefeature",m)))},[m]),h.useEffect(()=>{_&&p&&(ue!==null&&google.maps.event.removeListener(ue),U(google.maps.event.addListener(_,"removeproperty",p)))},[p]),h.useEffect(()=>{_&&g&&(le!==null&&google.maps.event.removeListener(le),ee(google.maps.event.addListener(_,"setgeometry",g)))},[g]),h.useEffect(()=>{_&&v&&(ie!==null&&google.maps.event.removeListener(ie),he(google.maps.event.addListener(_,"setproperty",v)))},[v]),h.useEffect(()=>{if(E!==null){var te=new google.maps.Data(Xf(Xf({},e),{},{map:E}));r&&k(google.maps.event.addListener(te,"dblclick",r)),s&&T(google.maps.event.addListener(te,"mousedown",s)),i&&P(google.maps.event.addListener(te,"mousemove",i)),o&&M(google.maps.event.addListener(te,"mouseout",o)),a&&A(google.maps.event.addListener(te,"mouseover",a)),l&&X(google.maps.event.addListener(te,"mouseup",l)),c&&$(google.maps.event.addListener(te,"rightclick",c)),n&&j(google.maps.event.addListener(te,"click",n)),f&&H(google.maps.event.addListener(te,"addfeature",f)),m&&Y(google.maps.event.addListener(te,"removefeature",m)),p&&U(google.maps.event.addListener(te,"removeproperty",p)),g&&ee(google.maps.event.addListener(te,"setgeometry",g)),v&&he(google.maps.event.addListener(te,"setproperty",v)),b(te),y&&y(te)}return()=>{_&&(I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),S!==null&&google.maps.event.removeListener(S),R!==null&&google.maps.event.removeListener(R),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),q!==null&&google.maps.event.removeListener(q),D!==null&&google.maps.event.removeListener(D),W!==null&&google.maps.event.removeListener(W),Z!==null&&google.maps.event.removeListener(Z),ue!==null&&google.maps.event.removeListener(ue),le!==null&&google.maps.event.removeListener(le),ie!==null&&google.maps.event.removeListener(ie),x&&x(_),_.setMap(null))}},[]),null}h.memo(iQ);class oQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{data:null}),z(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Xf(Xf({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:eS,eventMap:J1,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:eS,eventMap:J1,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Re(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}z(oQ,"contextType",Te);function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},sS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class aQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{kmlLayer:null}),z(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(nS(nS({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:sS,eventMap:rS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:sS,eventMap:rS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Re(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}z(aQ,"contextType",Te);function rL(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function lQ(t,e){return new e(t.lat,t.lng)}function cQ(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function uQ(t,e,n){return t instanceof e?t:n(t,e)}function dQ(t,e,n){return t instanceof e?t:n(t,e)}function hQ(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function fQ(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function sL(t,e,n,r){return n!==void 0?hQ(t,e,dQ(n,google.maps.LatLngBounds,cQ)):fQ(t,e,uQ(r,google.maps.LatLng,lQ))}function pQ(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(a,l,c,f){super(),this.container=a,this.pane=l,this.position=c,this.bounds=f}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=mQ({},this.container?rL(this.container,s):{x:0,y:0}),c=sL(a,l,this.bounds,this.position);for(var[f,m]of Object.entries(c))this.container.style[f]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aS(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function lS(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function yQ(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:o,getPixelPositionOffset:a,children:l}=t,c=h.useContext(Te),f=h.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),m=h.useMemo(()=>gQ(f,r,e,n,a),[f,r,e,n]);return h.useEffect(()=>(i==null||i(m),m==null||m.setMap(c),()=>{o==null||o(m),m==null||m.setMap(null)}),[c,m]),h.useEffect(()=>{f.style.zIndex="".concat(s)},[s,f]),Gn.createPortal(l,f)}h.memo(yQ);class Ql extends h.PureComponent{constructor(e){super(e),z(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),z(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();At(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),z(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),z(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=vQ({x:0,y:0},this.containerRef.current?rL(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=sL(r,s,this.props.bounds,this.props.position);if(!pQ(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,c;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(a=i.left)!==null&&a!==void 0?a:0,width:(l=i.width)!==null&&l!==void 0?l:0,height:(c=i.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),z(this,"draw",()=>{this.onPositionElement()}),z(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=h.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=aS(e.position),r=aS(this.props.position),s=lS(e.bounds),i=lS(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Gn.createPortal(d.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),e):null}}z(Ql,"FLOAT_PANE","floatPane");z(Ql,"MAP_PANE","mapPane");z(Ql,"MARKER_LAYER","markerLayer");z(Ql,"OVERLAY_LAYER","overlayLayer");z(Ql,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");z(Ql,"contextType",Te);function wQ(){}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dS={onDblClick:"dblclick",onClick:"click"},hS={opacity(t,e){t.setOpacity(e)}};function _Q(t){var{url:e,bounds:n,options:r,visible:s}=t,i=h.useContext(Te),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=h.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return h.useEffect(()=>{a!==null&&a.setMap(i)},[i]),h.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(i))},[a,e]),h.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),h.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(i))},[a,n]),null}h.memo(_Q);class iL extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{groundOverlay:null}),z(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){At(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,uS(uS({},this.props.options),{},{map:this.context}));this.registeredEvents=ke({updaterMap:hS,eventMap:dS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:hS,eventMap:dS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}z(iL,"defaultProps",{onLoad:wQ});z(iL,"contextType",Te);function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pS={},mS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function xQ(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=h.useContext(Te),[o,a]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||At(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{At(!!e,"data property is required in HeatmapLayer %s",e)},[e]),h.useEffect(()=>{o!==null&&o.setMap(i)},[i]),h.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),h.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(Zf(Zf({},s),{},{data:e,map:i}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}h.memo(xQ);class EQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{heatmapLayer:null}),z(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){At(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),At(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Zf(Zf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ke({updaterMap:mS,eventMap:pS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:mS,eventMap:pS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Re(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}z(EQ,"contextType",Te);var gS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},vS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class bQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{streetViewPanorama:null}),z(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ke({updaterMap:vS,eventMap:gS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:vS,eventMap:gS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Re(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}z(bQ,"contextType",Te);class CQ extends h.PureComponent{constructor(){super(...arguments),z(this,"state",{streetViewService:null}),z(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}z(CQ,"contextType",Te);var yS={onDirectionsChanged:"directions_changed"},wS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class SQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{directionsRenderer:null}),z(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ke({updaterMap:wS,eventMap:yS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:wS,eventMap:yS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Re(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}z(SQ,"contextType",Te);var _S={onPlacesChanged:"places_changed"},xS={bounds(t,e){t.setBounds(e)}};class TQ extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",h.createRef()),z(this,"state",{searchBox:null}),z(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(At(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ke({updaterMap:xS,eventMap:_S,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:xS,eventMap:_S,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Re(this.registeredEvents))}render(){return d.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})}}z(TQ,"contextType",Te);var ES={onPlaceChanged:"place_changed"},bS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class oL extends h.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",h.createRef()),z(this,"state",{autocomplete:null}),z(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;At(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ke({updaterMap:bS,eventMap:ES,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Re(this.registeredEvents),this.registeredEvents=ke({updaterMap:bS,eventMap:ES,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Re(this.registeredEvents)}render(){return d.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})}}z(oL,"defaultProps",{className:""});z(oL,"contextType",Te);const PQ={width:"100%",height:"100%"},IQ=()=>{const{toast:t}=no(),[e,n]=h.useState(null),[r,s]=h.useState(null),[i,o]=h.useState([]),{isLoaded:a}=nG({googleMapsApiKey:"AIzaSyDf9VYZUCeKbo8e-VDOAhKDnt5VyJphNCg",libraries:["places"]});return h.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(l=>{const c={lat:l.coords.latitude,lng:l.coords.longitude};n(c),t({title:"Ubicación obtenida",description:"Mostrando veterinarios cerca de ti"})},()=>{s("No se pudo acceder a tu ubicación."),t({title:"Error de ubicación",description:"No se pudo acceder a tu ubicación.",variant:"destructive"})})},[]),h.useEffect(()=>{if(!e||!a)return;const l=new window.google.maps.Map(document.createElement("div")),c=new window.google.maps.places.PlacesService(l),f={location:e,radius:5e3,keyword:"veterinaria"};c.nearbySearch(f,(m,p)=>{p===google.maps.places.PlacesServiceStatus.OK&&m&&o(m)})},[e,a]),d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("main",{className:"flex-grow container py-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Veterinarios cerca de ti"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 bg-secondary rounded-lg mb-4",children:d.jsx("p",{className:"text-muted-foreground",children:r||"Mostrando veterinarios cerca de tu ubicación actual."})}),i.map((l,c)=>d.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md",children:[d.jsx("h3",{className:"font-medium text-lg",children:l.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:l.vicinity}),d.jsx("div",{className:"mt-2",children:d.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(l.name??"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-sm hover:underline",children:"Ver en Google Maps"})})]},c))]}),d.jsx("div",{className:"lg:col-span-2 h-[600px] bg-secondary/50 rounded-lg",children:a&&e?d.jsxs(WK,{mapContainerStyle:PQ,center:e,zoom:14,children:[d.jsx(Ry,{position:e}),i.map((l,c)=>{var f;return(f=l.geometry)!=null&&f.location?d.jsx(Ry,{position:{lat:l.geometry.location.lat(),lng:l.geometry.location.lng()}},c):null})]}):d.jsx("div",{className:"text-center p-6",children:"Cargando mapa..."})})]})]}),d.jsx(es,{})]})};var g_="Tabs",[kQ,Aee]=Os(g_,[Vp]),aL=Vp(),[RQ,v_]=kQ(g_),lL=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=Op(a),[m,p]=Ps({prop:r,onChange:s,defaultProp:i});return d.jsx(RQ,{scope:n,baseId:xr(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:l,children:d.jsx(me.div,{dir:f,"data-orientation":o,...c,ref:e})})});lL.displayName=g_;var cL="TabsList",uL=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=v_(cL,n),o=aL(n);return d.jsx(qk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});uL.displayName=cL;var dL="TabsTrigger",hL=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=v_(dL,n),a=aL(n),l=mL(o.baseId,r),c=gL(o.baseId,r),f=r===o.value;return d.jsx(Kk,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(me.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ne(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:ne(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:ne(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(r)})})})});hL.displayName=dL;var fL="TabsContent",pL=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=v_(fL,n),l=mL(a.baseId,r),c=gL(a.baseId,r),f=r===a.value,m=h.useRef(f);return h.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Tn,{present:s||f,children:({present:p})=>d.jsx(me.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});pL.displayName=fL;function mL(t,e){return`${t}-trigger-${e}`}function gL(t,e){return`${t}-content-${e}`}var AQ=lL,vL=uL,yL=hL,wL=pL;const _L=AQ,y_=h.forwardRef(({className:t,...e},n)=>d.jsx(vL,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));y_.displayName=vL.displayName;const Mu=h.forwardRef(({className:t,...e},n)=>d.jsx(yL,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mu.displayName=yL.displayName;const Lu=h.forwardRef(({className:t,...e},n)=>d.jsx(wL,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Lu.displayName=wL.displayName;const NQ=()=>{const{id:t}=Ok(),[e,n]=h.useState(null),[r,s]=h.useState(!0),[i,o]=h.useState(!1);h.useState(!1);const a=io();return h.useEffect(()=>{(async()=>{if(!t)return;const c=mM(ud,"vets",t),f=await oq(c);f.exists()?n(f.data()):n(null),s(!1)})()},[t]),r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando perfil..."})}):e?d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("div",{className:"relative h-48 md:h-64 lg:h-80 overflow-hidden",children:[d.jsx("img",{src:e.coverImage,alt:"Portada",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 to-transparent"})]}),d.jsx("main",{className:"container py-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:order-1 order-2",children:d.jsxs("div",{className:"sticky top-20 space-y-6",children:[d.jsx("div",{className:"bg-card rounded-lg overflow-hidden border shadow-sm",children:d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:"relative -mt-20 mb-4",children:d.jsx("img",{src:e.image,alt:e.fullName,className:"w-32 h-32 rounded-full border-4 border-background object-cover"})}),d.jsx("h2",{className:"text-2xl font-bold",children:e.fullName}),d.jsx($o,{className:"mt-2 bg-primary text-white",children:e.specialty[0]})]}),d.jsx("hr",{className:"border-border"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx(Fi,{className:"h-5 w-5 text-primary mr-3 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:e.city}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.address})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Uw,{className:"h-5 w-5 text-primary mr-3"}),d.jsx("span",{children:e.phone})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Hu,{className:"h-5 w-5 text-primary mr-3"}),d.jsx("span",{children:e.email})]})]}),d.jsx(ze,{className:"w-full",onClick:()=>a(`/appointment/${t}`),children:"Solicitar cita"})]})}),d.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border shadow-sm p-6 space-y-4",children:[d.jsxs("h3",{className:"font-bold flex items-center",children:[d.jsx(Uo,{className:"h-5 w-5 mr-2"})," Horario de consulta"]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Lunes - Viernes"}),d.jsx("span",{children:"9:00 - 20:00"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Sábado"}),d.jsx("span",{children:"10:00 - 15:00"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Domingo"}),d.jsx("span",{children:"Cerrado"})]})]})]})]})}),d.jsx("div",{className:"lg:col-span-2 lg:order-2 order-1",children:d.jsxs(_L,{defaultValue:"about",children:[d.jsxs(y_,{className:"grid grid-cols-2 mb-8",children:[d.jsx(Mu,{value:"about",children:"Sobre mí"}),d.jsx(Mu,{value:"experience",children:"Experiencia"})]}),d.jsx(Lu,{value:"about",className:"space-y-8",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Biografía"}),d.jsxs("div",{className:`relative ${!i&&"max-h-32 overflow-hidden"}`,children:[d.jsx("p",{className:"text-muted-foreground",children:e.experience}),!i&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-background to-transparent"})]}),d.jsx(ze,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>o(!i),children:i?d.jsxs(d.Fragment,{children:["Ver menos ",d.jsx(OI,{className:"h-4 w-4 ml-1"})]}):d.jsxs(d.Fragment,{children:["Ver más ",d.jsx(bp,{className:"h-4 w-4 ml-1"})]})})]})}),d.jsxs(Lu,{value:"experience",children:[d.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Especialidades"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.specialty.map((l,c)=>d.jsx($o,{variant:"outline",children:l},c))})]})]})})]})}),d.jsx(es,{})]}):d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("div",{className:"container py-20 text-center",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Perfil no encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-8",children:"Lo sentimos, el perfil de veterinario que buscas no está disponible."}),d.jsx(ze,{asChild:!0,children:d.jsx("a",{href:"/search",children:"Buscar otros veterinarios"})})]}),d.jsx(es,{})]})};function xL(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w_="Checkbox",[MQ,Nee]=Os(w_),[LQ,OQ]=MQ(w_),EL=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...m}=t,[p,g]=h.useState(null),v=Oe(e,I=>g(I)),y=h.useRef(!1),x=p?f||!!p.closest("form"):!0,[E=!1,_]=Ps({prop:s,defaultProp:i,onChange:c}),b=h.useRef(E);return h.useEffect(()=>{const I=p==null?void 0:p.form;if(I){const k=()=>_(b.current);return I.addEventListener("reset",k),()=>I.removeEventListener("reset",k)}},[p,_]),d.jsxs(LQ,{scope:n,state:E,disabled:a,children:[d.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Di(E)?"mixed":E,"aria-required":o,"data-state":SL(E),"data-disabled":a?"":void 0,disabled:a,value:l,...m,ref:v,onKeyDown:ne(t.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:ne(t.onClick,I=>{_(k=>Di(k)?!0:!k),x&&(y.current=I.isPropagationStopped(),y.current||I.stopPropagation())})}),x&&d.jsx(DQ,{control:p,bubbles:!y.current,name:r,value:l,checked:E,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Di(i)?!1:i})]})});EL.displayName=w_;var bL="CheckboxIndicator",CL=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=OQ(bL,n);return d.jsx(Tn,{present:r||Di(i.state)||i.state===!0,children:d.jsx(me.span,{"data-state":SL(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});CL.displayName=bL;var DQ=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=h.useRef(null),a=xL(n),l=sk(e);h.useEffect(()=>{const f=o.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});f.indeterminate=Di(n),g.call(f,Di(n)?!1:n),f.dispatchEvent(v)}},[a,n,r]);const c=h.useRef(Di(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Di(t){return t==="indeterminate"}function SL(t){return Di(t)?"indeterminate":t?"checked":"unchecked"}var TL=EL,jQ=CL;const Yo=h.forwardRef(({className:t,...e},n)=>d.jsx(TL,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(jQ,{className:pe("flex items-center justify-center text-current"),children:d.jsx(Vw,{className:"h-4 w-4"})})}));Yo.displayName=TL.displayName;var __="Dialog",[PL,Mee]=Os(__),[VQ,kr]=PL(__),IL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=h.useRef(null),l=h.useRef(null),[c=!1,f]=Ps({prop:r,defaultProp:s,onChange:i});return d.jsx(VQ,{scope:e,triggerRef:a,contentRef:l,contentId:xr(),titleId:xr(),descriptionId:xr(),open:c,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};IL.displayName=__;var kL="DialogTrigger",RL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(kL,n),i=Oe(e,s.triggerRef);return d.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b_(s.open),...r,ref:i,onClick:ne(t.onClick,s.onOpenToggle)})});RL.displayName=kL;var x_="DialogPortal",[FQ,AL]=PL(x_,{forceMount:void 0}),NL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=kr(x_,e);return d.jsx(FQ,{scope:e,forceMount:n,children:h.Children.map(r,o=>d.jsx(Tn,{present:n||i.open,children:d.jsx(jl,{asChild:!0,container:s,children:o})}))})};NL.displayName=x_;var Jf="DialogOverlay",ML=h.forwardRef((t,e)=>{const n=AL(Jf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(Jf,t.__scopeDialog);return i.modal?d.jsx(Tn,{present:r||i.open,children:d.jsx(UQ,{...s,ref:e})}):null});ML.displayName=Jf;var UQ=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(Jf,n);return d.jsx(Yu,{as:Ts,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(me.div,{"data-state":b_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xo="DialogContent",LL=h.forwardRef((t,e)=>{const n=AL(Xo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(Xo,t.__scopeDialog);return d.jsx(Tn,{present:r||i.open,children:i.modal?d.jsx(BQ,{...s,ref:e}):d.jsx($Q,{...s,ref:e})})});LL.displayName=Xo;var BQ=h.forwardRef((t,e)=>{const n=kr(Xo,t.__scopeDialog),r=h.useRef(null),s=Oe(e,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Fp(i)},[]),d.jsx(OL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault())})}),$Q=h.forwardRef((t,e)=>{const n=kr(Xo,t.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return d.jsx(OL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OL=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=kr(Xo,n),l=h.useRef(null),c=Oe(e,l);return Dp(),d.jsxs(d.Fragment,{children:[d.jsx(Gu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(na,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":b_(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(zQ,{titleId:a.titleId}),d.jsx(HQ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),E_="DialogTitle",DL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(E_,n);return d.jsx(me.h2,{id:s.titleId,...r,ref:e})});DL.displayName=E_;var jL="DialogDescription",VL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(jL,n);return d.jsx(me.p,{id:s.descriptionId,...r,ref:e})});VL.displayName=jL;var FL="DialogClose",UL=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(FL,n);return d.jsx(me.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});UL.displayName=FL;function b_(t){return t?"open":"closed"}var BL="DialogTitleWarning",[Lee,$L]=TV(BL,{contentName:Xo,titleName:E_,docsSlug:"dialog"}),zQ=({titleId:t})=>{const e=$L(BL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},WQ="DialogDescriptionWarning",HQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$L(WQ).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},qQ=IL,KQ=RL,GQ=NL,zL=ML,WL=LL,HL=DL,qL=VL,QQ=UL;const YQ=qQ,XQ=KQ,ZQ=GQ,KL=h.forwardRef(({className:t,...e},n)=>d.jsx(zL,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));KL.displayName=zL.displayName;const JQ=Wu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),GL=h.forwardRef(({side:t="right",className:e,children:n,...r},s)=>d.jsxs(ZQ,{children:[d.jsx(KL,{}),d.jsxs(WL,{ref:s,className:pe(JQ({side:t}),e),...r,children:[n,d.jsxs(QQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(Cp,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GL.displayName=WL.displayName;const QL=({className:t,...e})=>d.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});QL.displayName="SheetHeader";const YL=h.forwardRef(({className:t,...e},n)=>d.jsx(HL,{ref:n,className:pe("text-lg font-semibold text-foreground",t),...e}));YL.displayName=HL.displayName;const XL=h.forwardRef(({className:t,...e},n)=>d.jsx(qL,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));XL.displayName=qL.displayName;const eY=()=>{const t=io(),e=ra(),r=new URLSearchParams(e.search).get("query")||"",[s,i]=h.useState(r),[o,a]=h.useState({availableToday:!1,onlineConsultation:!1,acceptsInsurance:!1,emergencyService:!1}),[l,c]=h.useState([]),[f,m]=h.useState(!0);h.useEffect(()=>{(async()=>{try{const x=bM(am(ud,"doctors"),CM("status","==","approved")),_=(await i_(x)).docs.map(b=>({id:b.id,...b.data()}));c(_)}catch(x){console.error("Error fetching approved doctors:",x)}finally{m(!1)}})()},[]);const p=l.filter(y=>{var x,E;return!(s&&!((x=y.specialty)!=null&&x.join(" ").toLowerCase().includes(s.toLowerCase()))&&!y.fullName.toLowerCase().includes(s.toLowerCase())||o.availableToday&&!((E=y.availability)!=null&&E.includes("hoy")))}),g=y=>{i(y),t(`/search?query=${encodeURIComponent(y)}`,{replace:!0})},v=y=>{a({...o,[y]:!o[y]})};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("main",{className:"flex-grow container py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Buscar Veterinarios"}),d.jsx(qM,{onSearch:g,placeholder:"Buscar por especialidad, síntoma, veterinario..."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"hidden lg:block space-y-6",children:d.jsxs("div",{className:"bg-background border rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Filtros"}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:"available-today",checked:o.availableToday,onCheckedChange:()=>v("availableToday")}),d.jsx("label",{htmlFor:"available-today",className:"text-sm cursor-pointer",children:"Disponible hoy"})]})})]})}),d.jsx("div",{className:"lg:hidden mb-4",children:d.jsxs(YQ,{children:[d.jsx(XQ,{asChild:!0,children:d.jsxs(ze,{variant:"outline",className:"w-full flex justify-between",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(v4,{className:"h-4 w-4 mr-2"}),"Filtros"]}),d.jsx("span",{className:"bg-primary/10 text-primary text-xs rounded-full px-2 py-1",children:Object.values(o).filter(Boolean).length})]})}),d.jsxs(GL,{children:[d.jsxs(QL,{children:[d.jsx(YL,{children:"Filtros"}),d.jsx(XL,{children:"Refina tu búsqueda de veterinarios"})]}),d.jsx("div",{className:"space-y-4 mt-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:"available-today-mobile",checked:o.availableToday,onCheckedChange:()=>v("availableToday")}),d.jsx("label",{htmlFor:"available-today-mobile",className:"cursor-pointer",children:"Disponible hoy"})]})})]})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[s?d.jsxs("p",{className:"text-muted-foreground mb-4",children:[p.length,' resultados para "',s,'"']}):null,d.jsx("div",{className:"space-y-6",children:f?d.jsx("p",{children:"Cargando..."}):p.length>0?p.map(y=>d.jsx(HM,{...y},y.id)):d.jsxs("div",{className:"text-center py-12 border rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No se encontraron resultados"}),d.jsx("p",{className:"text-muted-foreground",children:"Intenta con otros términos de búsqueda o filtros"})]})})]})]})]}),d.jsx(es,{})]})};var tY="Label",ZL=h.forwardRef((t,e)=>d.jsx(me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ZL.displayName=tY;var JL=ZL;const nY=Wu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=h.forwardRef(({className:t,...e},n)=>d.jsx(JL,{ref:n,className:pe(nY(),t),...e}));Ot.displayName=JL.displayName;const rY=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[s,i]=h.useState(!1),[o,a]=h.useState(!1),[l,c]=h.useState(!1),{toast:f}=no(),m=async p=>{if(p.preventDefault(),!t.trim()||!n.trim()){f({title:"Campos requeridos",description:"Por favor completa todos los campos",variant:"destructive"});return}c(!0);try{await Rz(kl,t,n),f({title:"Inicio de sesión exitoso",description:"Bienvenido de nuevo"}),window.location.href="/"}catch(g){let v="Ocurrió un error. Inténtalo de nuevo.";switch(g.code){case"auth/wrong-password":v="La contraseña es incorrecta.";break;case"auth/user-not-found":v="No existe una cuenta con este correo.";break;case"auth/invalid-email":v="El correo ingresado no es válido.";break;case"auth/too-many-requests":v="Demasiados intentos fallidos. Intenta más tarde.";break}f({title:"Error de inicio de sesión",description:v,variant:"destructive"})}finally{c(!1)}};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsx("main",{className:"flex-grow py-16",children:d.jsxs("div",{className:"container max-w-md mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Iniciar Sesión"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Accede a tu cuenta para gestionar tus citas"})]}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"email",children:"Correo electrónico"}),d.jsxs("div",{className:"relative",children:[d.jsx(Hu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"email",type:"email",placeholder:"tu@correo.com",className:"pl-10",value:t,onChange:p=>e(p.target.value),disabled:l,required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"password",children:"Contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"password",type:s?"text":"password",placeholder:"••••••••",className:"pl-10",value:n,onChange:p=>r(p.target.value),disabled:l,required:!0}),d.jsx(ze,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),children:s?d.jsx(DI,{className:"h-4 w-4"}):d.jsx(jI,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:"remember",checked:o,onCheckedChange:p=>a(p)}),d.jsx(Ot,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Recordarme"})]}),d.jsx($e,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"¿Olvidaste tu contraseña?"})]}),d.jsx(ze,{type:"submit",className:"w-full",disabled:l,children:l?"Iniciando sesión...":"Iniciar Sesión"}),d.jsxs("div",{className:"text-center text-sm",children:["¿No tienes una cuenta?"," ",d.jsx($e,{to:"/register",className:"text-primary hover:underline",children:"Regístrate"})]})]})]})}),d.jsx(es,{})]})},sY=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[s,i]=h.useState(""),[o,a]=h.useState(""),[l,c]=h.useState(!1),[f,m]=h.useState(!1),[p,g]=h.useState(!1),{toast:v}=no(),y=io(),x=async E=>{if(E.preventDefault(),!t.trim()||!n.trim()||!s.trim()||!o.trim()){v({title:"Campos requeridos",description:"Por favor completa todos los campos",variant:"destructive"});return}if(s!==o){v({title:"Las contraseñas no coinciden",description:"Por favor verifica que ambas contraseñas sean iguales",variant:"destructive"});return}if(!f){v({title:"Términos y condiciones",description:"Debes aceptar los términos y condiciones para registrarte",variant:"destructive"});return}g(!0);try{const _=await kz(kl,n,s);await NA(_.user,{displayName:t}),v({title:"Registro exitoso",description:"Tu cuenta ha sido creada correctamente"}),y("/login")}catch(_){v({title:"Error de registro",description:_.message||"No se pudo crear la cuenta.",variant:"destructive"})}finally{g(!1)}};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsx("main",{className:"flex-grow py-16",children:d.jsxs("div",{className:"container max-w-md mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Crear Cuenta"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Regístrate para acceder a todas las funcionalidades"})]}),d.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"name",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"name",type:"text",placeholder:"Juan Pérez",className:"pl-10",value:t,onChange:E=>e(E.target.value),disabled:p,required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"email",children:"Correo electrónico"}),d.jsxs("div",{className:"relative",children:[d.jsx(Hu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"email",type:"email",placeholder:"tu@correo.com",className:"pl-10",value:n,onChange:E=>r(E.target.value),disabled:p,required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"password",children:"Contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"password",type:l?"text":"password",placeholder:"••••••••",className:"pl-10",value:s,onChange:E=>i(E.target.value),disabled:p,required:!0}),d.jsx(ze,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),children:l?d.jsx(DI,{className:"h-4 w-4"}):d.jsx(jI,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"confirmPassword",children:"Confirmar contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{id:"confirmPassword",type:l?"text":"password",placeholder:"••••••••",className:"pl-10",value:o,onChange:E=>a(E.target.value),disabled:p,required:!0})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:"terms",checked:f,onCheckedChange:E=>m(E)}),d.jsxs(Ot,{htmlFor:"terms",className:"text-sm cursor-pointer",children:["Acepto los ",d.jsx($e,{to:"/terms",className:"text-primary hover:underline",children:"términos y condiciones"})]})]}),d.jsx(ze,{type:"submit",className:"w-full",disabled:p,children:p?"Creando cuenta...":"Registrarse"}),d.jsxs("div",{className:"text-center text-sm",children:["¿Ya tienes una cuenta?"," ",d.jsx($e,{to:"/login",className:"text-primary hover:underline",children:"Iniciar sesión"})]})]})]})}),d.jsx(es,{})]})};function Ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Hn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function cn(t,e){const n=Ve(t);return isNaN(e)?Hn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Pr(t,e){const n=Ve(t);if(isNaN(e))return Hn(t,NaN);if(!e)return n;const r=n.getDate(),s=Hn(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const C_=6048e5,iY=864e5;let oY={};function dd(){return oY}function ts(t,e){var a,l,c,f;const n=dd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=Ve(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Zo(t){return ts(t,{weekStartsOn:1})}function eO(t){const e=Ve(t),n=e.getFullYear(),r=Hn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Zo(r),i=Hn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Zo(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Nl(t){const e=Ve(t);return e.setHours(0,0,0,0),e}function ep(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zr(t,e){const n=Nl(t),r=Nl(e),s=+n-ep(n),i=+r-ep(r);return Math.round((s-i)/iY)}function aY(t){const e=eO(t),n=Hn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Zo(n)}function My(t,e){const n=e*7;return cn(t,n)}function lY(t,e){return Pr(t,e*12)}function cY(t){let e;return t.forEach(function(n){const r=Ve(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function uY(t){let e;return t.forEach(n=>{const r=Ve(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function xn(t,e){const n=Nl(t),r=Nl(e);return+n==+r}function S_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dY(t){if(!S_(t)&&typeof t!="number")return!1;const e=Ve(t);return!isNaN(Number(e))}function Ou(t,e){const n=Ve(t),r=Ve(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function hY(t,e,n){const r=ts(t,n),s=ts(e,n),i=+r-ep(r),o=+s-ep(s);return Math.round((i-o)/C_)}function T_(t){const e=Ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Sn(t){const e=Ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function tO(t){const e=Ve(t),n=Hn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function P_(t,e){var a,l,c,f;const n=dd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=Ve(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function nO(t){return P_(t,{weekStartsOn:1})}const fY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pY=(t,e,n)=>{let r;const s=fY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yY={date:tl({formats:mY,defaultWidth:"full"}),time:tl({formats:gY,defaultWidth:"full"}),dateTime:tl({formats:vY,defaultWidth:"full"})},wY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_Y=(t,e,n,r)=>wY[t];function Ur(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const xY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IY={ordinalNumber:PY,era:Ur({values:xY,defaultWidth:"wide"}),quarter:Ur({values:EY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ur({values:bY,defaultWidth:"wide"}),day:Ur({values:CY,defaultWidth:"wide"}),dayPeriod:Ur({values:SY,defaultWidth:"wide",formattingValues:TY,defaultFormattingWidth:"wide"})};function Br(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?RY(a,m=>m.test(o)):kY(a,m=>m.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(o.length);return{value:c,rest:f}}}function kY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function RY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rO(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const AY=/^(\d+)(th|st|nd|rd)?/i,NY=/\d+/i,MY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LY={any:[/^b/i,/^(a|c)/i]},OY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DY={any:[/1/i,/2/i,/3/i,/4/i]},jY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Y={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zY={ordinalNumber:rO({matchPattern:AY,parsePattern:NY,valueCallback:t=>parseInt(t,10)}),era:Br({matchPatterns:MY,defaultMatchWidth:"wide",parsePatterns:LY,defaultParseWidth:"any"}),quarter:Br({matchPatterns:OY,defaultMatchWidth:"wide",parsePatterns:DY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Br({matchPatterns:jY,defaultMatchWidth:"wide",parsePatterns:VY,defaultParseWidth:"any"}),day:Br({matchPatterns:FY,defaultMatchWidth:"wide",parsePatterns:UY,defaultParseWidth:"any"}),dayPeriod:Br({matchPatterns:BY,defaultMatchWidth:"any",parsePatterns:$Y,defaultParseWidth:"any"})},sO={code:"en-US",formatDistance:pY,formatLong:yY,formatRelative:_Y,localize:IY,match:zY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WY(t){const e=Ve(t);return zr(e,tO(e))+1}function iO(t){const e=Ve(t),n=+Zo(e)-+aY(e);return Math.round(n/C_)+1}function oO(t,e){var f,m,p,g;const n=Ve(t),r=n.getFullYear(),s=dd(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Hn(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ts(o,e),l=Hn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ts(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function HY(t,e){var a,l,c,f;const n=dd(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=oO(t,e),i=Hn(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ts(i,e)}function aO(t,e){const n=Ve(t),r=+ts(n,e)-+HY(n,e);return Math.round(r/C_)+1}function Ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ge(s,e.length)}},xa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Zs.y(t,e)},Y:function(t,e,n,r){const s=oO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ge(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ge(i,e.length)},R:function(t,e){const n=eO(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=aO(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},I:function(t,e,n){const r=iO(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zs.d(t,e)},D:function(t,e,n){const r=WY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ge(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=xa.noon:r===0?s=xa.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=xa.evening:r>=12?s=xa.afternoon:r>=4?s=xa.morning:s=xa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zs.s(t,e)},S:function(t,e){return Zs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return TS(r);case"XXXX":case"XX":return Eo(r);case"XXXXX":case"XXX":default:return Eo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return TS(r);case"xxxx":case"xx":return Eo(r);case"xxxxx":case"xxx":default:return Eo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SS(r,":");case"OOOO":default:return"GMT"+Eo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SS(r,":");case"zzzz":default:return"GMT"+Eo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ge(r,e.length)}};function SS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ge(i,2)}function TS(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):Eo(t,e)}function Eo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ge(Math.trunc(r/60),2),i=Ge(r%60,2);return n+s+e+i}const PS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return PS(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",PS(r,e)).replace("{{time}}",lO(s,e))},KY={p:lO,P:qY},GY=/^D+$/,QY=/^Y+$/,YY=["D","DD","YY","YYYY"];function XY(t){return GY.test(t)}function ZY(t){return QY.test(t)}function JY(t,e,n){const r=eX(t,e,n);if(console.warn(r),YY.includes(t))throw new RangeError(r)}function eX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rX=/^'([^]*?)'?$/,sX=/''/g,iX=/[a-zA-Z]/;function Un(t,e,n){var f,m,p,g,v,y,x,E;const r=dd(),s=(n==null?void 0:n.locale)??r.locale??sO,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((E=(x=r.locale)==null?void 0:x.options)==null?void 0:E.weekStartsOn)??0,a=Ve(t);if(!dY(a))throw new RangeError("Invalid time value");let l=e.match(nX).map(_=>{const b=_[0];if(b==="p"||b==="P"){const I=KY[b];return I(_,s.formatLong)}return _}).join("").match(tX).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:oX(_)};if(CS[b])return{isToken:!0,value:_};if(b.match(iX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ZY(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XY(b))&&JY(b,e,String(t));const I=CS[b[0]];return I(a,b,s.localize,c)}).join("")}function oX(t){const e=t.match(rX);return e?e[1].replace(sX,"'"):t}function aX(t){const e=Ve(t),n=e.getFullYear(),r=e.getMonth(),s=Hn(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function lX(t){return Math.trunc(+Ve(t)/1e3)}function cX(t){const e=Ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function uX(t,e){return hY(cX(t),Sn(t),e)+1}function Ly(t,e){const n=Ve(t),r=Ve(e);return n.getTime()>r.getTime()}function cO(t,e){const n=Ve(t),r=Ve(e);return+n<+r}function I_(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function dX(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()===r.getFullYear()}function Lg(t,e){return cn(t,-e)}function Og(t,e){const n=Ve(t),r=n.getFullYear(),s=n.getDate(),i=Hn(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=aX(i);return n.setMonth(e,Math.min(s,o)),n}function IS(t,e){const n=Ve(t);return isNaN(+n)?Hn(t,NaN):(n.setFullYear(e),n)}const hX={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},fX=(t,e,n)=>{let r;const s=hX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},pX={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},mX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gX={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vX={date:tl({formats:pX,defaultWidth:"full"}),time:tl({formats:mX,defaultWidth:"full"}),dateTime:tl({formats:gX,defaultWidth:"full"})},yX={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},wX={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},_X=(t,e,n,r)=>e.getHours()!==1?wX[t]:yX[t],xX={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},EX={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},bX={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},CX={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},SX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},TX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},PX=(t,e)=>Number(t)+"º",IX={ordinalNumber:PX,era:Ur({values:xX,defaultWidth:"wide"}),quarter:Ur({values:EX,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ur({values:bX,defaultWidth:"wide"}),day:Ur({values:CX,defaultWidth:"wide"}),dayPeriod:Ur({values:SX,defaultWidth:"wide",formattingValues:TX,defaultFormattingWidth:"wide"})},kX=/^(\d+)(º)?/i,RX=/\d+/i,AX={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},NX={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},MX={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},LX={any:[/1/i,/2/i,/3/i,/4/i]},OX={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},DX={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},jX={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},VX={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},FX={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},UX={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},BX={ordinalNumber:rO({matchPattern:kX,parsePattern:RX,valueCallback:function(t){return parseInt(t,10)}}),era:Br({matchPatterns:AX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),quarter:Br({matchPatterns:MX,defaultMatchWidth:"wide",parsePatterns:LX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Br({matchPatterns:OX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any"}),day:Br({matchPatterns:jX,defaultMatchWidth:"wide",parsePatterns:VX,defaultParseWidth:"any"}),dayPeriod:Br({matchPatterns:FX,defaultMatchWidth:"any",parsePatterns:UX,defaultParseWidth:"any"})},Ua={code:"es",formatDistance:fX,formatLong:vX,formatRelative:_X,localize:IX,match:BX,options:{weekStartsOn:1,firstWeekContainsDate:1}},kS=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},RS=t=>{switch(t){case"confirmed":return"Confirmada";case"pending":return"Pendiente";case"completed":return"Completada";case"cancelled":return"Cancelada";default:return t}},AS=()=>{const[t,e]=h.useState("upcoming"),[n,r]=h.useState(""),[s,i]=h.useState([]),[o,a]=h.useState([]),{toast:l}=no();h.useEffect(()=>{const p=localStorage.getItem("appointments");if(p){const g=JSON.parse(p).map(x=>({...x,date:new Date(x.date)})),v=g.filter(x=>new Date(x.date)>new Date),y=g.filter(x=>new Date(x.date)<=new Date);i(v),a(y)}},[]);const c=p=>{const g=s.filter(y=>y.id!==p),v=s.find(y=>y.id===p);if(v){const y={...v,status:"cancelled"},x=[...o,y];i(g),a(x),localStorage.setItem("appointments",JSON.stringify([...g,...x]))}l({title:"Cita cancelada",description:"Tu cita ha sido cancelada exitosamente"})},f=s.filter(p=>[p.vetName,p.clinicName,p.vetSpecialty].some(g=>g.toLowerCase().includes(n.toLowerCase()))),m=o.filter(p=>[p.vetName,p.clinicName,p.vetSpecialty].some(g=>g.toLowerCase().includes(n.toLowerCase())));return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("main",{className:"flex-grow container py-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Mis Citas"}),d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{className:"relative w-full max-w-sm",children:[d.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),d.jsx(yr,{type:"text",placeholder:"Buscar por veterinario, clínica o especialidad",value:n,onChange:p=>r(p.target.value),className:"pl-10"})]})}),d.jsxs(_L,{defaultValue:"upcoming",onValueChange:e,children:[d.jsxs(y_,{className:"grid w-full grid-cols-2",children:[d.jsx(Mu,{value:"upcoming",children:"Próximas"}),d.jsx(Mu,{value:"past",children:"Anteriores"})]}),d.jsx(Lu,{value:"upcoming",className:"mt-4",children:f.length>0?d.jsx("div",{className:"space-y-4",children:f.map(p=>d.jsxs(Xi,{children:[d.jsx(Rl,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(Al,{children:p.vetName}),d.jsx(Ru,{children:p.vetSpecialty})]}),d.jsx($o,{className:kS(p.status),children:RS(p.status)})]})}),d.jsx(Zi,{className:"pb-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx(Uo,{className:"h-4 w-4 mr-2 mt-1 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:Un(p.date,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ua})}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Un(p.date,"HH:mm",{locale:Ua})," hrs"]})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx(Fi,{className:"h-4 w-4 mr-2 mt-1 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:p.clinicName}),d.jsx("p",{className:"text-sm text-muted-foreground",children:p.address})]})]})]})}),d.jsx(um,{className:"flex justify-end pt-2",children:d.jsxs(ze,{variant:"destructive",size:"sm",onClick:()=>c(p.id),className:"flex items-center gap-1",children:[d.jsx(Cp,{className:"h-4 w-4"})," Cancelar"]})})]},p.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tienes citas próximas"}),d.jsx("p",{className:"text-muted-foreground",children:"Puedes agendar una cita desde el perfil de un veterinario"})]})}),d.jsx(Lu,{value:"past",className:"mt-4",children:m.length>0?d.jsx("div",{className:"space-y-4",children:m.map(p=>d.jsxs(Xi,{children:[d.jsx(Rl,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(Al,{children:p.vetName}),d.jsx(Ru,{children:p.vetSpecialty})]}),d.jsx($o,{className:kS(p.status),children:RS(p.status)})]})}),d.jsx(Zi,{className:"pb-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx(Uo,{className:"h-4 w-4 mr-2 mt-1 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:Un(p.date,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ua})}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[Un(p.date,"HH:mm",{locale:Ua})," hrs"]})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx(Fi,{className:"h-4 w-4 mr-2 mt-1 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:p.clinicName}),d.jsx("p",{className:"text-sm text-muted-foreground",children:p.address})]})]})]})})]},p.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tienes citas anteriores"}),d.jsx("p",{className:"text-muted-foreground",children:"Aquí aparecerán tus citas completadas o canceladas"})]})})]})]}),d.jsx(es,{})]})};var $X="Separator",NS="horizontal",zX=["horizontal","vertical"],uO=h.forwardRef((t,e)=>{const{decorative:n,orientation:r=NS,...s}=t,i=WX(r)?r:NS,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(me.div,{"data-orientation":i,...a,...s,ref:e})});uO.displayName=$X;function WX(t){return zX.includes(t)}var dO=uO;const hO=h.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(dO,{ref:s,decorative:n,orientation:e,className:pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));hO.displayName=dO.displayName;const HX=["Cardiología","Dermatología","Neurología","Oftalmología","Oncología","Ortopedia y Traumatología","Odontología","Gastroenterología","Nefrología y Urología","Endocrinología","Reproducción y Obstetricia","Anestesiología","Medicina Interna","Medicina de Animales Exóticos","Etología","Medicina Preventiva"],qX=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[s,i]=h.useState(""),[o,a]=h.useState(""),[l,c]=h.useState(""),[f,m]=h.useState(""),[p,g]=h.useState([]),[v,y]=h.useState(""),[x,E]=h.useState(""),[_,b]=h.useState(!1),[I,k]=h.useState(1),[L,T]=h.useState(!1),{toast:S}=no(),P=()=>{if(!t||!n||!s){S({title:"Campos incompletos",description:"Por favor completa todos los campos personales",variant:"destructive"});return}k(2),window.scrollTo(0,0)},R=()=>{k(1),window.scrollTo(0,0)},M=async A=>{if(A.preventDefault(),!t.trim()||!n.trim()||!s.trim()||!o.trim()||!l.trim()||!f.trim()||p.length===0||!v.trim()||!x.trim()||!_){S({title:"Campos incompletos",description:"Por favor llena todos los campos requeridos y acepta los términos.",variant:"destructive"});return}T(!0);try{await aq(am(ud,"applications"),{fullName:t,email:n,phone:s,clinicName:o,address:l,city:f,specialty:p,experience:v,docsLink:x,status:"pending",createdAt:TK()}),S({title:"Solicitud enviada",description:"Hemos recibido tu solicitud. Te contactaremos pronto."}),window.location.href="/"}catch(F){S({title:"Error al enviar",description:"Ocurrió un error al enviar la solicitud. Intenta nuevamente.",variant:"destructive"}),console.error("Error al registrar doctor:",F)}finally{T(!1)}},O=A=>{g(F=>F.includes(A)?F.filter(X=>X!==A):[...F,A])};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsxs("main",{className:"flex-grow",children:[d.jsx("section",{className:"bg-primary/10 py-16 md:py-24",children:d.jsx("div",{className:"container max-w-6xl mx-auto",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-center",children:[d.jsxs("div",{className:"md:w-1/2",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Registra tu perfil profesional"}),d.jsx("p",{className:"text-lg mb-8 text-muted-foreground",children:"Completa este formulario para aparecer en el directorio y permitir que nuevos pacientes te encuentren."})]}),d.jsx("div",{className:"md:w-1/2",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2068&auto=format&fit=crop",alt:"Veterinario con mascota",className:"rounded-lg shadow-lg w-full"})})]})})}),d.jsx("section",{className:"py-16 bg-muted/30",children:d.jsx("div",{className:"container max-w-3xl",children:d.jsxs(Xi,{children:[d.jsxs(Rl,{children:[d.jsx(Al,{children:"Formulario de registro profesional"}),d.jsx(Ru,{children:"Tu solicitud será revisada antes de publicarse en el sistema."})]}),d.jsx(Zi,{className:"space-y-6",children:I===1?d.jsxs(d.Fragment,{children:[d.jsx(Js,{label:"Nombre completo",placeholder:"Dra. Mariana Reyes",value:t,onChange:e,icon:d.jsx(Bw,{})}),d.jsx(Js,{label:"Correo electrónico",placeholder:"mariana@example.com",value:n,onChange:r,icon:d.jsx(Hu,{}),type:"email"}),d.jsx(Js,{label:"Teléfono",placeholder:"+52 55 1234 5678",value:s,onChange:i,icon:d.jsx(Uw,{})}),d.jsxs(ze,{onClick:P,className:"w-full",children:["Continuar ",d.jsx(LI,{className:"ml-2 h-4 w-4"})]})]}):d.jsxs("form",{onSubmit:M,className:"space-y-6",children:[d.jsx(Js,{label:"Nombre de la clínica",placeholder:"Clínica Animalia",value:o,onChange:a,icon:d.jsx(UE,{})}),d.jsx(Js,{label:"Dirección",placeholder:"Av. Central #123, CDMX",value:l,onChange:c,icon:d.jsx(Fi,{})}),d.jsx(Js,{label:"Ciudad",placeholder:"Ciudad de México",value:f,onChange:m,icon:d.jsx(Fi,{})}),d.jsx(Js,{label:"Experiencia profesional",placeholder:"10 años en UVM, diplomado en cirugía",value:v,onChange:y,icon:d.jsx(UE,{})}),d.jsx(Js,{label:"Enlace a documentos oficiales",placeholder:"https://drive.google.com/...",value:x,onChange:E,icon:d.jsx(g4,{})}),d.jsxs("div",{children:[d.jsx(Ot,{children:"Especialidades (selecciona al menos una)"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:HX.map(A=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:`spec-${A}`,checked:p.includes(A),onCheckedChange:()=>O(A)}),d.jsx("label",{htmlFor:`spec-${A}`,className:"text-sm",children:A})]},A))})]}),d.jsx(hO,{}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yo,{id:"terms",checked:_,onCheckedChange:A=>b(A)}),d.jsx(Ot,{htmlFor:"terms",className:"text-sm",children:"Acepto los términos y condiciones"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(ze,{type:"button",variant:"outline",className:"flex-1",onClick:R,children:"Volver"}),d.jsx(ze,{type:"submit",className:"flex-1",disabled:L,children:L?"Enviando...":"Enviar solicitud"})]})]})})]})})})]}),d.jsx(es,{})]})},Js=({label:t,placeholder:e,value:n,onChange:r,icon:s,type:i="text"})=>d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{children:t}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:s}),d.jsx(yr,{className:"pl-10",type:i,placeholder:e,value:n,onChange:o=>r(o.target.value)})]})]}),KX=()=>{const[t,e]=h.useState(null),[n,r]=h.useState(!1),[s,i]=h.useState(null),o=h.useRef(null),{toast:a}=no(),l=io();h.useEffect(()=>{const p=MA(kl,g=>{if(!g){l("/login");return}e(g),i(g.photoURL||null)});return()=>p()},[]);const c=async()=>{try{await Lz(kl),a({title:"Sesión cerrada",description:"Has cerrado sesión correctamente"}),l("/login")}catch{a({title:"Error al cerrar sesión",description:"Intenta de nuevo",variant:"destructive"})}},f=async p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];if(!g||!t)return;r(!0);const v=_K(PK,`profile-pictures/${t.uid}`);try{await yK(v,g);const x=await wK(v);await NA(t,{photoURL:x}),i(x),a({title:"Foto de perfil actualizada"})}catch{a({title:"Error al subir imagen",description:"Asegúrate de que el archivo sea válido",variant:"destructive"})}finally{r(!1)}},m=()=>{var p;(p=o.current)==null||p.click()};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Jr,{}),d.jsx("main",{className:"flex-grow py-10",children:d.jsxs("div",{className:"container max-w-xl mx-auto space-y-8 px-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-center",children:"Mi Perfil"}),d.jsxs("div",{className:"bg-card shadow-md rounded-2xl p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:s||"https://ui-avatars.com/api/?name=Usuario&background=cccccc&color=000",alt:"Foto de perfil",className:"h-20 w-20 rounded-full object-cover border"}),d.jsx("input",{type:"file",accept:"image/*",onChange:f,ref:o,className:"hidden"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-semibold",children:(t==null?void 0:t.displayName)||"Usuario"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),d.jsx(ze,{variant:"outline",className:"mt-2 text-xs",onClick:m,disabled:n,children:n?"Subiendo...":"Cambiar foto"})]})]}),d.jsx("hr",{}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-medium mb-2",children:"Tus citas"}),d.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[d.jsx("li",{children:"Consulta con Dr. Ramírez — 10 abril, 2:00 PM"}),d.jsx("li",{children:"Vacunación — 17 abril, 10:30 AM"}),d.jsx("li",{children:"Baño y corte — 25 abril, 11:15 AM"})]})]}),d.jsx("div",{className:"pt-4 text-right",children:d.jsx(ze,{variant:"destructive",onClick:c,children:"Cerrar sesión"})})]})]})}),d.jsx(es,{})]})},fO=h.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));fO.displayName="Textarea";function MS(t,[e,n]){return Math.min(n,Math.max(e,t))}var GX=[" ","Enter","ArrowUp","ArrowDown"],QX=[" ","Enter"],hd="Select",[dm,hm,YX]=_p(hd),[Yl,Oee]=Os(hd,[YX,ro]),fm=ro(),[XX,ao]=Yl(hd),[ZX,JX]=Yl(hd),pO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:m,disabled:p,required:g,form:v}=t,y=fm(e),[x,E]=h.useState(null),[_,b]=h.useState(null),[I,k]=h.useState(!1),L=Op(c),[T=!1,S]=Ps({prop:r,defaultProp:s,onChange:i}),[P,R]=Ps({prop:o,defaultProp:a,onChange:l}),M=h.useRef(null),O=x?v||!!x.closest("form"):!0,[A,F]=h.useState(new Set),X=Array.from(A).map(q=>q.props.value).join(";");return d.jsx(Xw,{...y,children:d.jsxs(XX,{required:g,scope:e,trigger:x,onTriggerChange:E,valueNode:_,onValueNodeChange:b,valueNodeHasChildren:I,onValueNodeHasChildrenChange:k,contentId:xr(),value:P,onValueChange:R,open:T,onOpenChange:S,dir:L,triggerPointerDownPosRef:M,disabled:p,children:[d.jsx(dm.Provider,{scope:e,children:d.jsx(ZX,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(q=>{F($=>new Set($).add(q))},[]),onNativeOptionRemove:h.useCallback(q=>{F($=>{const D=new Set($);return D.delete(q),D})},[]),children:n})}),O?d.jsxs(FO,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:P,onChange:q=>R(q.target.value),disabled:p,form:v,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(A)]},X):null]})})};pO.displayName=hd;var mO="SelectTrigger",gO=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=fm(n),o=ao(mO,n),a=o.disabled||r,l=Oe(e,o.onTriggerChange),c=hm(n),f=h.useRef("touch"),[m,p,g]=UO(y=>{const x=c().filter(b=>!b.disabled),E=x.find(b=>b.value===o.value),_=BO(x,y,E);_!==void 0&&o.onValueChange(_.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(Ku,{asChild:!0,...i,children:d.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VO(o.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&v(y)}),onPointerDown:ne(s.onPointerDown,y=>{f.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ne(s.onKeyDown,y=>{const x=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(x&&y.key===" ")&&GX.includes(y.key)&&(v(),y.preventDefault())})})})});gO.displayName=mO;var vO="SelectValue",yO=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ao(vO,n),{onValueNodeHasChildrenChange:c}=l,f=i!==void 0,m=Oe(e,l.onValueNodeChange);return rn(()=>{c(f)},[c,f]),d.jsx(me.span,{...a,ref:m,style:{pointerEvents:"none"},children:VO(l.value)?d.jsx(d.Fragment,{children:o}):i})});yO.displayName=vO;var eZ="SelectIcon",wO=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(me.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});wO.displayName=eZ;var tZ="SelectPortal",_O=t=>d.jsx(jl,{asChild:!0,...t});_O.displayName=tZ;var Jo="SelectContent",xO=h.forwardRef((t,e)=>{const n=ao(Jo,t.__scopeSelect),[r,s]=h.useState();if(rn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Gn.createPortal(d.jsx(EO,{scope:t.__scopeSelect,children:d.jsx(dm.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(bO,{...t,ref:e})});xO.displayName=Jo;var ur=10,[EO,lo]=Yl(Jo),nZ="SelectContentImpl",bO=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x,...E}=t,_=ao(Jo,n),[b,I]=h.useState(null),[k,L]=h.useState(null),T=Oe(e,ee=>I(ee)),[S,P]=h.useState(null),[R,M]=h.useState(null),O=hm(n),[A,F]=h.useState(!1),X=h.useRef(!1);h.useEffect(()=>{if(b)return Fp(b)},[b]),Dp();const q=h.useCallback(ee=>{const[ie,...he]=O().map(ve=>ve.ref.current),[te]=he.slice(-1),oe=document.activeElement;for(const ve of ee)if(ve===oe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ie&&k&&(k.scrollTop=0),ve===te&&k&&(k.scrollTop=k.scrollHeight),ve==null||ve.focus(),document.activeElement!==oe))return},[O,k]),$=h.useCallback(()=>q([S,b]),[q,S,b]);h.useEffect(()=>{A&&$()},[A,$]);const{onOpenChange:D,triggerPointerDownPosRef:j}=_;h.useEffect(()=>{if(b){let ee={x:0,y:0};const ie=te=>{var oe,ve;ee={x:Math.abs(Math.round(te.pageX)-(((oe=j.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(te.pageY)-(((ve=j.current)==null?void 0:ve.y)??0))}},he=te=>{ee.x<=10&&ee.y<=10?te.preventDefault():b.contains(te.target)||D(!1),document.removeEventListener("pointermove",ie),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",he,{capture:!0})}}},[b,D,j]),h.useEffect(()=>{const ee=()=>D(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[D]);const[W,H]=UO(ee=>{const ie=O().filter(oe=>!oe.disabled),he=ie.find(oe=>oe.ref.current===document.activeElement),te=BO(ie,ee,he);te&&setTimeout(()=>te.ref.current.focus())}),Z=h.useCallback((ee,ie,he)=>{const te=!X.current&&!he;(_.value!==void 0&&_.value===ie||te)&&(P(ee),te&&(X.current=!0))},[_.value]),Y=h.useCallback(()=>b==null?void 0:b.focus(),[b]),ue=h.useCallback((ee,ie,he)=>{const te=!X.current&&!he;(_.value!==void 0&&_.value===ie||te)&&M(ee)},[_.value]),U=r==="popper"?Oy:CO,le=U===Oy?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x}:{};return d.jsx(EO,{scope:n,content:b,viewport:k,onViewportChange:L,itemRefCallback:Z,selectedItem:S,onItemLeave:Y,itemTextRefCallback:ue,focusSelectedItem:$,selectedItemText:R,position:r,isPositioned:A,searchRef:W,children:d.jsx(Yu,{as:Ts,allowPinchZoom:!0,children:d.jsx(Gu,{asChild:!0,trapped:_.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ne(s,ee=>{var ie;(ie=_.trigger)==null||ie.focus({preventScroll:!0}),ee.preventDefault()}),children:d.jsx(na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:d.jsx(U,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ee=>ee.preventDefault(),...E,...le,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ne(E.onKeyDown,ee=>{const ie=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ie&&ee.key.length===1&&H(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let te=O().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const oe=ee.target,ve=te.indexOf(oe);te=te.slice(ve+1)}setTimeout(()=>q(te)),ee.preventDefault()}})})})})})})});bO.displayName=nZ;var rZ="SelectItemAlignedPosition",CO=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ao(Jo,n),o=lo(Jo,n),[a,l]=h.useState(null),[c,f]=h.useState(null),m=Oe(e,T=>f(T)),p=hm(n),g=h.useRef(!1),v=h.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:E,focusSelectedItem:_}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&x&&E){const T=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(i.dir!=="rtl"){const oe=R.left-S.left,ve=P.left-oe,Ke=T.left-ve,at=T.width+Ke,Ce=Math.max(at,S.width),Nt=window.innerWidth-ur,mn=MS(ve,[ur,Math.max(ur,Nt-Ce)]);a.style.minWidth=at+"px",a.style.left=mn+"px"}else{const oe=S.right-R.right,ve=window.innerWidth-P.right-oe,Ke=window.innerWidth-T.right-ve,at=T.width+Ke,Ce=Math.max(at,S.width),Nt=window.innerWidth-ur,mn=MS(ve,[ur,Math.max(ur,Nt-Ce)]);a.style.minWidth=at+"px",a.style.right=mn+"px"}const M=p(),O=window.innerHeight-ur*2,A=y.scrollHeight,F=window.getComputedStyle(c),X=parseInt(F.borderTopWidth,10),q=parseInt(F.paddingTop,10),$=parseInt(F.borderBottomWidth,10),D=parseInt(F.paddingBottom,10),j=X+q+A+D+$,W=Math.min(x.offsetHeight*5,j),H=window.getComputedStyle(y),Z=parseInt(H.paddingTop,10),Y=parseInt(H.paddingBottom,10),ue=T.top+T.height/2-ur,U=O-ue,le=x.offsetHeight/2,ee=x.offsetTop+le,ie=X+q+ee,he=j-ie;if(ie<=ue){const oe=M.length>0&&x===M[M.length-1].ref.current;a.style.bottom="0px";const ve=c.clientHeight-y.offsetTop-y.offsetHeight,Ke=Math.max(U,le+(oe?Y:0)+ve+$),at=ie+Ke;a.style.height=at+"px"}else{const oe=M.length>0&&x===M[0].ref.current;a.style.top="0px";const Ke=Math.max(ue,X+y.offsetTop+(oe?Z:0)+le)+he;a.style.height=Ke+"px",y.scrollTop=ie-ue+y.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,x,E,i.dir,r]);rn(()=>b(),[b]);const[I,k]=h.useState();rn(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const L=h.useCallback(T=>{T&&v.current===!0&&(b(),_==null||_(),v.current=!1)},[b,_]);return d.jsx(iZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:L,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(me.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CO.displayName=rZ;var sZ="SelectPopperPosition",Oy=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ur,...i}=t,o=fm(n);return d.jsx(Ip,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oy.displayName=sZ;var[iZ,k_]=Yl(Jo,{}),Dy="SelectViewport",SO=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=lo(Dy,n),o=k_(Dy,n),a=Oe(e,i.onViewportChange),l=h.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(dm.Slot,{scope:n,children:d.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,c=>{const f=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const g=Math.abs(l.current-f.scrollTop);if(g>0){const v=window.innerHeight-ur*2,y=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),E=Math.max(y,x);if(E<v){const _=E+g,b=Math.min(v,_),I=_-b;m.style.height=b+"px",m.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});SO.displayName=Dy;var TO="SelectGroup",[oZ,aZ]=Yl(TO),lZ=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xr();return d.jsx(oZ,{scope:n,id:s,children:d.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lZ.displayName=TO;var PO="SelectLabel",IO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aZ(PO,n);return d.jsx(me.div,{id:s.id,...r,ref:e})});IO.displayName=PO;var tp="SelectItem",[cZ,kO]=Yl(tp),RO=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ao(tp,n),l=lo(tp,n),c=a.value===r,[f,m]=h.useState(i??""),[p,g]=h.useState(!1),v=Oe(e,_=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,_,r,s)}),y=xr(),x=h.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(cZ,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:h.useCallback(_=>{m(b=>b||((_==null?void 0:_.textContent)??"").trim())},[]),children:d.jsx(dm.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:d.jsx(me.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ne(o.onFocus,()=>g(!0)),onBlur:ne(o.onBlur,()=>g(!1)),onClick:ne(o.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:ne(o.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:ne(o.onPointerDown,_=>{x.current=_.pointerType}),onPointerMove:ne(o.onPointerMove,_=>{var b;x.current=_.pointerType,s?(b=l.onItemLeave)==null||b.call(l):x.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,_=>{var b;_.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ne(o.onKeyDown,_=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(QX.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});RO.displayName=tp;var Nc="SelectItemText",AO=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ao(Nc,n),a=lo(Nc,n),l=kO(Nc,n),c=JX(Nc,n),[f,m]=h.useState(null),p=Oe(e,E=>m(E),l.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,l.value,l.disabled)}),g=f==null?void 0:f.textContent,v=h.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return rn(()=>(y(v),()=>x(v)),[y,x,v]),d.jsxs(d.Fragment,{children:[d.jsx(me.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gn.createPortal(i.children,o.valueNode):null]})});AO.displayName=Nc;var NO="SelectItemIndicator",MO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kO(NO,n).isSelected?d.jsx(me.span,{"aria-hidden":!0,...r,ref:e}):null});MO.displayName=NO;var jy="SelectScrollUpButton",LO=h.forwardRef((t,e)=>{const n=lo(jy,t.__scopeSelect),r=k_(jy,t.__scopeSelect),[s,i]=h.useState(!1),o=Oe(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});LO.displayName=jy;var Vy="SelectScrollDownButton",OO=h.forwardRef((t,e)=>{const n=lo(Vy,t.__scopeSelect),r=k_(Vy,t.__scopeSelect),[s,i]=h.useState(!1),o=Oe(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;i(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OO.displayName=Vy;var DO=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=lo("SelectScrollButton",n),o=h.useRef(null),a=hm(n),l=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),rn(()=>{var f;const c=a().find(m=>m.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{l()})})}),uZ="SelectSeparator",jO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});jO.displayName=uZ;var Fy="SelectArrow",dZ=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fm(n),i=ao(Fy,n),o=lo(Fy,n);return i.open&&o.position==="popper"?d.jsx(kp,{...s,...r,ref:e}):null});dZ.displayName=Fy;function VO(t){return t===""||t===void 0}var FO=h.forwardRef((t,e)=>{const{value:n,...r}=t,s=h.useRef(null),i=Oe(e,s),o=xL(n);return h.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&f){const m=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(m)}},[o,n]),d.jsx(zu,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});FO.displayName="BubbleSelect";function UO(t){const e=nn(t),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function BO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hZ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function hZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fZ=pO,$O=gO,pZ=yO,mZ=wO,gZ=_O,zO=xO,vZ=SO,WO=IO,HO=RO,yZ=AO,wZ=MO,qO=LO,KO=OO,GO=jO;const Dg=fZ,jg=pZ,$h=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs($O,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(mZ,{asChild:!0,children:d.jsx(bp,{className:"h-4 w-4 opacity-50"})})]}));$h.displayName=$O.displayName;const QO=h.forwardRef(({className:t,...e},n)=>d.jsx(qO,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(OI,{className:"h-4 w-4"})}));QO.displayName=qO.displayName;const YO=h.forwardRef(({className:t,...e},n)=>d.jsx(KO,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(bp,{className:"h-4 w-4"})}));YO.displayName=KO.displayName;const zh=h.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(gZ,{children:d.jsxs(zO,{ref:s,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(QO,{}),d.jsx(vZ,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(YO,{})]})}));zh.displayName=zO.displayName;const _Z=h.forwardRef(({className:t,...e},n)=>d.jsx(WO,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));_Z.displayName=WO.displayName;const us=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(HO,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(wZ,{children:d.jsx(Vw,{className:"h-4 w-4"})})}),d.jsx(yZ,{children:e})]}));us.displayName=HO.displayName;const xZ=h.forwardRef(({className:t,...e},n)=>d.jsx(GO,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));xZ.displayName=GO.displayName;var we=function(){return we=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},we.apply(this,arguments)};function EZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XO(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function fd(t){return t.mode==="multiple"}function pd(t){return t.mode==="range"}function pm(t){return t.mode==="single"}var bZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CZ(t,e){return Un(t,"LLLL y",e)}function SZ(t,e){return Un(t,"d",e)}function TZ(t,e){return Un(t,"LLLL",e)}function PZ(t){return"".concat(t)}function IZ(t,e){return Un(t,"cccccc",e)}function kZ(t,e){return Un(t,"yyyy",e)}var RZ=Object.freeze({__proto__:null,formatCaption:CZ,formatDay:SZ,formatMonthCaption:TZ,formatWeekNumber:PZ,formatWeekdayName:IZ,formatYearCaption:kZ}),AZ=function(t,e,n){return Un(t,"do MMMM (EEEE)",n)},NZ=function(){return"Month: "},MZ=function(){return"Go to next month"},LZ=function(){return"Go to previous month"},OZ=function(t,e){return Un(t,"cccc",e)},DZ=function(t){return"Week n. ".concat(t)},jZ=function(){return"Year: "},VZ=Object.freeze({__proto__:null,labelDay:AZ,labelMonthDropdown:NZ,labelNext:MZ,labelPrevious:LZ,labelWeekNumber:DZ,labelWeekday:OZ,labelYearDropdown:jZ});function FZ(){var t="buttons",e=bZ,n=sO,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:RZ,labels:VZ,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function UZ(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Sn(r):e&&(i=new Date(e,0,1)),s?o=T_(s):n&&(o=new Date(n,11,31)),{fromDate:i?Nl(i):void 0,toDate:o?Nl(o):void 0}}var ZO=h.createContext(void 0);function BZ(t){var e,n=t.initialProps,r=FZ(),s=UZ(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(pm(n)||fd(n)||pd(n))&&(l=n.onSelect);var c=we(we(we({},r),n),{captionLayout:a,classNames:we(we({},r.classNames),n.classNames),components:we({},n.components),formatters:we(we({},r.formatters),n.formatters),fromDate:i,labels:we(we({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:we(we({},r.modifiers),n.modifiers),modifiersClassNames:we(we({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:we(we({},r.styles),n.styles),toDate:o});return d.jsx(ZO.Provider,{value:c,children:t.children})}function Je(){var t=h.useContext(ZO);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function JO(t){var e=Je(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function $Z(t){return d.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eD(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=Je(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:$Z;return d.jsxs("div",{className:a,style:l,children:[d.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),d.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),d.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,d.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function zZ(t){var e,n=Je(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});var m=[];if(dX(r,s))for(var p=Sn(r),g=r.getMonth();g<=s.getMonth();g++)m.push(Og(p,g));else for(var p=Sn(new Date),g=0;g<=11;g++)m.push(Og(p,g));var v=function(x){var E=Number(x.target.value),_=Og(Sn(t.displayMonth),E);t.onChange(_)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:eD;return d.jsx(y,{name:"months","aria-label":f(),className:l.dropdown_month,style:i.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:m.map(function(x){return d.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function WZ(t){var e,n=t.displayMonth,r=Je(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,p=[];if(!s)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});for(var g=s.getFullYear(),v=i.getFullYear(),y=g;y<=v;y++)p.push(IS(tO(new Date),y));var x=function(_){var b=IS(Sn(n),Number(_.target.value));t.onChange(b)},E=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:eD;return d.jsx(E,{name:"years","aria-label":m(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:f(n,{locale:o}),children:p.map(function(_){return d.jsx("option",{value:_.getFullYear(),children:f(_,{locale:o})},_.getFullYear())})})}function HZ(t,e){var n=h.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function qZ(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&Ou(i,s)<0){var c=-1*(l-1);s=Pr(i,c)}return o&&Ou(s,o)<0&&(s=o),Sn(s)}function KZ(){var t=Je(),e=qZ(t),n=HZ(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Sn(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function GZ(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Sn(t),i=Sn(Pr(s,r)),o=Ou(i,s),a=[],l=0;l<o;l++){var c=Pr(s,l);a.push(c)}return n&&(a=a.reverse()),a}function QZ(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Sn(t);if(!n)return Pr(a,o);var l=Ou(n,t);if(!(l<i))return Pr(a,o)}}function YZ(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Sn(t);if(!n)return Pr(a,-o);var l=Ou(a,n);if(!(l<=0))return Pr(a,-o)}}var tD=h.createContext(void 0);function XZ(t){var e=Je(),n=KZ(),r=n[0],s=n[1],i=GZ(r,e),o=QZ(r,e),a=YZ(r,e),l=function(m){return i.some(function(p){return I_(m,p)})},c=function(m,p){l(m)||(p&&cO(m,p)?s(Pr(m,1+e.numberOfMonths*-1)):s(m))},f={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return d.jsx(tD.Provider,{value:f,children:t.children})}function md(){var t=h.useContext(tD);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function LS(t){var e,n=Je(),r=n.classNames,s=n.styles,i=n.components,o=md().goToMonth,a=function(f){o(Pr(f,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:JO,c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:c}),d.jsx(zZ,{onChange:a,displayMonth:t.displayMonth}),d.jsx(WZ,{onChange:a,displayMonth:t.displayMonth})]})}function ZZ(t){return d.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JZ(t){return d.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var np=h.forwardRef(function(t,e){var n=Je(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=we(we({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),d.jsx("button",we({},t,{ref:e,type:"button",className:o,style:a}))});function eJ(t){var e,n,r=Je(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,m=r.components;if(!t.nextMonth&&!t.previousMonth)return d.jsx(d.Fragment,{});var p=c(t.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),v=f(t.nextMonth,{locale:i}),y=[o.nav_button,o.nav_button_next].join(" "),x=(e=m==null?void 0:m.IconRight)!==null&&e!==void 0?e:JZ,E=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:ZZ;return d.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&d.jsx(np,{name:"previous-month","aria-label":p,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?d.jsx(x,{className:o.nav_icon,style:a.nav_icon}):d.jsx(E,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&d.jsx(np,{name:"next-month","aria-label":v,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?d.jsx(E,{className:o.nav_icon,style:a.nav_icon}):d.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function OS(t){var e=Je().numberOfMonths,n=md(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return I_(t.displayMonth,v)}),l=a===0,c=a===o.length-1,f=e>1&&(l||!c),m=e>1&&(c||!l),p=function(){r&&i(r)},g=function(){s&&i(s)};return d.jsx(eJ,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:m,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:g})}function tJ(t){var e,n=Je(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:JO,c;return s?c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=d.jsx(LS,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=d.jsxs(d.Fragment,{children:[d.jsx(LS,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),d.jsx(OS,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=d.jsxs(d.Fragment,{children:[d.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(OS,{displayMonth:t.displayMonth,id:t.id})]}),d.jsx("div",{className:r.caption,style:i.caption,children:c})}function nJ(t){var e=Je(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?d.jsx("tfoot",{className:s,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function rJ(t,e,n){for(var r=n?Zo(new Date):ts(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=cn(r,i);s.push(o)}return s}function sJ(){var t=Je(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=rJ(s,i,o);return d.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,m){return d.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:s}),children:a(f,{locale:s})},m)})]})}function iJ(){var t,e=Je(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:sJ;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(i,{})})}function oJ(t){var e=Je(),n=e.locale,r=e.formatters.formatDay;return d.jsx(d.Fragment,{children:r(t.date,{locale:n})})}var R_=h.createContext(void 0);function aJ(t){if(!fd(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return d.jsx(R_.Provider,{value:e,children:t.children})}return d.jsx(lJ,{initialProps:t.initialProps,children:t.children})}function lJ(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,f,m){var p,g;(p=e.onDayClick)===null||p===void 0||p.call(e,c,f,m);var v=!!(f.selected&&s&&(r==null?void 0:r.length)===s);if(!v){var y=!!(!f.selected&&i&&(r==null?void 0:r.length)===i);if(!y){var x=r?XO([],r):[];if(f.selected){var E=x.findIndex(function(_){return xn(c,_)});x.splice(E,1)}else x.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,x,c,f,m)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=i&&r.length>i-1,m=r.some(function(p){return xn(p,c)});return!!(f&&!m)});var l={selected:r,onDayClick:o,modifiers:a};return d.jsx(R_.Provider,{value:l,children:n})}function A_(){var t=h.useContext(R_);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function cJ(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?xn(s,t)&&xn(r,t)?void 0:xn(s,t)?{from:s,to:void 0}:xn(r,t)?void 0:Ly(r,t)?{from:t,to:s}:{from:r,to:t}:s?Ly(t,s)?{from:s,to:t}:{from:t,to:s}:r?cO(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var N_=h.createContext(void 0);function uJ(t){if(!pd(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(N_.Provider,{value:e,children:t.children})}return d.jsx(dJ,{initialProps:t.initialProps,children:t.children})}function dJ(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(g,v,y){var x,E;(x=e.onDayClick)===null||x===void 0||x.call(e,g,v,y);var _=cJ(g,r);(E=e.onSelect)===null||E===void 0||E.call(e,_,g,v,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],xn(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),a&&(i&&!o&&f.disabled.push({after:Lg(i,a-1),before:cn(i,a-1)}),i&&o&&f.disabled.push({after:i,before:cn(i,a-1)}),!i&&o&&f.disabled.push({after:Lg(o,a-1),before:cn(o,a-1)})),l){if(i&&!o&&(f.disabled.push({before:cn(i,-l+1)}),f.disabled.push({after:cn(i,l-1)})),i&&o){var m=zr(o,i)+1,p=l-m;f.disabled.push({before:Lg(i,p)}),f.disabled.push({after:cn(o,p)})}!i&&o&&(f.disabled.push({before:cn(o,-l+1)}),f.disabled.push({after:cn(o,l-1)}))}return d.jsx(N_.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function M_(){var t=h.useContext(N_);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Wh(t){return Array.isArray(t)?XO([],t):t!==void 0?[t]:[]}function hJ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Wh(s)}),e}var Ir;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ir||(Ir={}));var fJ=Ir.Selected,ls=Ir.Disabled,pJ=Ir.Hidden,mJ=Ir.Today,Vg=Ir.RangeEnd,Fg=Ir.RangeMiddle,Ug=Ir.RangeStart,gJ=Ir.Outside;function vJ(t,e,n){var r,s=(r={},r[fJ]=Wh(t.selected),r[ls]=Wh(t.disabled),r[pJ]=Wh(t.hidden),r[mJ]=[t.today],r[Vg]=[],r[Fg]=[],r[Ug]=[],r[gJ]=[],r);return t.fromDate&&s[ls].push({before:t.fromDate}),t.toDate&&s[ls].push({after:t.toDate}),fd(t)?s[ls]=s[ls].concat(e.modifiers[ls]):pd(t)&&(s[ls]=s[ls].concat(n.modifiers[ls]),s[Ug]=n.modifiers[Ug],s[Fg]=n.modifiers[Fg],s[Vg]=n.modifiers[Vg]),s}var nD=h.createContext(void 0);function yJ(t){var e=Je(),n=A_(),r=M_(),s=vJ(e,n,r),i=hJ(e.modifiers),o=we(we({},s),i);return d.jsx(nD.Provider,{value:o,children:t.children})}function rD(){var t=h.useContext(nD);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function wJ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function _J(t){return!!(t&&typeof t=="object"&&"from"in t)}function xJ(t){return!!(t&&typeof t=="object"&&"after"in t)}function EJ(t){return!!(t&&typeof t=="object"&&"before"in t)}function bJ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function CJ(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=zr(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=zr(t,r)>=0&&zr(s,t)>=0;return o}return s?xn(s,t):r?xn(r,t):!1}function SJ(t){return S_(t)}function TJ(t){return Array.isArray(t)&&t.every(S_)}function PJ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(SJ(n))return xn(t,n);if(TJ(n))return n.includes(t);if(_J(n))return CJ(t,n);if(bJ(n))return n.dayOfWeek.includes(t.getDay());if(wJ(n)){var r=zr(n.before,t),s=zr(n.after,t),i=r>0,o=s<0,a=Ly(n.before,n.after);return a?o&&i:i||o}return xJ(n)?zr(t,n.after)>0:EJ(n)?zr(n.before,t)>0:typeof n=="function"?n(t):!1})}function L_(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return PJ(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!I_(t,n)&&(s.outside=!0),s}function IJ(t,e){for(var n=Sn(t[0]),r=T_(t[t.length-1]),s,i,o=n;o<=r;){var a=L_(o,e),l=!a.disabled&&!a.hidden;if(!l){o=cn(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=cn(o,1)}return i||s}var kJ=365;function sD(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,f=s.toDate,m=s.locale,p={day:cn,week:My,month:Pr,year:lY,startOfWeek:function(x){return s.ISOWeek?Zo(x):ts(x,{locale:m,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?nO(x):P_(x,{locale:m,weekStartsOn:l})}},g=p[n](t,r==="after"?1:-1);r==="before"&&c?g=cY([c,g]):r==="after"&&f&&(g=uY([f,g]));var v=!0;if(i){var y=L_(g,i);v=!y.disabled&&!y.hidden}return v?g:a.count>kJ?a.lastFocused:sD(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:we(we({},a),{count:a.count+1})})}var iD=h.createContext(void 0);function RJ(t){var e=md(),n=rD(),r=h.useState(),s=r[0],i=r[1],o=h.useState(),a=o[0],l=o[1],c=IJ(e.displayMonths,n),f=s??(a&&e.isDateDisplayed(a))?a:c,m=function(){l(s),i(void 0)},p=function(x){i(x)},g=Je(),v=function(x,E){if(s){var _=sD(s,{moveBy:x,direction:E,context:g,modifiers:n});xn(s,_)||(e.goToDate(_,s),p(_))}},y={focusedDay:s,focusTarget:f,blur:m,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return d.jsx(iD.Provider,{value:y,children:t.children})}function O_(){var t=h.useContext(iD);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function AJ(t,e){var n=rD(),r=L_(t,n,e);return r}var D_=h.createContext(void 0);function NJ(t){if(!pm(t.initialProps)){var e={selected:void 0};return d.jsx(D_.Provider,{value:e,children:t.children})}return d.jsx(MJ,{initialProps:t.initialProps,children:t.children})}function MJ(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return d.jsx(D_.Provider,{value:s,children:n})}function oD(){var t=h.useContext(D_);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function LJ(t,e){var n=Je(),r=oD(),s=A_(),i=M_(),o=O_(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,f=o.focusWeekBefore,m=o.blur,p=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,y=o.focusYearBefore,x=o.focusYearAfter,E=o.focusStartOfWeek,_=o.focusEndOfWeek,b=function($){var D,j,W,H;pm(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,t,e,$):fd(n)?(j=s.onDayClick)===null||j===void 0||j.call(s,t,e,$):pd(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,$):(H=n.onDayClick)===null||H===void 0||H.call(n,t,e,$)},I=function($){var D;p(t),(D=n.onDayFocus)===null||D===void 0||D.call(n,t,e,$)},k=function($){var D;m(),(D=n.onDayBlur)===null||D===void 0||D.call(n,t,e,$)},L=function($){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,t,e,$)},T=function($){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,t,e,$)},S=function($){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,t,e,$)},P=function($){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,t,e,$)},R=function($){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,t,e,$)},M=function($){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,t,e,$)},O=function($){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,t,e,$)},A=function($){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,t,e,$)},F=function($){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,t,e,$)},X=function($){var D;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),c();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),f();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?y():g();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():v();break;case"Home":$.preventDefault(),$.stopPropagation(),E();break;case"End":$.preventDefault(),$.stopPropagation(),_();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,t,e,$)},q={onClick:b,onFocus:I,onBlur:k,onKeyDown:X,onKeyUp:F,onMouseEnter:L,onMouseLeave:T,onPointerEnter:S,onPointerLeave:P,onTouchCancel:R,onTouchEnd:M,onTouchMove:O,onTouchStart:A};return q}function OJ(){var t=Je(),e=oD(),n=A_(),r=M_(),s=pm(t)?e.selected:fd(t)?n.selected:pd(t)?r.selected:void 0;return s}function DJ(t){return Object.values(Ir).includes(t)}function jJ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(DJ(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function VJ(t,e){var n=we({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=we(we({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function FJ(t,e,n){var r,s,i,o=Je(),a=O_(),l=AJ(t,e),c=LJ(t,l),f=OJ(),m=!!(o.onDayClick||o.mode!=="default");h.useEffect(function(){var L;l.outside||a.focusedDay&&m&&xn(a.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[a.focusedDay,t,n,m,l.outside]);var p=jJ(o,l).join(" "),g=VJ(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:oJ,x=d.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),E={style:g,className:p,children:x,role:"gridcell"},_=a.focusTarget&&xn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&xn(a.focusedDay,t),I=we(we(we({},E),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||_?0:-1,r)),c),k={isButton:m,isHidden:v,activeModifiers:l,selectedDays:f,buttonProps:I,divProps:E};return k}function UJ(t){var e=h.useRef(null),n=FJ(t.date,t.displayMonth,e);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(np,we({name:"day",ref:e},n.buttonProps)):d.jsx("div",we({},n.divProps))}function BJ(t){var e=t.number,n=t.dates,r=Je(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!s)return d.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var m=l(Number(e),{locale:a}),p=function(g){s(e,n,g)};return d.jsx(np,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:p,children:f})}function $J(t){var e,n,r=Je(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:UJ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:BJ,f;return o&&(f=d.jsx("td",{className:i.cell,style:s.cell,children:d.jsx(c,{number:t.weekNumber,dates:t.dates})})),d.jsxs("tr",{className:i.row,style:s.row,children:[f,t.dates.map(function(m){return d.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:d.jsx(l,{displayMonth:t.displayMonth,date:m})},lX(m))})]})}function DS(t,e,n){for(var r=n!=null&&n.ISOWeek?nO(e):P_(e,n),s=n!=null&&n.ISOWeek?Zo(t):ts(t,n),i=zr(r,s),o=[],a=0;a<=i;a++)o.push(cn(s,a));var l=o.reduce(function(c,f){var m=n!=null&&n.ISOWeek?iO(f):aO(f,n),p=c.find(function(g){return g.weekNumber===m});return p?(p.dates.push(f),c):(c.push({weekNumber:m,dates:[f]}),c)},[]);return l}function zJ(t,e){var n=DS(Sn(t),T_(t),e);if(e!=null&&e.useFixedWeeks){var r=uX(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=My(i,6-r),a=DS(My(i,1),o,e);n.push.apply(n,a)}}return n}function WJ(t){var e,n,r,s=Je(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,f=s.components,m=s.weekStartsOn,p=s.firstWeekContainsDate,g=s.ISOWeek,v=zJ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:i,weekStartsOn:m,firstWeekContainsDate:p}),y=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:iJ,x=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:$J,E=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:nJ;return d.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&d.jsx(y,{}),d.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(_){return d.jsx(x,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),d.jsx(E,{displayMonth:t.displayMonth})]})}function HJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qJ=HJ()?h.useLayoutEffect:h.useEffect,Bg=!1,KJ=0;function jS(){return"react-day-picker-".concat(++KJ)}function GJ(t){var e,n=t??(Bg?jS():null),r=h.useState(n),s=r[0],i=r[1];return qJ(function(){s===null&&i(jS())},[]),h.useEffect(function(){Bg===!1&&(Bg=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function QJ(t){var e,n,r=Je(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=md().displayMonths,c=GJ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],p=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,y=!g&&!v;s==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(m.push(i.caption_start),p=we(we({},p),o.caption_start)),v&&(m.push(i.caption_end),p=we(we({},p),o.caption_end)),y&&(m.push(i.caption_between),p=we(we({},p),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:tJ;return d.jsxs("div",{className:m.join(" "),style:p,children:[d.jsx(x,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(WJ,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function YJ(t){var e=Je(),n=e.classNames,r=e.styles;return d.jsx("div",{className:n.months,style:r.months,children:t.children})}function XJ(t){var e,n,r=t.initialProps,s=Je(),i=O_(),o=md(),a=h.useState(!1),l=a[0],c=a[1];h.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var m=we(we({},s.styles.root),s.style),p=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var x;return we(we({},v),(x={},x[y]=r[y],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:YJ;return d.jsx("div",we({className:f.join(" "),style:m,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:d.jsx(g,{children:o.displayMonths.map(function(v,y){return d.jsx(QJ,{displayIndex:y,displayMonth:v},y)})})}))}function ZJ(t){var e=t.children,n=EZ(t,["children"]);return d.jsx(BZ,{initialProps:n,children:d.jsx(XZ,{children:d.jsx(NJ,{initialProps:n,children:d.jsx(aJ,{initialProps:n,children:d.jsx(uJ,{initialProps:n,children:d.jsx(yJ,{children:d.jsx(RJ,{children:e})})})})})})})}function JJ(t){return d.jsx(ZJ,we({},t,{children:d.jsx(XJ,{initialProps:t})}))}function aD({className:t,classNames:e,showOutsideDays:n=!0,...r}){return d.jsx(JJ,{showOutsideDays:n,className:pe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(Xv({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(Xv({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>d.jsx(h4,{className:"h-4 w-4"}),IconRight:({...s})=>d.jsx(Fw,{className:"h-4 w-4"})},...r})}aD.displayName="Calendar";var j_="Popover",[lD,Dee]=Os(j_,[ro]),gd=ro(),[eee,co]=lD(j_),cD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=gd(e),l=h.useRef(null),[c,f]=h.useState(!1),[m=!1,p]=Ps({prop:r,defaultProp:s,onChange:i});return d.jsx(Xw,{...a,children:d.jsx(eee,{scope:e,contentId:xr(),triggerRef:l,open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>f(!0),[]),onCustomAnchorRemove:h.useCallback(()=>f(!1),[]),modal:o,children:n})})};cD.displayName=j_;var uD="PopoverAnchor",tee=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=co(uD,n),i=gd(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(Ku,{...i,...r,ref:e})});tee.displayName=uD;var dD="PopoverTrigger",hD=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=co(dD,n),i=gd(n),o=Oe(e,s.triggerRef),a=d.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vD(s.open),...r,ref:o,onClick:ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(Ku,{asChild:!0,...i,children:a})});hD.displayName=dD;var V_="PopoverPortal",[nee,ree]=lD(V_,{forceMount:void 0}),fD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=co(V_,e);return d.jsx(nee,{scope:e,forceMount:n,children:d.jsx(Tn,{present:n||i.open,children:d.jsx(jl,{asChild:!0,container:s,children:r})})})};fD.displayName=V_;var Ml="PopoverContent",pD=h.forwardRef((t,e)=>{const n=ree(Ml,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=co(Ml,t.__scopePopover);return d.jsx(Tn,{present:r||i.open,children:i.modal?d.jsx(see,{...s,ref:e}):d.jsx(iee,{...s,ref:e})})});pD.displayName=Ml;var see=h.forwardRef((t,e)=>{const n=co(Ml,t.__scopePopover),r=h.useRef(null),s=Oe(e,r),i=h.useRef(!1);return h.useEffect(()=>{const o=r.current;if(o)return Fp(o)},[]),d.jsx(Yu,{as:Ts,allowPinchZoom:!0,children:d.jsx(mD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ne(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),iee=h.forwardRef((t,e)=>{const n=co(Ml,t.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return d.jsx(mD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),mD=h.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,...m}=t,p=co(Ml,n),g=gd(n);return Dp(),d.jsx(Gu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(na,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:d.jsx(Ip,{"data-state":vD(p.open),role:"dialog",id:p.contentId,...g,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gD="PopoverClose",oee=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=co(gD,n);return d.jsx(me.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});oee.displayName=gD;var aee="PopoverArrow",lee=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gd(n);return d.jsx(kp,{...s,...r,ref:e})});lee.displayName=aee;function vD(t){return t?"open":"closed"}var cee=cD,uee=hD,dee=fD,yD=pD;const hee=cee,fee=uee,wD=h.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>d.jsx(dee,{children:d.jsx(yD,{ref:s,align:e,sideOffset:n,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));wD.displayName=yD.displayName;const pee=({vetId:t,vetName:e,specialties:n})=>{const[r,s]=h.useState(void 0),[i,o]=h.useState(void 0),[a,l]=h.useState(void 0),[c,f]=h.useState(""),[m,p]=h.useState(""),[g,v]=h.useState(""),[y,x]=h.useState(!1),E=io(),{toast:_}=no(),b=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","15:00","15:30","16:00","16:30","17:00"],I=k=>{k.preventDefault(),x(!0),setTimeout(()=>{_({title:"Cita agendada correctamente",description:`Se ha agendado tu cita con ${e} para el ${r?Un(r,"PPPP",{locale:Ua}):""} a las ${i}`}),x(!1),E("/appointments")},1500)};return d.jsxs(Xi,{className:"max-w-md w-full mx-auto",children:[d.jsxs(Rl,{children:[d.jsx(Al,{children:"Agendar cita"}),d.jsxs(Ru,{children:["Completa el formulario para agendar una cita con ",e]})]}),d.jsx(Zi,{children:d.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"specialty",children:"Especialidad"}),d.jsxs(Dg,{value:a,onValueChange:l,required:!0,children:[d.jsx($h,{id:"specialty",children:d.jsx(jg,{placeholder:"Selecciona una especialidad"})}),d.jsx(zh,{children:n.map(k=>d.jsx(us,{value:k,children:k},k))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{children:"Fecha"}),d.jsxs(hee,{children:[d.jsx(fee,{asChild:!0,children:d.jsxs(ze,{variant:"outline",className:pe("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[d.jsx(Uo,{className:"mr-2 h-4 w-4"}),r?Un(r,"PPP",{locale:Ua}):d.jsx("span",{children:"Selecciona una fecha"})]})}),d.jsx(wD,{className:"w-auto p-0",children:d.jsx(aD,{mode:"single",selected:r,onSelect:s,initialFocus:!0,disabled:k=>k<new Date||k.getDay()===0||k.getDay()===6})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"time",children:"Hora"}),d.jsxs(Dg,{value:i,onValueChange:o,required:!0,children:[d.jsx($h,{id:"time",children:d.jsx(jg,{placeholder:"Selecciona una hora"})}),d.jsx(zh,{children:b.map(k=>d.jsx(us,{value:k,children:k},k))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"pet-name",children:"Nombre de la mascota"}),d.jsx(yr,{id:"pet-name",value:c,onChange:k=>f(k.target.value),placeholder:"Ingresa el nombre de tu mascota",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"pet-type",children:"Tipo de mascota"}),d.jsxs(Dg,{value:m,onValueChange:p,required:!0,children:[d.jsx($h,{id:"pet-type",children:d.jsx(jg,{placeholder:"Selecciona el tipo de mascota"})}),d.jsxs(zh,{children:[d.jsx(us,{value:"perro",children:"Perro"}),d.jsx(us,{value:"gato",children:"Gato"}),d.jsx(us,{value:"ave",children:"Ave"}),d.jsx(us,{value:"roedor",children:"Roedor"}),d.jsx(us,{value:"reptil",children:"Reptil"}),d.jsx(us,{value:"otro",children:"Otro"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ot,{htmlFor:"reason",children:"Motivo de la consulta"}),d.jsx(fO,{id:"reason",value:g,onChange:k=>v(k.target.value),placeholder:"Describe brevemente el motivo de la consulta",required:!0})]})]})}),d.jsx(um,{children:d.jsx(ze,{type:"submit",className:"w-full",disabled:y||!r||!i||!a||!c||!m,onClick:I,children:y?"Procesando...":"Confirmar cita"})})]})},mee={1:{id:"1",name:"Dra. María González",specialty:"Cardiología",image:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?q=80&w=2070&auto=format&fit=crop",coverImage:"https://images.unsplash.com/photo-1628009368231-7bb7cfcb0def?q=80&w=2070&auto=format&fit=crop",rating:4.9,reviewCount:124,location:"Clínica Veterinaria PetCare, Madrid",address:"Calle Principal 123, Madrid, España",availability:"Disponible hoy",phone:"+34 123 456 789",email:"maria.gonzalez@petdoc.com",website:"www.petcare-madrid.com",bio:"La Dra. María González es especialista en Cardiología Veterinaria con más de 10 años de experiencia en el diagnóstico y tratamiento de enfermedades cardiovasculares en animales de compañía.",education:["Doctorado en Medicina Veterinaria, Universidad Complutense de Madrid","Especialidad en Cardiología Veterinaria, European College of Veterinary Internal Medicine","Certificación en Ecocardiografía Avanzada"],languages:["Español","Inglés","Francés"],services:["Ecocardiografía","Electrocardiograma (ECG)","Holter 24 horas","Medición de presión arterial","Tratamiento de insuficiencia cardíaca","Manejo de cardiopatías congénitas"],reviews:[{id:"r1",author:"Carlos Pérez",rating:5,date:"15/05/2023",content:"Excelente profesional...",helpful:24,pet:"Perro - Labrador"}],prices:[{service:"Consulta inicial",price:"60€"},{service:"Ecocardiografía",price:"120€"}]},2:{id:"2",name:"Dr. Carlos Rodríguez",specialty:"Dermatología",image:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?q=80&w=2070&auto=format&fit=crop",coverImage:"https://images.unsplash.com/photo-1628009368231-7bb7cfcb0def?q=80&w=2070&auto=format&fit=crop",rating:4.8,reviewCount:98,location:"Hospital Veterinario San Martín, Barcelona",address:"Av. Central 456, Barcelona, España",availability:"Disponible mañana",phone:"+34 987 654 321",email:"carlos.rodriguez@petdoc.com",website:"www.hospitalveterinario-sanmartin.com",bio:"Especialista en el diagnóstico y tratamiento de alergias, infecciones cutáneas y enfermedades autoinmunes.",education:["Licenciatura en Medicina Veterinaria, Universidad Autónoma de Barcelona","Diplomado en Dermatología Veterinaria, European College of Veterinary Dermatology"],languages:["Español","Inglés","Catalán"],services:["Diagnóstico y tratamiento de alergias","Biopsias cutáneas"],reviews:[],prices:[{service:"Consulta dermatológica",price:"65€"}]},3:{id:"3",name:"Dra. Laura Martínez",specialty:"Neurología",image:"https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2068&auto=format&fit=crop",coverImage:"https://images.unsplash.com/photo-1628009368231-7bb7cfcb0def?q=80&w=2070&auto=format&fit=crop",rating:4.7,reviewCount:87,location:"Centro Neurológico Veterinario, Valencia",address:"Plaza Mayor 78, Valencia, España",availability:"Disponible hoy",phone:"+34 555 123 456",email:"laura.martinez@petdoc.com",website:"www.neuroveterinaria.es",bio:"Especializada en el diagnóstico y tratamiento de enfermedades neurológicas en pequeños animales.",education:["Doctora en Medicina Veterinaria, Universidad de Valencia"],languages:["Español","Inglés","Neerlandés"],services:["Evaluación neurológica completa"],reviews:[],prices:[{service:"Consulta neurológica",price:"75€"}]}},gee=()=>{const{id:t}=Ok(),e=t?mee[t]:null;return e?d.jsx(pee,{vetId:e.id,vetName:e.name,specialties:[e.specialty]}):d.jsx(Fk,{to:"/not-found"})},vee=()=>{const[t,e]=h.useState([]);return h.useEffect(()=>{(async()=>{const s=(await i_(am(ud,"applications"))).docs.map(i=>({id:i.id,...i.data()}));e(s)})()},[]),d.jsxs("div",{className:"container py-12",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Solicitudes de Profesionales"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(n=>d.jsxs(Xi,{children:[d.jsxs(Rl,{children:[d.jsx(Al,{children:n.fullName}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.clinicName," - ",n.city]})]}),d.jsxs(Zi,{className:"space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",n.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Teléfono:"})," ",n.phone]}),d.jsx("p",{children:d.jsx("strong",{children:"Especialidades:"})}),d.jsx("div",{className:"flex flex-wrap gap-2",children:n.specialty.map((r,s)=>d.jsx($o,{variant:"outline",children:r},s))}),d.jsxs("p",{children:[d.jsx("strong",{children:"Experiencia:"})," ",n.experience]}),d.jsx("a",{href:n.docsLink,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"Ver documentos"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado:"})," ",n.status]}),d.jsx(ze,{variant:"outline",className:"mt-2",children:"Aprobar"})]})]},n.id))})]})},yee=new R5,wee=()=>{var t;return d.jsx(N5,{client:yee,children:d.jsxs(a5,{children:[d.jsx(oF,{}),d.jsx(OF,{}),d.jsx(P3,{children:d.jsxs(_3,{children:[d.jsx(vn,{path:"/",element:d.jsx(AK,{})}),d.jsx(vn,{path:"/map",element:d.jsx(IQ,{})}),d.jsx(vn,{path:"/vet/:id",element:d.jsx(NQ,{})}),d.jsx(vn,{path:"/search",element:d.jsx(eY,{})}),d.jsx(vn,{path:"/login",element:d.jsx(rY,{})}),d.jsx(vn,{path:"/register",element:d.jsx(sY,{})}),d.jsx(vn,{path:"/profile",element:d.jsx(KX,{})}),d.jsx(vn,{path:"/appointments",element:d.jsx(AS,{})}),d.jsx(vn,{path:"/book/:id",element:d.jsx(AS,{})}),d.jsx(vn,{path:"/join-professional",element:d.jsx(qX,{})}),d.jsx(vn,{path:"/appointment/:id",element:d.jsx(gee,{})}),d.jsx(vn,{path:"/admin",element:((t=kl.currentUser)==null?void 0:t.email)===ky?d.jsx(vee,{}):d.jsx(Fk,{to:"/"})}),d.jsx(vn,{path:"*",element:d.jsx(NK,{})})]})})]})})};aI(document.getElementById("root")).render(d.jsx(wee,{}));
